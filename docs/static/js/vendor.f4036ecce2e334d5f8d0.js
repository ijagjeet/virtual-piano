webpackJsonp([0],[function(t,e,n){var r=n(2),i=n(22),o=n(14),a=n(15),s=n(23),u=function(t,e,n){var c,l,h,f,p=t&u.F,d=t&u.G,v=t&u.S,m=t&u.P,g=t&u.B,y=d?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,_=d?i:i[e]||(i[e]={}),b=_.prototype||(_.prototype={});d&&(n=e);for(c in n)l=!p&&y&&void 0!==y[c],h=(l?y:n)[c],f=g&&l?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,y&&a(y,c,h,t&u.U),_[c]!=h&&o(_,c,f),m&&b[c]!=h&&(b[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(71)("wks"),i=n(51),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(25),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(182),o=n(30),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=1,i=e[0],o=e.length;if("function"==typeof i)return i.apply(null,e.slice(1));if("string"==typeof i){for(var a=String(i).replace(m,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch(t){return"[Circular]"}break;default:return t}}),s=e[r];r<o;s=e[++r])a+=" "+s;return a}return i}function i(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}function o(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!i(e)||"string"!=typeof t||t))}function a(t,e,n){function r(t){i.push.apply(i,t),++o===a&&n(i)}var i=[],o=0,a=t.length;t.forEach(function(t){e(t,r)})}function s(t,e,n){function r(a){if(a&&a.length)return void n(a);var s=i;i+=1,s<o?e(t[s],r):n([])}var i=0,o=t.length;r([])}function u(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n])}),e}function c(t,e,n,r){if(e.first){return s(u(t),n,r)}var i=e.firstFields||[];!0===i&&(i=Object.keys(t));var o=Object.keys(t),c=o.length,l=0,h=[],f=function(t){h.push.apply(h,t),++l===c&&r(h)};o.forEach(function(e){var r=t[e];-1!==i.indexOf(e)?s(r,n,f):a(r,n,f)})}function l(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function h(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===(void 0===r?"undefined":v()(r))&&"object"===v()(t[n])?t[n]=p()({},t[n],r):t[n]=r}return t}n.d(e,"c",function(){return g}),e.e=r,e.f=o,e.b=c,e.d=l,e.a=h;var f=n(163),p=n.n(f),d=n(75),v=n.n(d),m=/%[sdj%]/g,g=function(){}},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,n){function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===Ar.call(t)}function l(t){return"[object RegExp]"===Ar.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===Ar?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function g(t,e){return Or.call(t,e)}function y(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function _(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function b(t,e){return t.bind(e)}function w(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function x(t,e){for(var n in e)t[n]=e[n];return t}function E(t){for(var e={},n=0;n<t.length;n++)t[n]&&x(e,t[n]);return e}function T(t,e,n){}function S(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return S(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(n){return S(t[n],e[n])})}catch(t){return!1}}function M(t,e){for(var n=0;n<t.length;n++)if(S(t[n],e))return n;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function A(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function I(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function O(t){if(!Gr.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function N(t){return"function"==typeof t&&/native code/.test(t.toString())}function R(t){fi.push(t),hi.target=t}function P(){fi.pop(),hi.target=fi[fi.length-1]}function L(t){return new pi(void 0,void 0,void 0,String(t))}function D(t){var e=new pi(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}function k(t){_i=t}function F(t,e){t.__proto__=e}function U(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];I(t,o,e[o])}}function j(t,e){if(u(t)&&!(t instanceof pi)){var n;return g(t,"__ob__")&&t.__ob__ instanceof bi?n=t.__ob__:_i&&!ai()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new bi(t)),e&&n&&n.vmCount++,n}}function B(t,e,n,r,i){var o=new hi,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&j(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return hi.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&H(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&j(e),o.notify())}})}}function z(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(B(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function V(t,e){if(Array.isArray(t)&&h(e))return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||g(t,e)&&(delete t[e],n&&n.dep.notify())}function H(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&H(e)}function G(t,e){if(!e)return t;for(var n,r,i,o=ui?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],g(t,n)?r!==i&&c(r)&&c(i)&&G(r,i):z(t,n,i));return t}function W(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?G(r,i):i}:e?t?function(){return G("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function q(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Y(n):n}function Y(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function X(t,e,n,r){var i=Object.create(t||null);return e?x(i,e):i}function $(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o=Rr(i),a[o]={type:null});else if(c(n))for(var s in n)i=n[s],o=Rr(s),a[o]=c(i)?i:{type:i};t.props=a}}function Q(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?x({from:o},a):{from:a}}}}function K(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function Z(t,e,n){function r(r){var i=wi[r]||Ei;s[r]=i(t[r],e[r],n,r)}if("function"==typeof e&&(e=e.options),$(e,n),Q(e,n),K(e),!e._base&&(e.extends&&(t=Z(t,e.extends,n)),e.mixins))for(var i=0,o=e.mixins.length;i<o;i++)t=Z(t,e.mixins[i],n);var a,s={};for(a in t)r(a);for(a in e)g(t,a)||r(a);return s}function J(t,e,n,r){if("string"==typeof n){var i=t[e];if(g(i,n))return i[n];var o=Rr(n);if(g(i,o))return i[o];var a=Pr(o);if(g(i,a))return i[a];return i[n]||i[o]||i[a]}}function tt(t,e,n,r){var i=e[t],o=!g(n,t),a=n[t],s=it(Boolean,i.type);if(s>-1)if(o&&!g(i,"default"))a=!1;else if(""===a||a===Dr(t)){var u=it(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=et(r,i,t);var c=_i;k(!0),j(a),k(c)}return a}function et(t,e,n){if(g(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==nt(e.type)?r.call(t):r}}function nt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function rt(t,e){return nt(t)===nt(e)}function it(t,e){if(!Array.isArray(e))return rt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(rt(e[n],t))return n;return-1}function ot(t,e,n){R();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(t){st(t,r,"errorCaptured hook")}}st(t,e,n)}finally{P()}}function at(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return ot(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){ot(t,r,i)}return o}function st(t,e,n){if(Vr.errorHandler)try{return Vr.errorHandler.call(null,t,e,n)}catch(e){e!==t&&ut(e,null,"config.errorHandler")}ut(t,e,n)}function ut(t,e,n){if(!qr&&!Yr||"undefined"==typeof console)throw t;console.error(t)}function ct(){Mi=!1;var t=Si.slice(0);Si.length=0;for(var e=0;e<t.length;e++)t[e]()}function lt(t,e){var n;if(Si.push(function(){if(t)try{t.call(e)}catch(t){ot(t,e,"nextTick")}else n&&n(e)}),Mi||(Mi=!0,xi()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function ht(t){ft(t,Ni),Ni.clear()}function ft(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof pi)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)ft(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)ft(t[r[n]],e)}}function pt(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return at(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)at(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function dt(t,e,n,i,a,s){var u,c,l,h;for(u in t)c=t[u],l=e[u],h=Ri(u),r(c)||(r(l)?(r(c.fns)&&(c=t[u]=pt(c,s)),o(h.once)&&(c=t[u]=a(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)r(t[u])&&(h=Ri(u),i(h.name,e[u],h.capture))}function vt(t,e,n){function a(){n.apply(this,arguments),m(s.fns,a)}t instanceof pi&&(t=t.data.hook||(t.data.hook={}));var s,u=t[e];r(u)?s=pt([a]):i(u.fns)&&o(u.merged)?(s=u,s.fns.push(a)):s=pt([u,a]),s.merged=!0,t[e]=s}function mt(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var l=Dr(c);gt(a,u,c,l,!0)||gt(a,s,c,l,!1)}return a}}function gt(t,e,n,r,o){if(i(e)){if(g(e,n))return t[n]=e[n],o||delete e[n],!0;if(g(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function yt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function _t(t){return s(t)?[L(t)]:Array.isArray(t)?wt(t):void 0}function bt(t){return i(t)&&i(t.text)&&a(t.isComment)}function wt(t,e){var n,a,u,c,l=[];for(n=0;n<t.length;n++)a=t[n],r(a)||"boolean"==typeof a||(u=l.length-1,c=l[u],Array.isArray(a)?a.length>0&&(a=wt(a,(e||"")+"_"+n),bt(a[0])&&bt(c)&&(l[u]=L(c.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?bt(c)?l[u]=L(c.text+a):""!==a&&l.push(L(a)):bt(a)&&bt(c)?l[u]=L(c.text+a.text):(o(t._isVList)&&i(a.tag)&&r(a.key)&&i(e)&&(a.key="__vlist"+e+"_"+n+"__"),l.push(a)));return l}function xt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function Et(t){var e=Tt(t.$options.inject,t);e&&(k(!1),Object.keys(e).forEach(function(n){B(t,n,e[n])}),k(!0))}function Tt(t,e){if(t){for(var n=Object.create(null),r=ui?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&g(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}}}return n}}function St(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Mt)&&delete n[c];return n}function Mt(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ct(t,e,n){var r,i=Object.keys(e).length>0,o=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==Cr&&a===n.$key&&!i&&!n.$hasNormal)return n;r={};for(var s in t)t[s]&&"$"!==s[0]&&(r[s]=At(e,s,t[s]))}else r={};for(var u in e)u in r||(r[u]=It(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),I(r,"$stable",o),I(r,"$key",a),I(r,"$hasNormal",i),r}function At(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:_t(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function It(t,e){return function(){return t[e]}}function Ot(t,e){var n,r,o,a,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ui&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),l=c.next();!l.done;)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=e(t[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Nt(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=x(x({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Rt(t){return J(this.$options,"filters",t,!0)||Ur}function Pt(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Lt(t,e,n,r,i){var o=Vr.keyCodes[e]||n;return i&&r&&!Vr.keyCodes[e]?Pt(i,r):o?Pt(o,t):r?Dr(r)!==e:void 0}function Dt(t,e,n,r,i){if(n)if(u(n)){Array.isArray(n)&&(n=E(n));var o;for(var a in n)!function(a){if("class"===a||"style"===a||Ir(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||Vr.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=Rr(a),c=Dr(a);if(!(u in o||c in o)&&(o[a]=n[a],i)){(t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}}}(a)}else;return t}function kt(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ut(r,"__static__"+t,!1),r)}function Ft(t,e,n){return Ut(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ut(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&jt(t[r],e+"_"+r,n);else jt(t,e,n)}function jt(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Bt(t,e){if(e)if(c(e)){var n=t.on=t.on?x({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function zt(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?zt(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Vt(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ht(t,e){return"string"==typeof t?e+t:t}function Gt(t){t._o=Ft,t._n=d,t._s=p,t._l=Ot,t._t=Nt,t._q=S,t._i=M,t._m=kt,t._f=Rt,t._k=Lt,t._b=Dt,t._v=L,t._e=vi,t._u=zt,t._g=Bt,t._d=Vt,t._p=Ht}function Wt(t,e,n,r,i){var a,s=this,u=i.options;g(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var c=o(u._compiled),l=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||Cr,this.injections=Tt(u.inject,r),this.slots=function(){return s.$slots||Ct(t.scopedSlots,s.$slots=St(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ct(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ct(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var o=te(a,t,e,n,i,l);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,r){return te(a,t,e,n,r,l)}}function qt(t,e,n,r,o){var a=t.options,s={},u=a.props;if(i(u))for(var c in u)s[c]=tt(c,u,e||Cr);else i(n.attrs)&&Xt(s,n.attrs),i(n.props)&&Xt(s,n.props);var l=new Wt(n,s,o,r,t),h=a.render.call(null,l._c,l);if(h instanceof pi)return Yt(h,n,l.parent,a,l);if(Array.isArray(h)){for(var f=_t(h)||[],p=new Array(f.length),d=0;d<f.length;d++)p[d]=Yt(f[d],n,l.parent,a,l);return p}}function Yt(t,e,n,r,i){var o=D(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Xt(t,e){for(var n in e)t[Rr(n)]=e[n]}function $t(t,e,n,a,s){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var l;if(r(t.cid)&&(l=t,void 0===(t=se(l,c))))return ae(l,e,n,a,s);e=e||{},Ve(t),i(e.model)&&Jt(t.options,e);var h=mt(e,t,s);if(o(t.options.functional))return qt(t,h,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}Kt(e);var d=t.options.name||s;return new pi("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:s,children:a},l)}}}function Qt(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function Kt(t){for(var e=t.hook||(t.hook={}),n=0;n<Di.length;n++){var r=Di[n],i=e[r],o=Li[r];i===o||i&&i._merged||(e[r]=i?Zt(o,i):o)}}function Zt(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Jt(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}function te(t,e,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=Fi),ee(t,e,n,r,i)}function ee(t,e,n,r,o){if(i(n)&&i(n.__ob__))return vi();if(i(n)&&i(n.is)&&(e=n.is),!e)return vi();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Fi?r=_t(r):o===ki&&(r=yt(r));var a,s;if("string"==typeof e){var u;s=t.$vnode&&t.$vnode.ns||Vr.getTagNamespace(e),a=Vr.isReservedTag(e)?new pi(Vr.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=J(t.$options,"components",e))?new pi(e,n,r,void 0,void 0,t):$t(u,n,t,r,e)}else a=$t(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(s)&&ne(a,s),i(n)&&re(n),a):vi()}function ne(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&ne(u,e,n)}}function re(t){u(t.style)&&ht(t.style),u(t.class)&&ht(t.class)}function ie(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=St(e._renderChildren,r),t.$scopedSlots=Cr,t._c=function(e,n,r,i){return te(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return te(t,e,n,r,i,!0)};var i=n&&n.data;B(t,"$attrs",i&&i.attrs||Cr,null,!0),B(t,"$listeners",e._parentListeners||Cr,null,!0)}function oe(t,e){return(t.__esModule||ui&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function ae(t,e,n,r,i){var o=vi();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function se(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=Ui;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",function(){return m(a,n)});var h=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=C(function(n){t.resolved=oe(n,e),s?a.length=0:h(!0)}),d=C(function(e){i(t.errorComp)&&(t.error=!0,h(!0))}),v=t(p,d);return u(v)&&(f(v)?r(t.resolved)&&v.then(p,d):f(v.component)&&(v.component.then(p,d),i(v.error)&&(t.errorComp=oe(v.error,e)),i(v.loading)&&(t.loadingComp=oe(v.loading,e),0===v.delay?t.loading=!0:c=setTimeout(function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))},v.delay||200)),i(v.timeout)&&(l=setTimeout(function(){l=null,r(t.resolved)&&d(null)},v.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function ue(t){return t.isComment&&t.asyncFactory}function ce(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||ue(n)))return n}}function le(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&de(t,e)}function he(t,e){Pi.$on(t,e)}function fe(t,e){Pi.$off(t,e)}function pe(t,e){var n=Pi;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function de(t,e,n){Pi=t,dt(e,n||{},he,fe,pe,t),Pi=void 0}function ve(t){var e=ji;return ji=t,function(){ji=e}}function me(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function ge(t,e,n){t.$el=e,t.$options.render||(t.$options.render=vi),xe(t,"beforeMount");var r;return r=function(){t._update(t._render(),n)},new Qi(t,r,T,{before:function(){t._isMounted&&!t._isDestroyed&&xe(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,xe(t,"mounted")),t}function ye(t,e,n,r,i){var o=r.data.scopedSlots,a=t.$scopedSlots,s=!!(o&&!o.$stable||a!==Cr&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),u=!!(i||t.$options._renderChildren||s);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data.attrs||Cr,t.$listeners=n||Cr,e&&t.$options.props){k(!1);for(var c=t._props,l=t.$options._propKeys||[],h=0;h<l.length;h++){var f=l[h],p=t.$options.props;c[f]=tt(f,p,e,t)}k(!0),t.$options.propsData=e}n=n||Cr;var d=t.$options._parentListeners;t.$options._parentListeners=n,de(t,n,d),u&&(t.$slots=St(i,r.context),t.$forceUpdate())}function _e(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function be(t,e){if(e){if(t._directInactive=!1,_e(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)be(t.$children[n]);xe(t,"activated")}}function we(t,e){if(!(e&&(t._directInactive=!0,_e(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)we(t.$children[n]);xe(t,"deactivated")}}function xe(t,e){R();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)at(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),P()}function Ee(){Wi=Bi.length=zi.length=0,Vi={},Hi=Gi=!1}function Te(){qi=Yi(),Gi=!0;var t,e;for(Bi.sort(function(t,e){return t.id-e.id}),Wi=0;Wi<Bi.length;Wi++)t=Bi[Wi],t.before&&t.before(),e=t.id,Vi[e]=null,t.run();var n=zi.slice(),r=Bi.slice();Ee(),Ce(n),Se(r),si&&Vr.devtools&&si.emit("flush")}function Se(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&xe(r,"updated")}}function Me(t){t._inactive=!1,zi.push(t)}function Ce(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,be(t[e],!0)}function Ae(t){var e=t.id;if(null==Vi[e]){if(Vi[e]=!0,Gi){for(var n=Bi.length-1;n>Wi&&Bi[n].id>t.id;)n--;Bi.splice(n+1,0,t)}else Bi.push(t);Hi||(Hi=!0,lt(Te))}}function Ie(t,e,n){Ki.get=function(){return this[e][n]},Ki.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ki)}function Oe(t){t._watchers=[];var e=t.$options;e.props&&Ne(t,e.props),e.methods&&Ue(t,e.methods),e.data?Re(t):j(t._data={},!0),e.computed&&Le(t,e.computed),e.watch&&e.watch!==ei&&je(t,e.watch)}function Ne(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||k(!1);for(var a in e)!function(o){i.push(o);var a=tt(o,e,n,t);B(r,o,a),o in t||Ie(t,"_props",o)}(a);k(!0)}function Re(t){var e=t.$options.data;e=t._data="function"==typeof e?Pe(e,t):e||{},c(e)||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&g(r,o)||A(o)||Ie(t,"_data",o)}j(e,!0)}function Pe(t,e){R();try{return t.call(e,e)}catch(t){return ot(t,e,"data()"),{}}finally{P()}}function Le(t,e){var n=t._computedWatchers=Object.create(null),r=ai();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new Qi(t,a||T,T,Zi)),i in t||De(t,i,o)}}function De(t,e,n){var r=!ai();"function"==typeof n?(Ki.get=r?ke(e):Fe(n),Ki.set=T):(Ki.get=n.get?r&&!1!==n.cache?ke(e):Fe(n.get):T,Ki.set=n.set||T),Object.defineProperty(t,e,Ki)}function ke(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),hi.target&&e.depend(),e.value}}function Fe(t){return function(){return t.call(this,this)}}function Ue(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?T:kr(e[n],t)}function je(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Be(t,n,r[i]);else Be(t,n,r)}}function Be(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function ze(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Ve(t){var e=t.options;if(t.super){var n=Ve(t.super);if(n!==t.superOptions){t.superOptions=n;var r=He(t);r&&x(t.extendOptions,r),e=t.options=Z(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function He(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Ge(t){this._init(t)}function We(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=w(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function qe(t){t.mixin=function(t){return this.options=Z(this.options,t),this}}function Ye(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Z(n.options,t),a.super=n,a.options.props&&Xe(a),a.options.computed&&$e(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Br.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=x({},a.options),i[r]=a,a}}function Xe(t){var e=t.options.props;for(var n in e)Ie(t.prototype,"_props",n)}function $e(t){var e=t.options.computed;for(var n in e)De(t.prototype,n,e[n])}function Qe(t){Br.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Ke(t){return t&&(t.Ctor.options.name||t.tag)}function Ze(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Je(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Ke(a.componentOptions);s&&!e(s)&&tn(n,o,r,i)}}}function tn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,m(n,e)}function en(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=nn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=nn(e,n.data));return rn(e.staticClass,e.class)}function nn(t,e){return{staticClass:on(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function rn(t,e){return i(t)||i(e)?on(t,an(e)):""}function on(t,e){return t?e?t+" "+e:t:e||""}function an(t){return Array.isArray(t)?sn(t):u(t)?un(t):"string"==typeof t?t:""}function sn(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=an(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function un(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function cn(t){return bo(t)?"svg":"math"===t?"math":void 0}function ln(t){if(!qr)return!0;if(wo(t))return!1;if(t=t.toLowerCase(),null!=xo[t])return xo[t];var e=document.createElement(t);return t.indexOf("-")>-1?xo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:xo[t]=/HTMLUnknownElement/.test(e.toString())}function hn(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fn(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function pn(t,e){return document.createElementNS(yo[t],e)}function dn(t){return document.createTextNode(t)}function vn(t){return document.createComment(t)}function mn(t,e,n){t.insertBefore(e,n)}function gn(t,e){t.removeChild(e)}function yn(t,e){t.appendChild(e)}function _n(t){return t.parentNode}function bn(t){return t.nextSibling}function wn(t){return t.tagName}function xn(t,e){t.textContent=e}function En(t,e){t.setAttribute(e,"")}function Tn(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?m(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}function Sn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Mn(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Mn(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Eo(r)&&Eo(o)}function Cn(t,e,n){var r,o,a={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(a[o]=r);return a}function An(t,e){(t.data.directives||e.data.directives)&&In(t,e)}function In(t,e){var n,r,i,o=t===Mo,a=e===Mo,s=On(t.data.directives,t.context),u=On(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Rn(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Rn(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Rn(c[n],"inserted",e,t)};o?vt(e,"insert",h):h()}if(l.length&&vt(e,"postpatch",function(){for(var n=0;n<l.length;n++)Rn(l[n],"componentUpdated",e,t)}),!o)for(n in s)u[n]||Rn(s[n],"unbind",t,t,a)}function On(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Io),n[Nn(i)]=i,i.def=J(e.$options,"directives",i.name,!0);return n}function Nn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Rn(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){ot(r,n.context,"directive "+t.name+" "+e+" hook")}}function Pn(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var o,a,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};i(c.__ob__)&&(c=e.data.attrs=x({},c));for(o in c)a=c[o],u[o]!==a&&Ln(s,o,a);(Qr||Zr)&&c.value!==u.value&&Ln(s,"value",c.value);for(o in u)r(c[o])&&(vo(o)?s.removeAttributeNS(po,mo(o)):co(o)||s.removeAttribute(o))}}function Ln(t,e,n){t.tagName.indexOf("-")>-1?Dn(t,e,n):fo(e)?go(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):co(e)?t.setAttribute(e,ho(e,n)):vo(e)?go(n)?t.removeAttributeNS(po,mo(e)):t.setAttributeNS(po,e,n):Dn(t,e,n)}function Dn(t,e,n){if(go(n))t.removeAttribute(e);else{if(Qr&&!Kr&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}function kn(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=en(e),u=n._transitionClasses;i(u)&&(s=on(s,an(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function Fn(t){if(i(t[Po])){var e=Qr?"change":"input";t[e]=[].concat(t[Po],t[e]||[]),delete t[Po]}i(t[Lo])&&(t.change=[].concat(t[Lo],t.change||[]),delete t[Lo])}function Un(t,e,n){var r=ro;return function i(){null!==e.apply(null,arguments)&&Bn(t,i,n,r)}}function jn(t,e,n,r){if(Do){var i=qi,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ro.addEventListener(t,e,ni?{capture:n,passive:r}:n)}function Bn(t,e,n,r){(r||ro).removeEventListener(t,e._wrapper||e,n)}function zn(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};ro=e.elm,Fn(n),dt(n,i,jn,Bn,Un,e.context),ro=void 0}}function Vn(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};i(u.__ob__)&&(u=e.data.domProps=x({},u));for(n in s)n in u||(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);Hn(a,c)&&(a.value=c)}else if("innerHTML"===n&&bo(a.tagName)&&r(a.innerHTML)){io=io||document.createElement("div"),io.innerHTML="<svg>"+o+"</svg>";for(var l=io.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(t){}}}}function Hn(t,e){return!t.composing&&("OPTION"===t.tagName||Gn(t,e)||Wn(t,e))}function Gn(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Wn(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return d(n)!==d(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}function qn(t){var e=Yn(t.style);return t.staticStyle?x(t.staticStyle,e):e}function Yn(t){return Array.isArray(t)?E(t):"string"==typeof t?Uo(t):t}function Xn(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=qn(i.data))&&x(r,n);(n=qn(t.data))&&x(r,n);for(var o=t;o=o.parent;)o.data&&(n=qn(o.data))&&x(r,n);return r}function $n(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},h=c||l,f=Yn(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?x({},f):f;var p=Xn(e,!0);for(s in h)r(p[s])&&zo(u,s,"");for(s in p)(a=p[s])!==h[s]&&zo(u,s,null==a?"":a)}}function Qn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Wo).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Kn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Wo).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Zn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&x(e,qo(t.name||"v")),x(e,t),e}return"string"==typeof t?qo(t):void 0}}function Jn(t){ta(function(){ta(t)})}function tr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Qn(t,e))}function er(t,e){t._transitionClasses&&m(t._transitionClasses,e),Kn(t,e)}function nr(t,e,n){var r=rr(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Xo?Ko:Jo,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}function rr(t,e){var n,r=window.getComputedStyle(t),i=(r[Qo+"Delay"]||"").split(", "),o=(r[Qo+"Duration"]||"").split(", "),a=ir(i,o),s=(r[Zo+"Delay"]||"").split(", "),u=(r[Zo+"Duration"]||"").split(", "),c=ir(s,u),l=0,h=0;return e===Xo?a>0&&(n=Xo,l=a,h=o.length):e===$o?c>0&&(n=$o,l=c,h=u.length):(l=Math.max(a,c),n=l>0?a>c?Xo:$o:null,h=n?n===Xo?o.length:u.length:0),{type:n,timeout:l,propCount:h,hasTransform:n===Xo&&ea.test(r[Qo+"Property"])}}function ir(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return or(e)+or(t[n])}))}function or(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ar(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Zn(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,s=o.type,c=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,v=o.appearActiveClass,m=o.beforeEnter,g=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,x=o.afterAppear,E=o.appearCancelled,T=o.duration,S=ji,M=ji.$vnode;M&&M.parent;)S=M.context,M=M.parent;var A=!S._isMounted||!t.isRootInsert;if(!A||w||""===w){var I=A&&f?f:c,O=A&&v?v:h,N=A&&p?p:l,R=A?b||m:m,P=A&&"function"==typeof w?w:g,L=A?x||y:y,D=A?E||_:_,k=d(u(T)?T.enter:T),F=!1!==a&&!Kr,U=cr(P),j=n._enterCb=C(function(){F&&(er(n,N),er(n,O)),j.cancelled?(F&&er(n,I),D&&D(n)):L&&L(n),n._enterCb=null});t.data.show||vt(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),P&&P(n,j)}),R&&R(n),F&&(tr(n,I),tr(n,O),Jn(function(){er(n,I),j.cancelled||(tr(n,N),U||(ur(k)?setTimeout(j,k):nr(n,s,j)))})),t.data.show&&(e&&e(),P&&P(n,j)),F||U||j()}}}function sr(t,e){function n(){E.cancelled||(!t.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[t.key]=t),p&&p(o),b&&(tr(o,l),tr(o,f),Jn(function(){er(o,l),E.cancelled||(tr(o,h),w||(ur(x)?setTimeout(E,x):nr(o,c,E)))})),v&&v(o,E),b||w||E())}var o=t.elm;i(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Zn(t.data.transition);if(r(a)||1!==o.nodeType)return e();if(!i(o._leaveCb)){var s=a.css,c=a.type,l=a.leaveClass,h=a.leaveToClass,f=a.leaveActiveClass,p=a.beforeLeave,v=a.leave,m=a.afterLeave,g=a.leaveCancelled,y=a.delayLeave,_=a.duration,b=!1!==s&&!Kr,w=cr(v),x=d(u(_)?_.leave:_),E=o._leaveCb=C(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[t.key]=null),b&&(er(o,h),er(o,f)),E.cancelled?(b&&er(o,l),g&&g(o)):(e(),m&&m(o)),o._leaveCb=null});y?y(n):n()}}function ur(t){return"number"==typeof t&&!isNaN(t)}function cr(t){if(r(t))return!1;var e=t.fns;return i(e)?cr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function lr(t,e){!0!==e.data.show&&ar(e)}function hr(t,e,n){fr(t,e,n),(Qr||Zr)&&setTimeout(function(){fr(t,e,n)},0)}function fr(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=M(r,dr(a))>-1,a.selected!==o&&(a.selected=o);else if(S(dr(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function pr(t,e){return e.every(function(e){return!S(e,t)})}function dr(t){return"_value"in t?t._value:t.value}function vr(t){t.target.composing=!0}function mr(t){t.target.composing&&(t.target.composing=!1,gr(t.target,"input"))}function gr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function yr(t){return!t.componentInstance||t.data&&t.data.transition?t:yr(t.componentInstance._vnode)}function _r(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?_r(ce(e.children)):t}function br(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[Rr(o)]=i[o];return e}function wr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function xr(t){for(;t=t.parent;)if(t.data.transition)return!0}function Er(t,e){return e.key===t.key&&e.tag===t.tag}function Tr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Sr(t){t.data.newPos=t.elm.getBoundingClientRect()}function Mr(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var Cr=Object.freeze({}),Ar=Object.prototype.toString,Ir=(v("slot,component",!0),v("key,ref,slot,slot-scope,is")),Or=Object.prototype.hasOwnProperty,Nr=/-(\w)/g,Rr=y(function(t){return t.replace(Nr,function(t,e){return e?e.toUpperCase():""})}),Pr=y(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Lr=/\B([A-Z])/g,Dr=y(function(t){return t.replace(Lr,"-$1").toLowerCase()}),kr=Function.prototype.bind?b:_,Fr=function(t,e,n){return!1},Ur=function(t){return t},jr="data-server-rendered",Br=["component","directive","filter"],zr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Vr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Fr,isReservedAttr:Fr,isUnknownElement:Fr,getTagNamespace:T,parsePlatformTagName:Ur,mustUseProp:Fr,async:!0,_lifecycleHooks:zr},Hr=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Gr=new RegExp("[^"+Hr.source+".$_\\d]"),Wr="__proto__"in{},qr="undefined"!=typeof window,Yr="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Xr=Yr&&WXEnvironment.platform.toLowerCase(),$r=qr&&window.navigator.userAgent.toLowerCase(),Qr=$r&&/msie|trident/.test($r),Kr=$r&&$r.indexOf("msie 9.0")>0,Zr=$r&&$r.indexOf("edge/")>0,Jr=($r&&$r.indexOf("android"),$r&&/iphone|ipad|ipod|ios/.test($r)||"ios"===Xr),ti=($r&&/chrome\/\d+/.test($r),$r&&/phantomjs/.test($r),$r&&$r.match(/firefox\/(\d+)/)),ei={}.watch,ni=!1;if(qr)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){ni=!0}}),window.addEventListener("test-passive",null,ri)}catch(t){}var ii,oi,ai=function(){return void 0===ii&&(ii=!qr&&!Yr&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),ii},si=qr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ui="undefined"!=typeof Symbol&&N(Symbol)&&"undefined"!=typeof Reflect&&N(Reflect.ownKeys);oi="undefined"!=typeof Set&&N(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ci=T,li=0,hi=function(){this.id=li++,this.subs=[]};hi.prototype.addSub=function(t){this.subs.push(t)},hi.prototype.removeSub=function(t){m(this.subs,t)},hi.prototype.depend=function(){hi.target&&hi.target.addDep(this)},hi.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},hi.target=null;var fi=[],pi=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},di={child:{configurable:!0}};di.child.get=function(){return this.componentInstance},Object.defineProperties(pi.prototype,di);var vi=function(t){void 0===t&&(t="");var e=new pi;return e.text=t,e.isComment=!0,e},mi=Array.prototype,gi=Object.create(mi);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=mi[t];I(gi,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var yi=Object.getOwnPropertyNames(gi),_i=!0,bi=function(t){this.value=t,this.dep=new hi,this.vmCount=0,I(t,"__ob__",this),Array.isArray(t)?(Wr?F(t,gi):U(t,gi,yi),this.observeArray(t)):this.walk(t)};bi.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)B(t,e[n])},bi.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)j(t[e])};var wi=Vr.optionMergeStrategies;wi.data=function(t,e,n){return n?W(t,e,n):e&&"function"!=typeof e?t:W(t,e)},zr.forEach(function(t){wi[t]=q}),Br.forEach(function(t){wi[t+"s"]=X}),wi.watch=function(t,e,n,r){if(t===ei&&(t=void 0),e===ei&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};x(i,t);for(var o in e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},wi.props=wi.methods=wi.inject=wi.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return x(i,t),e&&x(i,e),i},wi.provide=W;var xi,Ei=function(t,e){return void 0===e?t:e},Ti=!1,Si=[],Mi=!1;if("undefined"!=typeof Promise&&N(Promise)){var Ci=Promise.resolve();xi=function(){Ci.then(ct),Jr&&setTimeout(T)},Ti=!0}else if(Qr||"undefined"==typeof MutationObserver||!N(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())xi=void 0!==n&&N(n)?function(){n(ct)}:function(){setTimeout(ct,0)};else{var Ai=1,Ii=new MutationObserver(ct),Oi=document.createTextNode(String(Ai));Ii.observe(Oi,{characterData:!0}),xi=function(){Ai=(Ai+1)%2,Oi.data=String(Ai)},Ti=!0}var Ni=new oi,Ri=y(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});Gt(Wt.prototype);var Pi,Li={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Li.prepatch(n,n)}else{(t.componentInstance=Qt(t,ji)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;ye(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,xe(n,"mounted")),t.data.keepAlive&&(e._isMounted?Me(n):be(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?we(e,!0):e.$destroy())}},Di=Object.keys(Li),ki=1,Fi=2,Ui=null,ji=null,Bi=[],zi=[],Vi={},Hi=!1,Gi=!1,Wi=0,qi=0,Yi=Date.now;if(qr&&!Qr){var Xi=window.performance;Xi&&"function"==typeof Xi.now&&Yi()>document.createEvent("Event").timeStamp&&(Yi=function(){return Xi.now()})}var $i=0,Qi=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++$i,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new oi,this.newDepIds=new oi,this.expression="","function"==typeof e?this.getter=e:(this.getter=O(e),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()};Qi.prototype.get=function(){R(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;ot(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ht(t),P(),this.cleanupDeps()}return t},Qi.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Qi.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Qi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ae(this)},Qi.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){ot(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Qi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Qi.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Qi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Ki={enumerable:!0,configurable:!0,get:T,set:T},Zi={lazy:!0},Ji=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Ji++,e._isVue=!0,t&&t._isComponent?ze(e,t):e.$options=Z(Ve(e.constructor),t||{},e),e._renderProxy=e,e._self=e,me(e),le(e),ie(e),xe(e,"beforeCreate"),Et(e),Oe(e),xt(e),xe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ge),function(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=z,t.prototype.$delete=V,t.prototype.$watch=function(t,e,n){var r=this;if(c(e))return Be(r,t,e,n);n=n||{},n.user=!0;var i=new Qi(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){ot(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Ge),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var a,s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?w(n):n;for(var r=w(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)at(n[o],e,r,e,i)}return e}}(Ge),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=ve(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){xe(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),xe(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Ge),function(t){Gt(t.prototype),t.prototype.$nextTick=function(t){return lt(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&(t.$scopedSlots=Ct(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;var i;try{Ui=t,i=n.call(t._renderProxy,t.$createElement)}catch(e){ot(e,t,"render"),i=t._vnode}finally{Ui=null}return Array.isArray(i)&&1===i.length&&(i=i[0]),i instanceof pi||(i=vi()),i.parent=r,i}}(Ge);var to=[String,RegExp,Array],eo={name:"keep-alive",abstract:!0,props:{include:to,exclude:to,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)tn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Je(t,function(t){return Ze(e,t)})}),this.$watch("exclude",function(e){Je(t,function(t){return!Ze(e,t)})})},render:function(){var t=this.$slots.default,e=ce(t),n=e&&e.componentOptions;if(n){var r=Ke(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Ze(o,r))||a&&r&&Ze(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,m(c,l),c.push(l)):(u[l]=e,c.push(l),this.max&&c.length>parseInt(this.max)&&tn(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},no={KeepAlive:eo};!function(t){var e={};e.get=function(){return Vr},Object.defineProperty(t,"config",e),t.util={warn:ci,extend:x,mergeOptions:Z,defineReactive:B},t.set=z,t.delete=V,t.nextTick=lt,t.observable=function(t){return j(t),t},t.options=Object.create(null),Br.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,x(t.options.components,no),We(t),qe(t),Ye(t),Qe(t)}(Ge),Object.defineProperty(Ge.prototype,"$isServer",{get:ai}),Object.defineProperty(Ge.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ge,"FunctionalRenderContext",{value:Wt}),Ge.version="2.6.11";var ro,io,oo,ao=v("style,class"),so=v("input,textarea,option,select,progress"),uo=function(t,e,n){return"value"===n&&so(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},co=v("contenteditable,draggable,spellcheck"),lo=v("events,caret,typing,plaintext-only"),ho=function(t,e){return go(e)||"false"===e?"false":"contenteditable"===t&&lo(e)?e:"true"},fo=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),po="http://www.w3.org/1999/xlink",vo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},mo=function(t){return vo(t)?t.slice(6,t.length):""},go=function(t){return null==t||!1===t},yo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},_o=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),bo=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),wo=function(t){return _o(t)||bo(t)},xo=Object.create(null),Eo=v("text,number,password,search,email,tel,url"),To=Object.freeze({createElement:fn,createElementNS:pn,createTextNode:dn,createComment:vn,insertBefore:mn,removeChild:gn,appendChild:yn,parentNode:_n,nextSibling:bn,tagName:wn,setTextContent:xn,setStyleScope:En}),So={create:function(t,e){Tn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Tn(t,!0),Tn(e))},destroy:function(t){Tn(t,!0)}},Mo=new pi("",{},[]),Co=["create","activate","update","remove","destroy"],Ao={create:An,update:An,destroy:function(t){An(t,Mo)}},Io=Object.create(null),Oo=[So,Ao],No={create:Pn,update:Pn},Ro={create:kn,update:kn},Po="__r",Lo="__c",Do=Ti&&!(ti&&Number(ti[1])<=53),ko={create:zn,update:zn},Fo={create:Vn,update:Vn},Uo=y(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),jo=/^--/,Bo=/\s*!important$/,zo=function(t,e,n){if(jo.test(e))t.style.setProperty(e,n);else if(Bo.test(n))t.style.setProperty(Dr(e),n.replace(Bo,""),"important");else{var r=Ho(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Vo=["Webkit","Moz","ms"],Ho=y(function(t){if(oo=oo||document.createElement("div").style,"filter"!==(t=Rr(t))&&t in oo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Vo.length;n++){var r=Vo[n]+e;if(r in oo)return r}}),Go={create:$n,update:$n},Wo=/\s+/,qo=y(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Yo=qr&&!Kr,Xo="transition",$o="animation",Qo="transition",Ko="transitionend",Zo="animation",Jo="animationend";Yo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Qo="WebkitTransition",Ko="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Zo="WebkitAnimation",Jo="webkitAnimationEnd"));var ta=qr?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},ea=/\b(transform|all)(,|$)/,na=qr?{create:lr,activate:lr,remove:function(t,e){!0!==t.data.show?sr(t,e):e()}}:{},ra=[No,Ro,ko,Fo,Go,na],ia=ra.concat(Oo),oa=function(t){function e(t){return new pi(N.tagName(t).toLowerCase(),{},[],void 0,t)}function n(t,e){function n(){0==--n.listeners&&a(t)}return n.listeners=e,n}function a(t){var e=N.parentNode(t);i(e)&&N.removeChild(e,t)}function u(t,e,n,r,a,s,u){if(i(t.elm)&&i(s)&&(t=s[u]=D(t)),t.isRootInsert=!a,!c(t,e,n,r)){var l=t.data,h=t.children,d=t.tag;i(d)?(t.elm=t.ns?N.createElementNS(t.ns,d):N.createElement(d,t),g(t),p(t,h,e),i(l)&&m(t,e),f(n,t.elm,r)):o(t.isComment)?(t.elm=N.createComment(t.text),f(n,t.elm,r)):(t.elm=N.createTextNode(t.text),f(n,t.elm,r))}}function c(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return l(t,e),f(n,t.elm,r),o(s)&&h(t,e,n,r),!0}}function l(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,d(t)?(m(t,e),g(t)):(Tn(t),e.push(t))}function h(t,e,n,r){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<I.activate.length;++o)I.activate[o](Mo,a);e.push(a);break}f(n,t.elm,r)}function f(t,e,n){i(t)&&(i(n)?N.parentNode(n)===t&&N.insertBefore(t,e,n):N.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)u(e[r],n,t.elm,null,!0,e,r);else s(t.text)&&N.appendChild(t.elm,N.createTextNode(String(t.text)))}function d(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function m(t,e){for(var n=0;n<I.create.length;++n)I.create[n](Mo,t);C=t.data.hook,i(C)&&(i(C.create)&&C.create(Mo,t),i(C.insert)&&e.push(t))}function g(t){var e;if(i(e=t.fnScopeId))N.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&N.setStyleScope(t.elm,e),n=n.parent;i(e=ji)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&N.setStyleScope(t.elm,e)}function y(t,e,n,r,i,o){for(;r<=i;++r)u(n[r],o,t,e,!1,n,r)}function _(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<I.destroy.length;++e)I.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function b(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(w(r),_(r)):a(r.elm))}}function w(t,e){if(i(e)||i(t.data)){var r,o=I.remove.length+1;for(i(e)?e.listeners+=o:e=n(t.elm,o),i(r=t.componentInstance)&&i(r=r._vnode)&&i(r.data)&&w(r,e),r=0;r<I.remove.length;++r)I.remove[r](t,e);i(r=t.data.hook)&&i(r=r.remove)?r(t,e):e()}else a(t.elm)}function x(t,e,n,o,a){for(var s,c,l,h,f=0,p=0,d=e.length-1,v=e[0],m=e[d],g=n.length-1,_=n[0],w=n[g],x=!a;f<=d&&p<=g;)r(v)?v=e[++f]:r(m)?m=e[--d]:Sn(v,_)?(T(v,_,o,n,p),v=e[++f],_=n[++p]):Sn(m,w)?(T(m,w,o,n,g),m=e[--d],w=n[--g]):Sn(v,w)?(T(v,w,o,n,g),x&&N.insertBefore(t,v.elm,N.nextSibling(m.elm)),v=e[++f],w=n[--g]):Sn(m,_)?(T(m,_,o,n,p),x&&N.insertBefore(t,m.elm,v.elm),m=e[--d],_=n[++p]):(r(s)&&(s=Cn(e,f,d)),c=i(_.key)?s[_.key]:E(_,e,f,d),r(c)?u(_,o,t,v.elm,!1,n,p):(l=e[c],Sn(l,_)?(T(l,_,o,n,p),e[c]=void 0,x&&N.insertBefore(t,l.elm,v.elm)):u(_,o,t,v.elm,!1,n,p)),_=n[++p]);f>d?(h=r(n[g+1])?null:n[g+1].elm,y(t,h,n,p,g,o)):p>g&&b(e,f,d)}function E(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Sn(t,a))return o}}function T(t,e,n,a,s,u){if(t!==e){i(e.elm)&&i(a)&&(e=a[s]=D(e));var c=e.elm=t.elm;if(o(t.isAsyncPlaceholder))return void(i(e.asyncFactory.resolved)?M(t.elm,e,n):e.isAsyncPlaceholder=!0);if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))return void(e.componentInstance=t.componentInstance);var l,h=e.data;i(h)&&i(l=h.hook)&&i(l=l.prepatch)&&l(t,e);var f=t.children,p=e.children;if(i(h)&&d(e)){for(l=0;l<I.update.length;++l)I.update[l](t,e);i(l=h.hook)&&i(l=l.update)&&l(t,e)}r(e.text)?i(f)&&i(p)?f!==p&&x(c,f,p,n,u):i(p)?(i(t.text)&&N.setTextContent(c,""),y(c,null,p,0,p.length-1,n)):i(f)?b(f,0,f.length-1):i(t.text)&&N.setTextContent(c,""):t.text!==e.text&&N.setTextContent(c,e.text),i(h)&&i(l=h.hook)&&i(l=l.postpatch)&&l(t,e)}}function S(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function M(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return l(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var h=!0,f=t.firstChild,d=0;d<c.length;d++){if(!f||!M(f,c[d],n,r)){h=!1;break}f=f.nextSibling}if(!h||f)return!1}else p(e,c,n);if(i(u)){var v=!1;for(var g in u)if(!R(g)){v=!0,m(e,n);break}!v&&u.class&&ht(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var C,A,I={},O=t.modules,N=t.nodeOps;for(C=0;C<Co.length;++C)for(I[Co[C]]=[],A=0;A<O.length;++A)i(O[A][Co[C]])&&I[Co[C]].push(O[A][Co[C]]);var R=v("attrs,class,staticClass,staticStyle,key");return function(t,n,a,s){if(r(n))return void(i(t)&&_(t));var c=!1,l=[];if(r(t))c=!0,u(n,l);else{var h=i(t.nodeType);if(!h&&Sn(t,n))T(t,n,l,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(jr)&&(t.removeAttribute(jr),a=!0),o(a)&&M(t,n,l))return S(n,l,!0),t;t=e(t)}var f=t.elm,p=N.parentNode(f);if(u(n,l,f._leaveCb?null:p,N.nextSibling(f)),i(n.parent))for(var v=n.parent,m=d(n);v;){for(var g=0;g<I.destroy.length;++g)I.destroy[g](v);if(v.elm=n.elm,m){for(var y=0;y<I.create.length;++y)I.create[y](Mo,v);var w=v.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else Tn(v);v=v.parent}i(p)?b([t],0,0):i(t.tag)&&_(t)}}return S(n,l,c),n.elm}}({nodeOps:To,modules:ia});Kr&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&gr(t,"input")});var aa={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?vt(n,"postpatch",function(){aa.componentUpdated(t,e,n)}):hr(t,e,n.context),t._vOptions=[].map.call(t.options,dr)):("textarea"===n.tag||Eo(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",vr),t.addEventListener("compositionend",mr),t.addEventListener("change",mr),Kr&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){hr(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,dr);if(i.some(function(t,e){return!S(t,r[e])})){(t.multiple?e.value.some(function(t){return pr(t,i)}):e.value!==e.oldValue&&pr(e.value,i))&&gr(t,"change")}}}},sa={bind:function(t,e,n){var r=e.value;n=yr(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,ar(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&(n=yr(n),n.data&&n.data.transition?(n.data.show=!0,r?ar(n,function(){t.style.display=t.__vOriginalDisplay}):sr(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},ua={model:aa,show:sa},ca={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},la=function(t){return t.tag||ue(t)},ha=function(t){return"show"===t.name},fa={name:"transition",props:ca,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(la),n.length)){var r=this.mode,i=n[0];if(xr(this.$vnode))return i;var o=_r(i);if(!o)return i;if(this._leaving)return wr(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=br(this),c=this._vnode,l=_r(c);if(o.data.directives&&o.data.directives.some(ha)&&(o.data.show=!0),l&&l.data&&!Er(o,l)&&!ue(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=x({},u);if("out-in"===r)return this._leaving=!0,vt(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),wr(t,i);if("in-out"===r){if(ue(o))return c;var f,p=function(){f()};vt(u,"afterEnter",p),vt(u,"enterCancelled",p),vt(h,"delayLeave",function(t){f=t})}}return i}}},pa=x({tag:String,moveClass:String},ca);delete pa.mode;var da={props:pa,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=ve(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=br(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Tr),t.forEach(Sr),t.forEach(Mr),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;tr(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ko,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ko,t),n._moveCb=null,er(n,e))})}}))},methods:{hasMove:function(t,e){if(!Yo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Kn(n,t)}),Qn(n,e),n.style.display="none",this.$el.appendChild(n);var r=rr(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},va={Transition:fa,TransitionGroup:da};Ge.config.mustUseProp=uo,Ge.config.isReservedTag=wo,Ge.config.isReservedAttr=ao,Ge.config.getTagNamespace=cn,Ge.config.isUnknownElement=ln,x(Ge.options.directives,ua),x(Ge.options.components,va),Ge.prototype.__patch__=qr?oa:T,Ge.prototype.$mount=function(t,e){return t=t&&qr?hn(t):void 0,ge(this,t,e)},qr&&setTimeout(function(){Vr.devtools&&si&&si.emit("init",Ge)},0),e.default=Ge}.call(e,n(32),n(225).setImmediate)},function(t,e,n){"use strict";var r=n(156),i=n(242),o=n(241),a=n(240),s=n(238),u=n(239);e.a={required:r.a,whitespace:i.a,type:o.a,range:a.a,enum:s.a,pattern:u.a}},function(t,e,n){var r=n(8),i=n(47);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(14),o=n(17),a=n(51)("src"),s=n(337),u=(""+s).split("toString");n(22).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(0),i=n(3),o=n(28),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(70),i=n(47),o=n(20),a=n(30),s=n(17),u=n(182),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(17),i=n(10),o=n(141)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(69),i=n(28);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(11);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function h(t,e){return!!(null==t?0:t.length)&&x(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function p(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function _(t){return t.match(Fe)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function w(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function x(t,e,n){return e===e?$(t,e,n):w(t,T,n)}function E(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:Pt}function M(t){return function(e){return null==e?nt:e[t]}}function C(t){return function(e){return null==t?nt:t[e]}}function A(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function I(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function N(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function R(t,e){return p(e,function(e){return[e,t[e]]})}function P(t){return function(e){return t(e)}}function L(t,e){return p(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function k(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function j(t){return"\\"+Sn[t]}function B(t,e){return null==t?nt:t[e]}function z(t){return mn.test(t)}function V(t){return gn.test(t)}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ut||(t[n]=ut,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function $(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Q(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function K(t){return z(t)?J(t):Vn(t)}function Z(t){return z(t)?tt(t):y(t)}function J(t){for(var e=dn.lastIndex=0;dn.test(t);)++e;return e}function tt(t){return t.match(dn)||[]}function et(t){return t.match(vn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="__lodash_hash_undefined__",st=500,ut="__lodash_placeholder__",ct=1,lt=2,ht=4,ft=1,pt=2,dt=1,vt=2,mt=4,gt=8,yt=16,_t=32,bt=64,wt=128,xt=256,Et=512,Tt=30,St="...",Mt=800,Ct=16,At=1,It=2,Ot=1/0,Nt=9007199254740991,Rt=1.7976931348623157e308,Pt=NaN,Lt=4294967295,Dt=Lt-1,kt=Lt>>>1,Ft=[["ary",wt],["bind",dt],["bindKey",vt],["curry",gt],["curryRight",yt],["flip",Et],["partial",_t],["partialRight",bt],["rearg",xt]],Ut="[object Arguments]",jt="[object Array]",Bt="[object AsyncFunction]",zt="[object Boolean]",Vt="[object Date]",Ht="[object DOMException]",Gt="[object Error]",Wt="[object Function]",qt="[object GeneratorFunction]",Yt="[object Map]",Xt="[object Number]",$t="[object Null]",Qt="[object Object]",Kt="[object Proxy]",Zt="[object RegExp]",Jt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,we=RegExp(_e.source),xe=RegExp(be.source),Ee=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Ie.source),Ne=/^\s+|\s+$/g,Re=/^\s+/,Pe=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,De=/\{\n\/\* \[wrapped with (.+)\] \*/,ke=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,We=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,$e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ke="["+Qe+"]",Ze="["+$e+"]",Je="[a-z\\xdf-\\xf6\\xf8-\\xff]",tn="[^\\ud800-\\udfff"+Qe+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",an="(?:"+Je+"|"+tn+")",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+sn+")*",cn="[\\ufe0e\\ufe0f]?"+sn+un,ln="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+cn,hn="(?:"+["[^\\ud800-\\udfff]"+Ze+"?",Ze,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("['’]","g"),pn=RegExp(Ze,"g"),dn=RegExp(en+"(?="+en+")|"+hn+cn,"g"),vn=RegExp([on+"?"+Je+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ke,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ke,on+an,"$"].join("|")+")",on+"?"+an+"+(?:['’](?:d|ll|m|re|s|t|ve))?",on+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ln].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+$e+"\\ufe0e\\ufe0f]"),gn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_n=-1,bn={};bn[se]=bn[ue]=bn[ce]=bn[le]=bn[he]=bn[fe]=bn[pe]=bn[de]=bn[ve]=!0,bn[Ut]=bn[jt]=bn[oe]=bn[zt]=bn[ae]=bn[Vt]=bn[Gt]=bn[Wt]=bn[Yt]=bn[Xt]=bn[Qt]=bn[Zt]=bn[Jt]=bn[te]=bn[re]=!1;var wn={};wn[Ut]=wn[jt]=wn[oe]=wn[ae]=wn[zt]=wn[Vt]=wn[se]=wn[ue]=wn[ce]=wn[le]=wn[he]=wn[Yt]=wn[Xt]=wn[Qt]=wn[Zt]=wn[Jt]=wn[te]=wn[ee]=wn[fe]=wn[pe]=wn[de]=wn[ve]=!0,wn[Gt]=wn[Wt]=wn[re]=!1;var xn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n",ſ:"s"},En={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=parseFloat,Cn=parseInt,An="object"==typeof t&&t&&t.Object===Object&&t,In="object"==typeof self&&self&&self.Object===Object&&self,On=An||In||Function("return this")(),Nn="object"==typeof e&&e&&!e.nodeType&&e,Rn=Nn&&"object"==typeof r&&r&&!r.nodeType&&r,Pn=Rn&&Rn.exports===Nn,Ln=Pn&&An.process,Dn=function(){try{var t=Rn&&Rn.require&&Rn.require("util").types;return t||Ln&&Ln.binding&&Ln.binding("util")}catch(t){}}(),kn=Dn&&Dn.isArrayBuffer,Fn=Dn&&Dn.isDate,Un=Dn&&Dn.isMap,jn=Dn&&Dn.isRegExp,Bn=Dn&&Dn.isSet,zn=Dn&&Dn.isTypedArray,Vn=M("length"),Hn=C(xn),Gn=C(En),Wn=C(Tn),qn=function t(e){function n(t){if(eu(t)&&!pf(t)&&!(t instanceof y)){if(t instanceof i)return t;if(fl.call(t,"__wrapped__"))return Zo(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function C(){var t=new y(this.__wrapped__);return t.__actions__=Ri(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ri(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ri(this.__views__),t}function $(){if(this.__filtered__){var t=new y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function J(){var t=this.__wrapped__.value(),e=this.__dir__,n=pf(t),r=e<0,i=n?t.length:0,o=xo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=Vl(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return vi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){c+=e;for(var v=-1,m=t[c];++v<h;){var g=l[v],y=g.iteratee,_=g.type,b=y(m);if(_==It)m=b;else if(!b){if(_==At)continue t;break t}}d[f++]=m}return d}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Fe(){this.__data__=Zl?Zl(null):{},this.size=0}function $e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Qe(t){var e=this.__data__;if(Zl){var n=e[t];return n===at?nt:n}return fl.call(e,t)?e[t]:nt}function Ke(t){var e=this.__data__;return Zl?e[t]!==nt:fl.call(e,t)}function Ze(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zl&&e===nt?at:e,this}function Je(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__=[],this.size=0}function en(t){var e=this.__data__,n=Yn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ml.call(e,n,1),--this.size,!0)}function nn(t){var e=this.__data__,n=Yn(e,t);return n<0?nt:e[n][1]}function rn(t){return Yn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,r=Yn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(){this.size=0,this.__data__={hash:new tt,map:new(Xl||Je),string:new tt}}function un(t){var e=yo(this,t).delete(t);return this.size-=e?1:0,e}function cn(t){return yo(this,t).get(t)}function ln(t){return yo(this,t).has(t)}function hn(t,e){var n=yo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,at),this}function mn(t){return this.__data__.has(t)}function gn(t){var e=this.__data__=new Je(t);this.size=e.size}function xn(){this.__data__=new Je,this.size=0}function En(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Tn(t){return this.__data__.get(t)}function Sn(t){return this.__data__.has(t)}function An(t,e){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!Xl||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this}function In(t,e){var n=pf(t),r=!n&&ff(t),i=!n&&!r&&vf(t),o=!n&&!r&&!i&&bf(t),a=n||r||i||o,s=a?N(t.length,ol):[],u=s.length;for(var c in t)!e&&!fl.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oo(c,u))||s.push(c);return s}function Nn(t){var e=t.length;return e?t[Qr(0,e-1)]:nt}function Rn(t,e){return Xo(Ri(t),Jn(e,0,t.length))}function Ln(t){return Xo(Ri(t))}function Dn(t,e,n){(n===nt||zs(t[e],n))&&(n!==nt||e in t)||Kn(t,e,n)}function Vn(t,e,n){var r=t[e];fl.call(t,e)&&zs(r,n)&&(n!==nt||e in t)||Kn(t,e,n)}function Yn(t,e){for(var n=t.length;n--;)if(zs(t[n][0],e))return n;return-1}function Xn(t,e,n,r){return lh(t,function(t,i,o){e(r,t,n(t),o)}),r}function $n(t,e){return t&&Pi(e,ku(e),t)}function Qn(t,e){return t&&Pi(e,Fu(e),t)}function Kn(t,e,n){"__proto__"==e&&Ol?Ol(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zn(t,e){for(var n=-1,r=e.length,i=Zc(r),o=null==t;++n<r;)i[n]=o?nt:Pu(t,e[n]);return i}function Jn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function tr(t,e,n,r,i,o){var a,u=e&ct,c=e&lt,l=e&ht;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!tu(t))return t;var h=pf(t);if(h){if(a=So(t),!u)return Ri(t,a)}else{var f=xh(t),p=f==Wt||f==qt;if(vf(t))return xi(t,u);if(f==Qt||f==Ut||p&&!i){if(a=c||p?{}:Mo(t),!u)return c?Di(t,Qn(a,t)):Li(t,$n(a,t))}else{if(!wn[f])return i?t:{};a=Co(t,f,u)}}o||(o=new gn);var d=o.get(t);if(d)return d;o.set(t,a),_f(t)?t.forEach(function(r){a.add(tr(r,e,n,r,t,o))}):gf(t)&&t.forEach(function(r,i){a.set(i,tr(r,e,n,i,t,o))});var v=l?c?po:fo:c?Fu:ku,m=h?nt:v(t);return s(m||t,function(r,i){m&&(i=r,r=t[i]),Vn(a,i,tr(r,e,n,i,t,o))}),a}function er(t){var e=ku(t);return function(n){return nr(n,t,e)}}function nr(t,e,n){var r=n.length;if(null==t)return!r;for(t=rl(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function rr(t,e,n){if("function"!=typeof t)throw new al(ot);return Sh(function(){t.apply(nt,n)},e)}function ir(t,e,n,r){var i=-1,o=h,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=p(e,P(n))),r?(o=f,a=!1):e.length>=rt&&(o=D,a=!1,e=new dn(e));t:for(;++i<s;){var l=t[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d===d){for(var v=c;v--;)if(e[v]===d)continue t;u.push(l)}else o(e,d,r)||u.push(l)}return u}function or(t,e){var n=!0;return lh(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ar(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!fu(a):n(a,s)))var s=a,u=o}return u}function sr(t,e,n,r){var i=t.length;for(n=yu(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:yu(r),r<0&&(r+=i),r=n>r?0:_u(r);n<r;)t[n++]=e;return t}function ur(t,e){var n=[];return lh(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function cr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Io),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?cr(s,e-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function lr(t,e){return t&&fh(t,e,ku)}function hr(t,e){return t&&ph(t,e,ku)}function fr(t,e){return l(e,function(e){return Ks(t[e])})}function pr(t,e){e=bi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[$o(e[n++])];return n&&n==r?t:nt}function dr(t,e,n){var r=e(t);return pf(t)?r:d(r,n(t))}function vr(t){return null==t?t===nt?ne:$t:Il&&Il in rl(t)?wo(t):zo(t)}function mr(t,e){return t>e}function gr(t,e){return null!=t&&fl.call(t,e)}function yr(t,e){return null!=t&&e in rl(t)}function _r(t,e,n){return t>=Vl(e,n)&&t<zl(e,n)}function br(t,e,n){for(var r=n?f:h,i=t[0].length,o=t.length,a=o,s=Zc(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=p(l,P(e))),u=Vl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new dn(a&&l):nt}l=t[0];var d=-1,v=s[0];t:for(;++d<i&&c.length<u;){var m=l[d],g=e?e(m):m;if(m=n||0!==m?m:0,!(v?D(v,g):r(c,g,n))){for(a=o;--a;){var y=s[a];if(!(y?D(y,g):r(t[a],g,n)))continue t}v&&v.push(g),c.push(m)}}return c}function wr(t,e,n,r){return lr(t,function(t,i,o){e(r,n(t),i,o)}),r}function xr(t,e,n){e=bi(e,t),t=Ho(t,e);var r=null==t?t:t[$o(ga(e))];return null==r?nt:o(r,t,n)}function Er(t){return eu(t)&&vr(t)==Ut}function Tr(t){return eu(t)&&vr(t)==oe}function Sr(t){return eu(t)&&vr(t)==Vt}function Mr(t,e,n,r,i){return t===e||(null==t||null==e||!eu(t)&&!eu(e)?t!==t&&e!==e:Cr(t,e,n,r,Mr,i))}function Cr(t,e,n,r,i,o){var a=pf(t),s=pf(e),u=a?jt:xh(t),c=s?jt:xh(e);u=u==Ut?Qt:u,c=c==Ut?Qt:c;var l=u==Qt,h=c==Qt,f=u==c;if(f&&vf(t)){if(!vf(e))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new gn),a||bf(t)?uo(t,e,n,r,i,o):co(t,e,u,n,r,i,o);if(!(n&ft)){var p=l&&fl.call(t,"__wrapped__"),d=h&&fl.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,m=d?e.value():e;return o||(o=new gn),i(v,m,n,r,o)}}return!!f&&(o||(o=new gn),lo(t,e,n,r,i,o))}function Ar(t){return eu(t)&&xh(t)==Yt}function Ir(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=rl(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===nt&&!(u in t))return!1}else{var h=new gn;if(r)var f=r(c,l,u,t,e,h);if(!(f===nt?Mr(l,c,ft|pt,r,h):f))return!1}}return!0}function Or(t){return!(!tu(t)||Do(t))&&(Ks(t)?yl:He).test(Qo(t))}function Nr(t){return eu(t)&&vr(t)==Zt}function Rr(t){return eu(t)&&xh(t)==Jt}function Pr(t){return eu(t)&&Js(t.length)&&!!bn[vr(t)]}function Lr(t){return"function"==typeof t?t:null==t?Mc:"object"==typeof t?pf(t)?Br(t[0],t[1]):jr(t):Lc(t)}function Dr(t){if(!ko(t))return Bl(t);var e=[];for(var n in rl(t))fl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kr(t){if(!tu(t))return Bo(t);var e=ko(t),n=[];for(var r in t)("constructor"!=r||!e&&fl.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Ur(t,e){var n=-1,r=Vs(t)?Zc(t.length):[];return lh(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function jr(t){var e=_o(t);return 1==e.length&&e[0][2]?Uo(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Br(t,e){return Ro(t)&&Fo(e)?Uo($o(t),e):function(n){var r=Pu(n,t);return r===nt&&r===e?Du(n,t):Mr(e,r,ft|pt)}}function zr(t,e,n,r,i){t!==e&&fh(e,function(o,a){if(i||(i=new gn),tu(o))Vr(t,e,a,n,zr,r,i);else{var s=r?r(Wo(t,a),o,a+"",t,e,i):nt;s===nt&&(s=o),Dn(t,a,s)}},Fu)}function Vr(t,e,n,r,i,o,a){var s=Wo(t,n),u=Wo(e,n),c=a.get(u);if(c)return void Dn(t,n,c);var l=o?o(s,u,n+"",t,e,a):nt,h=l===nt;if(h){var f=pf(u),p=!f&&vf(u),d=!f&&!p&&bf(u);l=u,f||p||d?pf(s)?l=s:Hs(s)?l=Ri(s):p?(h=!1,l=xi(u,!0)):d?(h=!1,l=Ci(u,!0)):l=[]:cu(u)||ff(u)?(l=s,ff(s)?l=wu(s):tu(s)&&!Ks(s)||(l=Mo(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Dn(t,n,l)}function Hr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oo(e,n)?t[e]:nt}function Gr(t,e,n){var r=-1;return e=p(e.length?e:[Mc],P(go())),I(Ur(t,function(t,n,i){return{criteria:p(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ii(t,e,n)})}function Wr(t,e){return qr(t,e,function(e,n){return Du(t,n)})}function qr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=pr(t,a);n(s,a)&&ni(o,bi(a,t),s)}return o}function Yr(t){return function(e){return pr(e,t)}}function Xr(t,e,n,r){var i=r?E:x,o=-1,a=e.length,s=t;for(t===e&&(e=Ri(e)),n&&(s=p(t,P(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Ml.call(s,u,1),Ml.call(t,u,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Oo(i)?Ml.call(t,i,1):fi(t,i)}}return t}function Qr(t,e){return t+Dl(Wl()*(e-t+1))}function Kr(t,e,n,r){for(var i=-1,o=zl(Ll((e-t)/(n||1)),0),a=Zc(o);o--;)a[r?o:++i]=t,t+=n;return a}function Zr(t,e){var n="";if(!t||e<1||e>Nt)return n;do{e%2&&(n+=t),(e=Dl(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Mh(Vo(t,e,Mc),t+"")}function ti(t){return Nn($u(t))}function ei(t,e){var n=$u(t);return Xo(n,Jn(e,0,n.length))}function ni(t,e,n,r){if(!tu(t))return t;e=bi(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=$o(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):nt,c===nt&&(c=tu(l)?l:Oo(e[i+1])?[]:{})}Vn(s,u,c),s=s[u]}return t}function ri(t){return Xo($u(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Zc(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return lh(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=kt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!fu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return si(t,e,Mc,n)}function si(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=fu(e),c=e===nt;i<o;){var l=Dl((i+o)/2),h=n(t[l]),f=h!==nt,p=null===h,d=h===h,v=fu(h);if(a)var m=r||d;else m=c?d&&(r||f):s?d&&f&&(r||!p):u?d&&f&&!p&&(r||!v):!p&&!v&&(r?h<=e:h<e);m?i=l+1:o=l}return Vl(o,Dt)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!zs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(t){return"number"==typeof t?t:fu(t)?Pt:+t}function li(t){if("string"==typeof t)return t;if(pf(t))return p(t,li)+"";if(fu(t))return uh?uh.call(t):"";var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function hi(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=f;else if(o>=rt){var c=e?null:yh(t);if(c)return Y(c);a=!1,i=D,u=new dn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],p=e?e(l):l;if(l=n||0!==l?l:0,a&&p===p){for(var d=u.length;d--;)if(u[d]===p)continue t;e&&u.push(p),s.push(l)}else i(u,p,n)||(u!==s&&u.push(p),s.push(l))}return s}function fi(t,e){return e=bi(e,t),null==(t=Ho(t,e))||delete t[$o(ga(e))]}function pi(t,e,n,r){return ni(t,e,n(pr(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof y&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function mi(t,e,n){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=Zc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=ir(o[i]||a,t[s],e,n));return hi(cr(o,1),e,n)}function gi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function yi(t){return Hs(t)?t:[]}function _i(t){return"function"==typeof t?t:Mc}function bi(t,e){return pf(t)?t:Ro(t,e)?[t]:Ch(Eu(t))}function wi(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ii(t,e,n)}function xi(t,e){if(e)return t.slice();var n=t.length,r=xl?xl(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new wl(e).set(new wl(t)),e}function Ti(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Si(t){var e=new t.constructor(t.source,Be.exec(t));return e.lastIndex=t.lastIndex,e}function Mi(t){return sh?rl(sh.call(t)):{}}function Ci(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=fu(t),a=e!==nt,s=null===e,u=e===e,c=fu(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Ii(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ai(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}function Oi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=zl(o-a,0),l=Zc(u+c),h=!r;++s<u;)l[s]=e[s];for(;++i<a;)(h||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function Ni(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=zl(o-s,0),h=Zc(l+c),f=!r;++i<l;)h[i]=t[i];for(var p=i;++u<c;)h[p+u]=e[u];for(;++a<s;)(f||i<o)&&(h[p+n[a]]=t[i++]);return h}function Ri(t,e){var n=-1,r=t.length;for(e||(e=Zc(r));++n<r;)e[n]=t[n];return e}function Pi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):nt;u===nt&&(u=t[s]),i?Kn(n,s,u):Vn(n,s,u)}return n}function Li(t,e){return Pi(t,bh(t),e)}function Di(t,e){return Pi(t,wh(t),e)}function ki(t,e){return function(n,r){var i=pf(n)?a:Xn,o=e?e():{};return i(n,t,go(r,2),o)}}function Fi(t){return Jr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&No(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=rl(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Ui(t,e){return function(n,r){if(null==n)return n;if(!Vs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=rl(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function ji(t){return function(e,n,r){for(var i=-1,o=rl(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Bi(t,e,n){function r(){return(this&&this!==On&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&dt,o=Hi(t);return r}function zi(t){return function(e){e=Eu(e);var n=z(e)?Z(e):nt,r=n?n[0]:e.charAt(0),i=n?wi(n,1).join(""):e.slice(1);return r[t]()+i}}function Vi(t){return function(e){return v(wc(ec(e).replace(fn,"")),t,"")}}function Hi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ch(t.prototype),r=t.apply(n,e);return tu(r)?r:n}}function Gi(t,e,n){function r(){for(var a=arguments.length,s=Zc(a),u=a,c=mo(r);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:q(s,c);return(a-=l.length)<n?eo(t,e,Yi,r.placeholder,nt,s,l,nt,nt,n-a):o(this&&this!==On&&this instanceof r?i:t,this,s)}var i=Hi(t);return r}function Wi(t){return function(e,n,r){var i=rl(e);if(!Vs(e)){var o=go(n,3);e=ku(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function qi(t){return ho(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new al(ot);if(o&&!s&&"wrapper"==vo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=vo(a),c="wrapper"==u?_h(a):nt;s=c&&Lo(c[0])&&c[1]==(wt|gt|_t|xt)&&!c[4].length&&1==c[9]?s[vo(c[0])].apply(s,c[3]):1==a.length&&Lo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&pf(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Yi(t,e,n,r,i,o,a,s,u,c){function l(){for(var g=arguments.length,y=Zc(g),_=g;_--;)y[_]=arguments[_];if(d)var b=mo(l),w=U(y,b);if(r&&(y=Oi(y,r,i,d)),o&&(y=Ni(y,o,a,d)),g-=w,d&&g<c){var x=q(y,b);return eo(t,e,Yi,l.placeholder,n,y,x,s,u,c-g)}var E=f?n:this,T=p?E[t]:t;return g=y.length,s?y=Go(y,s):v&&g>1&&y.reverse(),h&&u<g&&(y.length=u),this&&this!==On&&this instanceof l&&(T=m||Hi(T)),T.apply(E,y)}var h=e&wt,f=e&dt,p=e&vt,d=e&(gt|yt),v=e&Et,m=p?nt:Hi(t);return l}function Xi(t,e){return function(n,r){return wr(n,t,e(r),{})}}function $i(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),i=t(n,r)}return i}}function Qi(t){return ho(function(e){return e=p(e,P(go())),Jr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Ki(t,e){e=e===nt?" ":li(e);var n=e.length;if(n<2)return n?Zr(e,t):e;var r=Zr(e,Ll(t/K(e)));return z(e)?wi(Z(r),0,t).join(""):r.slice(0,t)}function Zi(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,h=Zc(l+u),f=this&&this!==On&&this instanceof i?s:t;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++e];return o(f,a?n:this,h)}var a=e&dt,s=Hi(t);return i}function Ji(t){return function(e,n,r){return r&&"number"!=typeof r&&No(e,n,r)&&(n=r=nt),e=gu(e),n===nt?(n=e,e=0):n=gu(n),r=r===nt?e<n?1:-1:gu(r),Kr(e,n,r,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=bu(e),n=bu(n)),t(e,n)}}function eo(t,e,n,r,i,o,a,s,u,c){var l=e&gt,h=l?a:nt,f=l?nt:a,p=l?o:nt,d=l?nt:o;e|=l?_t:bt,(e&=~(l?bt:_t))&mt||(e&=~(dt|vt));var v=[t,e,i,p,h,d,f,s,u,c],m=n.apply(nt,v);return Lo(t)&&Th(m,v),m.placeholder=r,qo(m,t,e)}function no(t){var e=nl[t];return function(t,n){if(t=bu(t),(n=null==n?0:Vl(yu(n),292))&&Ul(t)){var r=(Eu(t)+"e").split("e");return r=(Eu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ro(t){return function(e){var n=xh(e);return n==Yt?G(e):n==Jt?X(e):R(e,t(e))}}function io(t,e,n,r,i,o,a,s){var u=e&vt;if(!u&&"function"!=typeof t)throw new al(ot);var c=r?r.length:0;if(c||(e&=~(_t|bt),r=i=nt),a=a===nt?a:zl(yu(a),0),s=s===nt?s:yu(s),c-=i?i.length:0,e&bt){var l=r,h=i;r=i=nt}var f=u?nt:_h(t),p=[t,e,n,r,i,l,h,o,a,s];if(f&&jo(p,f),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=p[9]===nt?u?0:t.length:zl(p[9]-c,0),!s&&e&(gt|yt)&&(e&=~(gt|yt)),e&&e!=dt)d=e==gt||e==yt?Gi(t,e,s):e!=_t&&e!=(dt|_t)||i.length?Yi.apply(nt,p):Zi(t,e,n,r);else var d=Bi(t,e,n);return qo((f?dh:Th)(d,p),t,e)}function oo(t,e,n,r){return t===nt||zs(t,cl[n])&&!fl.call(r,n)?e:t}function ao(t,e,n,r,i,o){return tu(t)&&tu(e)&&(o.set(e,t),zr(t,e,nt,ao,o),o.delete(e)),t}function so(t){return cu(t)?nt:t}function uo(t,e,n,r,i,o){var a=n&ft,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,f=n&pt?new dn:nt;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var v=a?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(v!==nt){if(v)continue;h=!1;break}if(f){if(!g(e,function(t,e){if(!D(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function co(t,e,n,r,i,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new wl(t),new wl(e)));case zt:case Vt:case Xt:return zs(+t,+e);case Gt:return t.name==e.name&&t.message==e.message;case Zt:case te:return t==e+"";case Yt:var s=G;case Jt:var u=r&ft;if(s||(s=Y),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=pt,a.set(t,e);var l=uo(s(t),s(e),r,i,o,a);return a.delete(t),l;case ee:if(sh)return sh.call(t)==sh.call(e)}return!1}function lo(t,e,n,r,i,o){var a=n&ft,s=fo(t),u=s.length;if(u!=fo(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:fl.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){l=s[c];var d=t[l],v=e[l];if(r)var m=a?r(v,d,l,e,t,o):r(d,v,l,t,e,o);if(!(m===nt?d===v||i(d,v,n,r,o):m)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var g=t.constructor,y=e.constructor;g!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f}function ho(t){return Mh(Vo(t,nt,ca),t+"")}function fo(t){return dr(t,ku,bh)}function po(t){return dr(t,Fu,wh)}function vo(t){for(var e=t.name+"",n=th[e],r=fl.call(th,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function mo(t){return(fl.call(n,"placeholder")?n:t).placeholder}function go(){var t=n.iteratee||Cc;return t=t===Cc?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function yo(t,e){var n=t.__data__;return Po(e)?n["string"==typeof e?"string":"hash"]:n.map}function _o(t){for(var e=ku(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Fo(i)]}return e}function bo(t,e){var n=B(t,e);return Or(n)?n:nt}function wo(t){var e=fl.call(t,Il),n=t[Il];try{t[Il]=nt;var r=!0}catch(t){}var i=vl.call(t);return r&&(e?t[Il]=n:delete t[Il]),i}function xo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Vl(e,t+a);break;case"takeRight":t=zl(t,e-a)}}return{start:t,end:e}}function Eo(t){var e=t.match(De);return e?e[1].split(ke):[]}function To(t,e,n){e=bi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=$o(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Js(i)&&Oo(a,i)&&(pf(t)||ff(t))}function So(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Mo(t){return"function"!=typeof t.constructor||ko(t)?{}:ch(El(t))}function Co(t,e,n){var r=t.constructor;switch(e){case oe:return Ei(t);case zt:case Vt:return new r(+t);case ae:return Ti(t,n);case se:case ue:case ce:case le:case he:case fe:case pe:case de:case ve:return Ci(t,n);case Yt:return new r;case Xt:case te:return new r(t);case Zt:return Si(t);case Jt:return new r;case ee:return Mi(t)}}function Ao(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Le,"{\n/* [wrapped with "+e+"] */\n")}function Io(t){return pf(t)||ff(t)||!!(Cl&&t&&t[Cl])}function Oo(t,e){var n=typeof t;return!!(e=null==e?Nt:e)&&("number"==n||"symbol"!=n&&We.test(t))&&t>-1&&t%1==0&&t<e}function No(t,e,n){if(!tu(n))return!1;var r=typeof e;return!!("number"==r?Vs(n)&&Oo(e,n.length):"string"==r&&e in n)&&zs(n[e],t)}function Ro(t,e){if(pf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fu(t))||(Ce.test(t)||!Me.test(t)||null!=e&&t in rl(e))}function Po(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Lo(t){var e=vo(t),r=n[e];if("function"!=typeof r||!(e in y.prototype))return!1;if(t===r)return!0;var i=_h(r);return!!i&&t===i[0]}function Do(t){return!!dl&&dl in t}function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||cl)}function Fo(t){return t===t&&!tu(t)}function Uo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in rl(n)))}}function jo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(dt|vt|wt),a=r==wt&&n==gt||r==wt&&n==xt&&t[7].length<=e[8]||r==(wt|xt)&&e[7].length<=e[8]&&n==gt;if(!o&&!a)return t;r&dt&&(t[2]=e[2],i|=n&dt?0:mt);var s=e[3];if(s){var u=t[3];t[3]=u?Oi(u,s,e[4]):s,t[4]=u?q(t[3],ut):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Ni(u,s,e[6]):s,t[6]=u?q(t[5],ut):e[6]),s=e[7],s&&(t[7]=s),r&wt&&(t[8]=null==t[8]?e[8]:Vl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Bo(t){var e=[];if(null!=t)for(var n in rl(t))e.push(n);return e}function zo(t){return vl.call(t)}function Vo(t,e,n){return e=zl(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=zl(r.length-e,0),s=Zc(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=Zc(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function Ho(t,e){return e.length<2?t:pr(t,ii(e,0,-1))}function Go(t,e){for(var n=t.length,r=Vl(e.length,n),i=Ri(t);r--;){var o=e[r];t[r]=Oo(o,n)?i[o]:nt}return t}function Wo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function qo(t,e,n){var r=e+"";return Mh(t,Ao(r,Ko(Eo(r),n)))}function Yo(t){var e=0,n=0;return function(){var r=Hl(),i=Ct-(r-n);if(n=r,i>0){if(++e>=Mt)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Xo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Qr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function $o(t){if("string"==typeof t||fu(t))return t;var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function Qo(t){if(null!=t){try{return hl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ko(t,e){return s(Ft,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function Zo(t){if(t instanceof y)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Ri(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Jo(t,e,n){e=(n?No(t,e,n):e===nt)?1:zl(yu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Zc(Ll(r/e));i<r;)a[o++]=ii(t,i,i+=e);return a}function ta(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ea(){var t=arguments.length;if(!t)return[];for(var e=Zc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(pf(n)?Ri(n):[n],cr(e,1))}function na(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:yu(e),ii(t,e<0?0:e,r)):[]}function ra(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:yu(e),e=r-e,ii(t,0,e<0?0:e)):[]}function ia(t,e){return t&&t.length?di(t,go(e,3),!0,!0):[]}function oa(t,e){return t&&t.length?di(t,go(e,3),!0):[]}function aa(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&No(t,e,n)&&(n=0,r=i),sr(t,e,n,r)):[]}function sa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=zl(r+i,0)),w(t,go(e,3),i)}function ua(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=yu(n),i=n<0?zl(r+i,0):Vl(i,r-1)),w(t,go(e,3),i,!0)}function ca(t){return(null==t?0:t.length)?cr(t,1):[]}function la(t){return(null==t?0:t.length)?cr(t,Ot):[]}function ha(t,e){return(null==t?0:t.length)?(e=e===nt?1:yu(e),cr(t,e)):[]}function fa(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function pa(t){return t&&t.length?t[0]:nt}function da(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=zl(r+i,0)),x(t,e,i)}function va(t){return(null==t?0:t.length)?ii(t,0,-1):[]}function ma(t,e){return null==t?"":jl.call(t,e)}function ga(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=yu(n),i=i<0?zl(r+i,0):Vl(i,r-1)),e===e?Q(t,e,i):w(t,T,i,!0)}function _a(t,e){return t&&t.length?Hr(t,yu(e)):nt}function ba(t,e){return t&&t.length&&e&&e.length?Xr(t,e):t}function wa(t,e,n){return t&&t.length&&e&&e.length?Xr(t,e,go(n,2)):t}function xa(t,e,n){return t&&t.length&&e&&e.length?Xr(t,e,nt,n):t}function Ea(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=go(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return $r(t,i),n}function Ta(t){return null==t?t:ql.call(t)}function Sa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&No(t,e,n)?(e=0,n=r):(e=null==e?0:yu(e),n=n===nt?r:yu(n)),ii(t,e,n)):[]}function Ma(t,e){return ai(t,e)}function Ca(t,e,n){return si(t,e,go(n,2))}function Aa(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&zs(t[r],e))return r}return-1}function Ia(t,e){return ai(t,e,!0)}function Oa(t,e,n){return si(t,e,go(n,2),!0)}function Na(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(zs(t[n],e))return n}return-1}function Ra(t){return t&&t.length?ui(t):[]}function Pa(t,e){return t&&t.length?ui(t,go(e,2)):[]}function La(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]}function Da(t,e,n){return t&&t.length?(e=n||e===nt?1:yu(e),ii(t,0,e<0?0:e)):[]}function ka(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:yu(e),e=r-e,ii(t,e<0?0:e,r)):[]}function Fa(t,e){return t&&t.length?di(t,go(e,3),!1,!0):[]}function Ua(t,e){return t&&t.length?di(t,go(e,3)):[]}function ja(t){return t&&t.length?hi(t):[]}function Ba(t,e){return t&&t.length?hi(t,go(e,2)):[]}function za(t,e){return e="function"==typeof e?e:nt,t&&t.length?hi(t,nt,e):[]}function Va(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Hs(t))return e=zl(t.length,e),!0}),N(e,function(e){return p(t,M(e))})}function Ha(t,e){if(!t||!t.length)return[];var n=Va(t);return null==e?n:p(n,function(t){return o(e,nt,t)})}function Ga(t,e){return gi(t||[],e||[],Vn)}function Wa(t,e){return gi(t||[],e||[],ni)}function qa(t){var e=n(t);return e.__chain__=!0,e}function Ya(t,e){return e(t),t}function Xa(t,e){return e(t)}function $a(){return qa(this)}function Qa(){return new i(this.value(),this.__chain__)}function Ka(){this.__values__===nt&&(this.__values__=mu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function Za(){return this}function Ja(t){for(var e,n=this;n instanceof r;){var i=Zo(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ts(){var t=this.__wrapped__;if(t instanceof y){var e=t;return this.__actions__.length&&(e=new y(this)),e=e.reverse(),e.__actions__.push({func:Xa,args:[Ta],thisArg:nt}),new i(e,this.__chain__)}return this.thru(Ta)}function es(){return vi(this.__wrapped__,this.__actions__)}function ns(t,e,n){var r=pf(t)?c:or;return n&&No(t,e,n)&&(e=nt),r(t,go(e,3))}function rs(t,e){return(pf(t)?l:ur)(t,go(e,3))}function is(t,e){return cr(ls(t,e),1)}function os(t,e){return cr(ls(t,e),Ot)}function as(t,e,n){return n=n===nt?1:yu(n),cr(ls(t,e),n)}function ss(t,e){return(pf(t)?s:lh)(t,go(e,3))}function us(t,e){return(pf(t)?u:hh)(t,go(e,3))}function cs(t,e,n,r){t=Vs(t)?t:$u(t),n=n&&!r?yu(n):0;var i=t.length;return n<0&&(n=zl(i+n,0)),hu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1}function ls(t,e){return(pf(t)?p:Ur)(t,go(e,3))}function hs(t,e,n,r){return null==t?[]:(pf(e)||(e=null==e?[]:[e]),n=r?nt:n,pf(n)||(n=null==n?[]:[n]),Gr(t,e,n))}function fs(t,e,n){var r=pf(t)?v:A,i=arguments.length<3;return r(t,go(e,4),n,i,lh)}function ps(t,e,n){var r=pf(t)?m:A,i=arguments.length<3;return r(t,go(e,4),n,i,hh)}function ds(t,e){return(pf(t)?l:ur)(t,As(go(e,3)))}function vs(t){return(pf(t)?Nn:ti)(t)}function ms(t,e,n){return e=(n?No(t,e,n):e===nt)?1:yu(e),(pf(t)?Rn:ei)(t,e)}function gs(t){return(pf(t)?Ln:ri)(t)}function ys(t){if(null==t)return 0;if(Vs(t))return hu(t)?K(t):t.length;var e=xh(t);return e==Yt||e==Jt?t.size:Dr(t).length}function _s(t,e,n){var r=pf(t)?g:oi;return n&&No(t,e,n)&&(e=nt),r(t,go(e,3))}function bs(t,e){if("function"!=typeof e)throw new al(ot);return t=yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function ws(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,io(t,wt,nt,nt,nt,nt,e)}function xs(t,e){var n;if("function"!=typeof e)throw new al(ot);return t=yu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Es(t,e,n){e=n?nt:e;var r=io(t,gt,nt,nt,nt,nt,nt,e);return r.placeholder=Es.placeholder,r}function Ts(t,e,n){e=n?nt:e;var r=io(t,yt,nt,nt,nt,nt,nt,e);return r.placeholder=Ts.placeholder,r}function Ss(t,e,n){function r(e){var n=f,r=p;return f=p=nt,y=e,v=t.apply(r,n)}function i(t){return y=t,m=Sh(s,e),_?r(t):v}function o(t){var n=t-g,r=t-y,i=e-n;return b?Vl(i,d-r):i}function a(t){var n=t-g,r=t-y;return g===nt||n>=e||n<0||b&&r>=d}function s(){var t=tf();if(a(t))return u(t);m=Sh(s,o(t))}function u(t){return m=nt,w&&f?r(t):(f=p=nt,v)}function c(){m!==nt&&gh(m),y=0,f=g=p=m=nt}function l(){return m===nt?v:u(tf())}function h(){var t=tf(),n=a(t);if(f=arguments,p=this,g=t,n){if(m===nt)return i(g);if(b)return gh(m),m=Sh(s,e),r(g)}return m===nt&&(m=Sh(s,e)),v}var f,p,d,v,m,g,y=0,_=!1,b=!1,w=!0;if("function"!=typeof t)throw new al(ot);return e=bu(e)||0,tu(n)&&(_=!!n.leading,b="maxWait"in n,d=b?zl(bu(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),h.cancel=c,h.flush=l,h}function Ms(t){return io(t,Et)}function Cs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new al(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Cs.Cache||an),n}function As(t){if("function"!=typeof t)throw new al(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Is(t){return xs(2,t)}function Os(t,e){if("function"!=typeof t)throw new al(ot);return e=e===nt?e:yu(e),Jr(t,e)}function Ns(t,e){if("function"!=typeof t)throw new al(ot);return e=null==e?0:zl(yu(e),0),Jr(function(n){var r=n[e],i=wi(n,0,e);return r&&d(i,r),o(t,this,i)})}function Rs(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new al(ot);return tu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ss(t,e,{leading:r,maxWait:e,trailing:i})}function Ps(t){return ws(t,1)}function Ls(t,e){return sf(_i(e),t)}function Ds(){if(!arguments.length)return[];var t=arguments[0];return pf(t)?t:[t]}function ks(t){return tr(t,ht)}function Fs(t,e){return e="function"==typeof e?e:nt,tr(t,ht,e)}function Us(t){return tr(t,ct|ht)}function js(t,e){return e="function"==typeof e?e:nt,tr(t,ct|ht,e)}function Bs(t,e){return null==e||nr(t,e,ku(e))}function zs(t,e){return t===e||t!==t&&e!==e}function Vs(t){return null!=t&&Js(t.length)&&!Ks(t)}function Hs(t){return eu(t)&&Vs(t)}function Gs(t){return!0===t||!1===t||eu(t)&&vr(t)==zt}function Ws(t){return eu(t)&&1===t.nodeType&&!cu(t)}function qs(t){if(null==t)return!0;if(Vs(t)&&(pf(t)||"string"==typeof t||"function"==typeof t.splice||vf(t)||bf(t)||ff(t)))return!t.length;var e=xh(t);if(e==Yt||e==Jt)return!t.size;if(ko(t))return!Dr(t).length;for(var n in t)if(fl.call(t,n))return!1;return!0}function Ys(t,e){return Mr(t,e)}function Xs(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Mr(t,e,nt,n):!!r}function $s(t){if(!eu(t))return!1;var e=vr(t);return e==Gt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!cu(t)}function Qs(t){return"number"==typeof t&&Ul(t)}function Ks(t){if(!tu(t))return!1;var e=vr(t);return e==Wt||e==qt||e==Bt||e==Kt}function Zs(t){return"number"==typeof t&&t==yu(t)}function Js(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nt}function tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eu(t){return null!=t&&"object"==typeof t}function nu(t,e){return t===e||Ir(t,e,_o(e))}function ru(t,e,n){return n="function"==typeof n?n:nt,Ir(t,e,_o(e),n)}function iu(t){return uu(t)&&t!=+t}function ou(t){if(Eh(t))throw new tl(it);return Or(t)}function au(t){return null===t}function su(t){return null==t}function uu(t){return"number"==typeof t||eu(t)&&vr(t)==Xt}function cu(t){if(!eu(t)||vr(t)!=Qt)return!1;var e=El(t);if(null===e)return!0;var n=fl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&hl.call(n)==ml}function lu(t){return Zs(t)&&t>=-Nt&&t<=Nt}function hu(t){return"string"==typeof t||!pf(t)&&eu(t)&&vr(t)==te}function fu(t){return"symbol"==typeof t||eu(t)&&vr(t)==ee}function pu(t){return t===nt}function du(t){return eu(t)&&xh(t)==re}function vu(t){return eu(t)&&vr(t)==ie}function mu(t){if(!t)return[];if(Vs(t))return hu(t)?Z(t):Ri(t);if(Al&&t[Al])return H(t[Al]());var e=xh(t);return(e==Yt?G:e==Jt?Y:$u)(t)}function gu(t){if(!t)return 0===t?t:0;if((t=bu(t))===Ot||t===-Ot){return(t<0?-1:1)*Rt}return t===t?t:0}function yu(t){var e=gu(t),n=e%1;return e===e?n?e-n:e:0}function _u(t){return t?Jn(yu(t),0,Lt):0}function bu(t){if("number"==typeof t)return t;if(fu(t))return Pt;if(tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,"");var n=Ve.test(t);return n||Ge.test(t)?Cn(t.slice(2),n?2:8):ze.test(t)?Pt:+t}function wu(t){return Pi(t,Fu(t))}function xu(t){return t?Jn(yu(t),-Nt,Nt):0===t?t:0}function Eu(t){return null==t?"":li(t)}function Tu(t,e){var n=ch(t);return null==e?n:$n(n,e)}function Su(t,e){return b(t,go(e,3),lr)}function Mu(t,e){return b(t,go(e,3),hr)}function Cu(t,e){return null==t?t:fh(t,go(e,3),Fu)}function Au(t,e){return null==t?t:ph(t,go(e,3),Fu)}function Iu(t,e){return t&&lr(t,go(e,3))}function Ou(t,e){return t&&hr(t,go(e,3))}function Nu(t){return null==t?[]:fr(t,ku(t))}function Ru(t){return null==t?[]:fr(t,Fu(t))}function Pu(t,e,n){var r=null==t?nt:pr(t,e);return r===nt?n:r}function Lu(t,e){return null!=t&&To(t,e,gr)}function Du(t,e){return null!=t&&To(t,e,yr)}function ku(t){return Vs(t)?In(t):Dr(t)}function Fu(t){return Vs(t)?In(t,!0):kr(t)}function Uu(t,e){var n={};return e=go(e,3),lr(t,function(t,r,i){Kn(n,e(t,r,i),t)}),n}function ju(t,e){var n={};return e=go(e,3),lr(t,function(t,r,i){Kn(n,r,e(t,r,i))}),n}function Bu(t,e){return zu(t,As(go(e)))}function zu(t,e){if(null==t)return{};var n=p(po(t),function(t){return[t]});return e=go(e),qr(t,n,function(t,n){return e(t,n[0])})}function Vu(t,e,n){e=bi(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[$o(e[r])];o===nt&&(r=i,o=n),t=Ks(o)?o.call(t):o}return t}function Hu(t,e,n){return null==t?t:ni(t,e,n)}function Gu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ni(t,e,n,r)}function Wu(t,e,n){var r=pf(t),i=r||vf(t)||bf(t);if(e=go(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:tu(t)&&Ks(o)?ch(El(t)):{}}return(i?s:lr)(t,function(t,r,i){return e(n,t,r,i)}),n}function qu(t,e){return null==t||fi(t,e)}function Yu(t,e,n){return null==t?t:pi(t,e,_i(n))}function Xu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:pi(t,e,_i(n),r)}function $u(t){return null==t?[]:L(t,ku(t))}function Qu(t){return null==t?[]:L(t,Fu(t))}function Ku(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=bu(n),n=n===n?n:0),e!==nt&&(e=bu(e),e=e===e?e:0),Jn(bu(t),e,n)}function Zu(t,e,n){return e=gu(e),n===nt?(n=e,e=0):n=gu(n),t=bu(t),_r(t,e,n)}function Ju(t,e,n){if(n&&"boolean"!=typeof n&&No(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=gu(t),e===nt?(e=t,t=0):e=gu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Wl();return Vl(t+i*(e-t+Mn("1e-"+((i+"").length-1))),e)}return Qr(t,e)}function tc(t){return qf(Eu(t).toLowerCase())}function ec(t){return(t=Eu(t))&&t.replace(qe,Hn).replace(pn,"")}function nc(t,e,n){t=Eu(t),e=li(e);var r=t.length;n=n===nt?r:Jn(yu(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function rc(t){return t=Eu(t),t&&xe.test(t)?t.replace(be,Gn):t}function ic(t){return t=Eu(t),t&&Oe.test(t)?t.replace(Ie,"\\$&"):t}function oc(t,e,n){t=Eu(t),e=yu(e);var r=e?K(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ki(Dl(i),n)+t+Ki(Ll(i),n)}function ac(t,e,n){t=Eu(t),e=yu(e);var r=e?K(t):0;return e&&r<e?t+Ki(e-r,n):t}function sc(t,e,n){t=Eu(t),e=yu(e);var r=e?K(t):0;return e&&r<e?Ki(e-r,n)+t:t}function uc(t,e,n){return n||null==e?e=0:e&&(e=+e),Gl(Eu(t).replace(Re,""),e||0)}function cc(t,e,n){return e=(n?No(t,e,n):e===nt)?1:yu(e),Zr(Eu(t),e)}function lc(){var t=arguments,e=Eu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function hc(t,e,n){return n&&"number"!=typeof n&&No(t,e,n)&&(e=n=nt),(n=n===nt?Lt:n>>>0)?(t=Eu(t),t&&("string"==typeof e||null!=e&&!yf(e))&&!(e=li(e))&&z(t)?wi(Z(t),0,n):t.split(e,n)):[]}function fc(t,e,n){return t=Eu(t),n=null==n?0:Jn(yu(n),0,t.length),e=li(e),t.slice(n,n+e.length)==e}function pc(t,e,r){var i=n.templateSettings;r&&No(t,e,r)&&(e=nt),t=Eu(t),e=Sf({},e,i,oo);var o,a,s=Sf({},e.imports,i.imports,oo),u=ku(s),c=L(s,u),l=0,h=e.interpolate||Ye,f="__p += '",p=il((e.escape||Ye).source+"|"+h.source+"|"+(h===Se?je:Ye).source+"|"+(e.evaluate||Ye).source+"|$","g"),d="//# sourceURL="+(fl.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++_n+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(l,u).replace(Xe,j),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),f+="';\n";var v=fl.call(e,"variable")&&e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(me,""):f).replace(ge,"$1").replace(ye,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Yf(function(){return el(u,d+"return "+f).apply(nt,c)});if(m.source=f,$s(m))throw m;return m}function dc(t){return Eu(t).toLowerCase()}function vc(t){return Eu(t).toUpperCase()}function mc(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Ne,"");if(!t||!(e=li(e)))return t;var r=Z(t),i=Z(e);return wi(r,k(r,i),F(r,i)+1).join("")}function gc(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Pe,"");if(!t||!(e=li(e)))return t;var r=Z(t);return wi(r,0,F(r,Z(e))+1).join("")}function yc(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Re,"");if(!t||!(e=li(e)))return t;var r=Z(t);return wi(r,k(r,Z(e))).join("")}function _c(t,e){var n=Tt,r=St;if(tu(e)){var i="separator"in e?e.separator:i;n="length"in e?yu(e.length):n,r="omission"in e?li(e.omission):r}t=Eu(t);var o=t.length;if(z(t)){var a=Z(t);o=a.length}if(n>=o)return t;var s=n-K(r);if(s<1)return r;var u=a?wi(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),yf(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=il(i.source,Eu(Be.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,h===nt?s:h)}}else if(t.indexOf(li(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function bc(t){return t=Eu(t),t&&we.test(t)?t.replace(_e,Wn):t}function wc(t,e,n){return t=Eu(t),e=n?nt:e,e===nt?V(t)?et(t):_(t):t.match(e)||[]}function xc(t){var e=null==t?0:t.length,n=go();return t=e?p(t,function(t){if("function"!=typeof t[1])throw new al(ot);return[n(t[0]),t[1]]}):[],Jr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Ec(t){return er(tr(t,ct))}function Tc(t){return function(){return t}}function Sc(t,e){return null==t||t!==t?e:t}function Mc(t){return t}function Cc(t){return Lr("function"==typeof t?t:tr(t,ct))}function Ac(t){return jr(tr(t,ct))}function Ic(t,e){return Br(t,tr(e,ct))}function Oc(t,e,n){var r=ku(e),i=fr(e,r);null!=n||tu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,ku(e)));var o=!(tu(n)&&"chain"in n&&!n.chain),a=Ks(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ri(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Nc(){return On._===this&&(On._=gl),this}function Rc(){}function Pc(t){return t=yu(t),Jr(function(e){return Hr(e,t)})}function Lc(t){return Ro(t)?M($o(t)):Yr(t)}function Dc(t){return function(e){return null==t?nt:pr(t,e)}}function kc(){return[]}function Fc(){return!1}function Uc(){return{}}function jc(){return""}function Bc(){return!0}function zc(t,e){if((t=yu(t))<1||t>Nt)return[];var n=Lt,r=Vl(t,Lt);e=go(e),t-=Lt;for(var i=N(r,e);++n<t;)e(n);return i}function Vc(t){return pf(t)?p(t,$o):fu(t)?[t]:Ri(Ch(Eu(t)))}function Hc(t){var e=++pl;return Eu(t)+e}function Gc(t){return t&&t.length?ar(t,Mc,mr):nt}function Wc(t,e){return t&&t.length?ar(t,go(e,2),mr):nt}function qc(t){return S(t,Mc)}function Yc(t,e){return S(t,go(e,2))}function Xc(t){return t&&t.length?ar(t,Mc,Fr):nt}function $c(t,e){return t&&t.length?ar(t,go(e,2),Fr):nt}function Qc(t){return t&&t.length?O(t,Mc):0}function Kc(t,e){return t&&t.length?O(t,go(e,2)):0}e=null==e?On:qn.defaults(On.Object(),e,qn.pick(On,yn));var Zc=e.Array,Jc=e.Date,tl=e.Error,el=e.Function,nl=e.Math,rl=e.Object,il=e.RegExp,ol=e.String,al=e.TypeError,sl=Zc.prototype,ul=el.prototype,cl=rl.prototype,ll=e["__core-js_shared__"],hl=ul.toString,fl=cl.hasOwnProperty,pl=0,dl=function(){var t=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vl=cl.toString,ml=hl.call(rl),gl=On._,yl=il("^"+hl.call(fl).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_l=Pn?e.Buffer:nt,bl=e.Symbol,wl=e.Uint8Array,xl=_l?_l.allocUnsafe:nt,El=W(rl.getPrototypeOf,rl),Tl=rl.create,Sl=cl.propertyIsEnumerable,Ml=sl.splice,Cl=bl?bl.isConcatSpreadable:nt,Al=bl?bl.iterator:nt,Il=bl?bl.toStringTag:nt,Ol=function(){try{var t=bo(rl,"defineProperty");return t({},"",{}),t}catch(t){}}(),Nl=e.clearTimeout!==On.clearTimeout&&e.clearTimeout,Rl=Jc&&Jc.now!==On.Date.now&&Jc.now,Pl=e.setTimeout!==On.setTimeout&&e.setTimeout,Ll=nl.ceil,Dl=nl.floor,kl=rl.getOwnPropertySymbols,Fl=_l?_l.isBuffer:nt,Ul=e.isFinite,jl=sl.join,Bl=W(rl.keys,rl),zl=nl.max,Vl=nl.min,Hl=Jc.now,Gl=e.parseInt,Wl=nl.random,ql=sl.reverse,Yl=bo(e,"DataView"),Xl=bo(e,"Map"),$l=bo(e,"Promise"),Ql=bo(e,"Set"),Kl=bo(e,"WeakMap"),Zl=bo(rl,"create"),Jl=Kl&&new Kl,th={},eh=Qo(Yl),nh=Qo(Xl),rh=Qo($l),ih=Qo(Ql),oh=Qo(Kl),ah=bl?bl.prototype:nt,sh=ah?ah.valueOf:nt,uh=ah?ah.toString:nt,ch=function(){function t(){}return function(e){if(!tu(e))return{};if(Tl)return Tl(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Ee,evaluate:Te,interpolate:Se,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=ch(r.prototype),i.prototype.constructor=i,y.prototype=ch(r.prototype),y.prototype.constructor=y,tt.prototype.clear=Fe,tt.prototype.delete=$e,tt.prototype.get=Qe,tt.prototype.has=Ke,tt.prototype.set=Ze,Je.prototype.clear=tn,Je.prototype.delete=en,Je.prototype.get=nn,Je.prototype.has=rn,Je.prototype.set=on,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=cn,an.prototype.has=ln,an.prototype.set=hn,dn.prototype.add=dn.prototype.push=vn,dn.prototype.has=mn,gn.prototype.clear=xn,gn.prototype.delete=En,gn.prototype.get=Tn,gn.prototype.has=Sn,gn.prototype.set=An;var lh=Ui(lr),hh=Ui(hr,!0),fh=ji(),ph=ji(!0),dh=Jl?function(t,e){return Jl.set(t,e),t}:Mc,vh=Ol?function(t,e){return Ol(t,"toString",{configurable:!0,enumerable:!1,value:Tc(e),writable:!0})}:Mc,mh=Jr,gh=Nl||function(t){return On.clearTimeout(t)},yh=Ql&&1/Y(new Ql([,-0]))[1]==Ot?function(t){return new Ql(t)}:Rc,_h=Jl?function(t){return Jl.get(t)}:Rc,bh=kl?function(t){return null==t?[]:(t=rl(t),l(kl(t),function(e){return Sl.call(t,e)}))}:kc,wh=kl?function(t){for(var e=[];t;)d(e,bh(t)),t=El(t);return e}:kc,xh=vr;(Yl&&xh(new Yl(new ArrayBuffer(1)))!=ae||Xl&&xh(new Xl)!=Yt||$l&&"[object Promise]"!=xh($l.resolve())||Ql&&xh(new Ql)!=Jt||Kl&&xh(new Kl)!=re)&&(xh=function(t){var e=vr(t),n=e==Qt?t.constructor:nt,r=n?Qo(n):"";if(r)switch(r){case eh:return ae;case nh:return Yt;case rh:return"[object Promise]";case ih:return Jt;case oh:return re}return e});var Eh=ll?Ks:Fc,Th=Yo(dh),Sh=Pl||function(t,e){return On.setTimeout(t,e)},Mh=Yo(vh),Ch=function(t){var e=Cs(t,function(t){return n.size===st&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ae,function(t,n,r,i){e.push(r?i.replace(Ue,"$1"):n||t)}),e}),Ah=Jr(function(t,e){return Hs(t)?ir(t,cr(e,1,Hs,!0)):[]}),Ih=Jr(function(t,e){var n=ga(e);return Hs(n)&&(n=nt),Hs(t)?ir(t,cr(e,1,Hs,!0),go(n,2)):[]}),Oh=Jr(function(t,e){var n=ga(e);return Hs(n)&&(n=nt),Hs(t)?ir(t,cr(e,1,Hs,!0),nt,n):[]}),Nh=Jr(function(t){var e=p(t,yi);return e.length&&e[0]===t[0]?br(e):[]}),Rh=Jr(function(t){var e=ga(t),n=p(t,yi);return e===ga(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?br(n,go(e,2)):[]}),Ph=Jr(function(t){var e=ga(t),n=p(t,yi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?br(n,nt,e):[]}),Lh=Jr(ba),Dh=ho(function(t,e){var n=null==t?0:t.length,r=Zn(t,e);return $r(t,p(e,function(t){return Oo(t,n)?+t:t}).sort(Ai)),r}),kh=Jr(function(t){return hi(cr(t,1,Hs,!0))}),Fh=Jr(function(t){var e=ga(t);return Hs(e)&&(e=nt),hi(cr(t,1,Hs,!0),go(e,2))}),Uh=Jr(function(t){var e=ga(t);return e="function"==typeof e?e:nt,hi(cr(t,1,Hs,!0),nt,e)}),jh=Jr(function(t,e){return Hs(t)?ir(t,e):[]}),Bh=Jr(function(t){return mi(l(t,Hs))}),zh=Jr(function(t){var e=ga(t);return Hs(e)&&(e=nt),mi(l(t,Hs),go(e,2))}),Vh=Jr(function(t){var e=ga(t);return e="function"==typeof e?e:nt,mi(l(t,Hs),nt,e)}),Hh=Jr(Va),Gh=Jr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Ha(t,n)}),Wh=ho(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Zn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof y&&Oo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Xa,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),qh=ki(function(t,e,n){fl.call(t,n)?++t[n]:Kn(t,n,1)}),Yh=Wi(sa),Xh=Wi(ua),$h=ki(function(t,e,n){fl.call(t,n)?t[n].push(e):Kn(t,n,[e])}),Qh=Jr(function(t,e,n){var r=-1,i="function"==typeof e,a=Vs(t)?Zc(t.length):[];return lh(t,function(t){a[++r]=i?o(e,t,n):xr(t,e,n)}),a}),Kh=ki(function(t,e,n){Kn(t,n,e)}),Zh=ki(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Jh=Jr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&No(t,e[0],e[1])?e=[]:n>2&&No(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,cr(e,1),[])}),tf=Rl||function(){return On.Date.now()},ef=Jr(function(t,e,n){var r=dt;if(n.length){var i=q(n,mo(ef));r|=_t}return io(t,r,e,n,i)}),nf=Jr(function(t,e,n){var r=dt|vt;if(n.length){var i=q(n,mo(nf));r|=_t}return io(e,r,t,n,i)}),rf=Jr(function(t,e){return rr(t,1,e)}),of=Jr(function(t,e,n){return rr(t,bu(e)||0,n)});Cs.Cache=an;var af=mh(function(t,e){e=1==e.length&&pf(e[0])?p(e[0],P(go())):p(cr(e,1),P(go()));var n=e.length;return Jr(function(r){for(var i=-1,a=Vl(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),sf=Jr(function(t,e){var n=q(e,mo(sf));return io(t,_t,nt,e,n)}),uf=Jr(function(t,e){var n=q(e,mo(uf));return io(t,bt,nt,e,n)}),cf=ho(function(t,e){return io(t,xt,nt,nt,nt,e)}),lf=to(mr),hf=to(function(t,e){return t>=e}),ff=Er(function(){return arguments}())?Er:function(t){return eu(t)&&fl.call(t,"callee")&&!Sl.call(t,"callee")},pf=Zc.isArray,df=kn?P(kn):Tr,vf=Fl||Fc,mf=Fn?P(Fn):Sr,gf=Un?P(Un):Ar,yf=jn?P(jn):Nr,_f=Bn?P(Bn):Rr,bf=zn?P(zn):Pr,wf=to(Fr),xf=to(function(t,e){return t<=e}),Ef=Fi(function(t,e){if(ko(e)||Vs(e))return void Pi(e,ku(e),t);for(var n in e)fl.call(e,n)&&Vn(t,n,e[n])}),Tf=Fi(function(t,e){Pi(e,Fu(e),t)}),Sf=Fi(function(t,e,n,r){Pi(e,Fu(e),t,r)}),Mf=Fi(function(t,e,n,r){Pi(e,ku(e),t,r)}),Cf=ho(Zn),Af=Jr(function(t,e){t=rl(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&No(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Fu(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(l===nt||zs(l,cl[c])&&!fl.call(t,c))&&(t[c]=o[c])}return t}),If=Jr(function(t){return t.push(nt,ao),o(Lf,nt,t)}),Of=Xi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=vl.call(e)),t[e]=n},Tc(Mc)),Nf=Xi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=vl.call(e)),fl.call(t,e)?t[e].push(n):t[e]=[n]},go),Rf=Jr(xr),Pf=Fi(function(t,e,n){zr(t,e,n)}),Lf=Fi(function(t,e,n,r){zr(t,e,n,r)}),Df=ho(function(t,e){var n={};if(null==t)return n;var r=!1;e=p(e,function(e){return e=bi(e,t),r||(r=e.length>1),e}),Pi(t,po(t),n),r&&(n=tr(n,ct|lt|ht,so));for(var i=e.length;i--;)fi(n,e[i]);return n}),kf=ho(function(t,e){return null==t?{}:Wr(t,e)}),Ff=ro(ku),Uf=ro(Fu),jf=Vi(function(t,e,n){return e=e.toLowerCase(),t+(n?tc(e):e)}),Bf=Vi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zf=Vi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vf=zi("toLowerCase"),Hf=Vi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Gf=Vi(function(t,e,n){return t+(n?" ":"")+qf(e)}),Wf=Vi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),qf=zi("toUpperCase"),Yf=Jr(function(t,e){try{return o(t,nt,e)}catch(t){return $s(t)?t:new tl(t)}}),Xf=ho(function(t,e){return s(e,function(e){e=$o(e),Kn(t,e,ef(t[e],t))}),t}),$f=qi(),Qf=qi(!0),Kf=Jr(function(t,e){return function(n){return xr(n,t,e)}}),Zf=Jr(function(t,e){return function(n){return xr(t,n,e)}}),Jf=Qi(p),tp=Qi(c),ep=Qi(g),np=Ji(),rp=Ji(!0),ip=$i(function(t,e){return t+e},0),op=no("ceil"),ap=$i(function(t,e){return t/e},1),sp=no("floor"),up=$i(function(t,e){return t*e},1),cp=no("round"),lp=$i(function(t,e){return t-e},0);return n.after=bs,n.ary=ws,n.assign=Ef,n.assignIn=Tf,n.assignInWith=Sf,n.assignWith=Mf,n.at=Cf,n.before=xs,n.bind=ef,n.bindAll=Xf,n.bindKey=nf,n.castArray=Ds,n.chain=qa,n.chunk=Jo,n.compact=ta,n.concat=ea,n.cond=xc,n.conforms=Ec,n.constant=Tc,n.countBy=qh,n.create=Tu,n.curry=Es,n.curryRight=Ts,n.debounce=Ss,n.defaults=Af,n.defaultsDeep=If,n.defer=rf,n.delay=of,n.difference=Ah,n.differenceBy=Ih,n.differenceWith=Oh,n.drop=na,n.dropRight=ra,n.dropRightWhile=ia,n.dropWhile=oa,n.fill=aa,n.filter=rs,n.flatMap=is,n.flatMapDeep=os,n.flatMapDepth=as,n.flatten=ca,n.flattenDeep=la,n.flattenDepth=ha,n.flip=Ms,n.flow=$f,n.flowRight=Qf,n.fromPairs=fa,n.functions=Nu,n.functionsIn=Ru,n.groupBy=$h,n.initial=va,n.intersection=Nh,n.intersectionBy=Rh,n.intersectionWith=Ph,n.invert=Of,n.invertBy=Nf,n.invokeMap=Qh,n.iteratee=Cc,n.keyBy=Kh,n.keys=ku,n.keysIn=Fu,n.map=ls,n.mapKeys=Uu,n.mapValues=ju,n.matches=Ac,n.matchesProperty=Ic,n.memoize=Cs,n.merge=Pf,n.mergeWith=Lf,n.method=Kf,n.methodOf=Zf,n.mixin=Oc,n.negate=As,n.nthArg=Pc,n.omit=Df,n.omitBy=Bu,n.once=Is,n.orderBy=hs,n.over=Jf,n.overArgs=af,n.overEvery=tp,n.overSome=ep,n.partial=sf,n.partialRight=uf,n.partition=Zh,n.pick=kf,n.pickBy=zu,n.property=Lc,n.propertyOf=Dc,n.pull=Lh,n.pullAll=ba,n.pullAllBy=wa,n.pullAllWith=xa,n.pullAt=Dh,n.range=np,n.rangeRight=rp,n.rearg=cf,n.reject=ds,n.remove=Ea,n.rest=Os,n.reverse=Ta,n.sampleSize=ms,n.set=Hu,n.setWith=Gu,n.shuffle=gs,n.slice=Sa,n.sortBy=Jh,n.sortedUniq=Ra,n.sortedUniqBy=Pa,n.split=hc,n.spread=Ns,n.tail=La,n.take=Da,n.takeRight=ka,n.takeRightWhile=Fa,n.takeWhile=Ua,n.tap=Ya,n.throttle=Rs,n.thru=Xa,n.toArray=mu,n.toPairs=Ff,n.toPairsIn=Uf,n.toPath=Vc,n.toPlainObject=wu,n.transform=Wu,n.unary=Ps,n.union=kh,n.unionBy=Fh,n.unionWith=Uh,n.uniq=ja,n.uniqBy=Ba,n.uniqWith=za,n.unset=qu,n.unzip=Va,n.unzipWith=Ha,n.update=Yu,n.updateWith=Xu,n.values=$u,n.valuesIn=Qu,n.without=jh,n.words=wc,n.wrap=Ls,n.xor=Bh,n.xorBy=zh,n.xorWith=Vh,n.zip=Hh,n.zipObject=Ga,n.zipObjectDeep=Wa,n.zipWith=Gh,n.entries=Ff,n.entriesIn=Uf,n.extend=Tf,n.extendWith=Sf,Oc(n,n),n.add=ip,n.attempt=Yf,n.camelCase=jf,n.capitalize=tc,n.ceil=op,n.clamp=Ku,n.clone=ks,n.cloneDeep=Us,n.cloneDeepWith=js,n.cloneWith=Fs,n.conformsTo=Bs,n.deburr=ec,n.defaultTo=Sc,n.divide=ap,n.endsWith=nc,n.eq=zs,n.escape=rc,n.escapeRegExp=ic,n.every=ns,n.find=Yh,n.findIndex=sa,n.findKey=Su,n.findLast=Xh,n.findLastIndex=ua,n.findLastKey=Mu,n.floor=sp,n.forEach=ss,n.forEachRight=us,n.forIn=Cu,n.forInRight=Au,n.forOwn=Iu,n.forOwnRight=Ou,n.get=Pu,n.gt=lf,n.gte=hf,n.has=Lu,n.hasIn=Du,n.head=pa,n.identity=Mc,n.includes=cs,n.indexOf=da,n.inRange=Zu,n.invoke=Rf,n.isArguments=ff,n.isArray=pf,n.isArrayBuffer=df,n.isArrayLike=Vs,n.isArrayLikeObject=Hs,n.isBoolean=Gs,n.isBuffer=vf,n.isDate=mf,n.isElement=Ws,n.isEmpty=qs,n.isEqual=Ys,n.isEqualWith=Xs,n.isError=$s,n.isFinite=Qs,n.isFunction=Ks,n.isInteger=Zs,n.isLength=Js,n.isMap=gf,n.isMatch=nu,n.isMatchWith=ru,n.isNaN=iu,n.isNative=ou,n.isNil=su,n.isNull=au,n.isNumber=uu,n.isObject=tu,n.isObjectLike=eu,n.isPlainObject=cu,n.isRegExp=yf,n.isSafeInteger=lu,n.isSet=_f,n.isString=hu,n.isSymbol=fu,n.isTypedArray=bf,n.isUndefined=pu,n.isWeakMap=du,n.isWeakSet=vu,n.join=ma,n.kebabCase=Bf,n.last=ga,n.lastIndexOf=ya,n.lowerCase=zf,n.lowerFirst=Vf,n.lt=wf,n.lte=xf,n.max=Gc,n.maxBy=Wc,n.mean=qc,n.meanBy=Yc,n.min=Xc,n.minBy=$c,n.stubArray=kc,n.stubFalse=Fc,n.stubObject=Uc,n.stubString=jc,n.stubTrue=Bc,n.multiply=up,n.nth=_a,n.noConflict=Nc,n.noop=Rc,n.now=tf,n.pad=oc,n.padEnd=ac,n.padStart=sc,n.parseInt=uc,n.random=Ju,n.reduce=fs,n.reduceRight=ps,n.repeat=cc,n.replace=lc,n.result=Vu,n.round=cp,n.runInContext=t,n.sample=vs,n.size=ys,n.snakeCase=Hf,n.some=_s,n.sortedIndex=Ma,n.sortedIndexBy=Ca,n.sortedIndexOf=Aa,n.sortedLastIndex=Ia,n.sortedLastIndexBy=Oa,n.sortedLastIndexOf=Na,n.startCase=Gf,n.startsWith=fc,n.subtract=lp,n.sum=Qc,n.sumBy=Kc,n.template=pc,n.times=zc,n.toFinite=gu,n.toInteger=yu,n.toLength=_u,n.toLower=dc,n.toNumber=bu,n.toSafeInteger=xu,n.toString=Eu,n.toUpper=vc,n.trim=mc,n.trimEnd=gc,n.trimStart=yc,n.truncate=_c,n.unescape=bc,n.uniqueId=Hc,n.upperCase=Wf,n.upperFirst=qf,n.each=ss,n.eachRight=us,n.first=pa,Oc(n,function(){var t={};return lr(n,function(e,r){fl.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.15",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){y.prototype[t]=function(n){n=n===nt?1:zl(yu(n),0);var r=this.__filtered__&&!e?new y(this):this.clone();return r.__filtered__?r.__takeCount__=Vl(n,r.__takeCount__):r.__views__.push({size:Vl(n,Lt),type:t+(r.__dir__<0?"Right":"")}),r},y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==At||3==n;y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:go(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");y.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");y.prototype[t]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(Mc)},y.prototype.find=function(t){return this.filter(t).head()},y.prototype.findLast=function(t){return this.reverse().find(t)},y.prototype.invokeMap=Jr(function(t,e){return"function"==typeof t?new y(this):this.map(function(n){return xr(n,t,e)})}),y.prototype.reject=function(t){return this.filter(As(go(t)))},y.prototype.slice=function(t,e){t=yu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=yu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},y.prototype.toArray=function(){return this.take(Lt)},lr(y.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,c=e instanceof y,l=u[0],h=c||pf(e),f=function(t){var e=a.apply(n,d([t],u));return o&&p?e[0]:e};h&&r&&"function"==typeof l&&1!=l.length&&(c=h=!1);var p=this.__chain__,v=!!this.__actions__.length,m=s&&!p,g=c&&!v;if(!s&&h){e=g?e:new y(this);var _=t.apply(e,u);return _.__actions__.push({func:Xa,args:[f],thisArg:nt}),new i(_,p)}return m&&g?t.apply(this,u):(_=this.thru(f),m?o?_.value()[0]:_.value():_)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=sl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(pf(n)?n:[],t)}return this[r](function(n){return e.apply(pf(n)?n:[],t)})}}),lr(y.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";fl.call(th,i)||(th[i]=[]),th[i].push({name:e,func:r})}}),th[Yi(nt,vt).name]=[{name:"wrapper",func:nt}],y.prototype.clone=C,y.prototype.reverse=$,y.prototype.value=J,n.prototype.at=Wh,n.prototype.chain=$a,n.prototype.commit=Qa,n.prototype.next=Ka,n.prototype.plant=Ja,n.prototype.reverse=ts,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=es,n.prototype.first=n.prototype.head,Al&&(n.prototype[Al]=Za),n}();On._=qn,(i=function(){return qn}.call(e,n,e,r))!==nt&&(r.exports=i)}).call(this)}).call(e,n(32),n(227)(t))},function(t,e,n){var r=n(23),i=n(69),o=n(10),a=n(6),s=n(125);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var v,m,g=o(e),y=i(g),_=r(s,d,3),b=a(y.length),w=0,x=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((f||w in y)&&(v=y[w],m=_(v,w,g),t))if(n)x[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return h?-1:c||l?l:x}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(0),i=n(22),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,h=l?u.render:u.beforeCreate;l?u.render=function(t,e){return c.call(e),h(t,e)}:u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:o,exports:a,options:u}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(204),i=n(0),o=n(71)("metadata"),a=o.store||(o.store=new(n(208))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){s(n,r,!0).set(t,e)},h=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:h,key:f,exp:p}},function(t,e,n){"use strict";if(n(7)){var r=n(37),i=n(2),o=n(3),a=n(0),s=n(94),u=n(146),c=n(23),l=n(42),h=n(47),f=n(14),p=n(48),d=n(25),v=n(6),m=n(202),g=n(50),y=n(30),_=n(17),b=n(59),w=n(4),x=n(10),E=n(132),T=n(44),S=n(19),M=n(45).f,C=n(148),A=n(51),I=n(5),O=n(27),N=n(82),R=n(72),P=n(149),L=n(60),D=n(87),k=n(49),F=n(124),U=n(174),j=n(8),B=n(18),z=j.f,V=B.f,H=i.RangeError,G=i.TypeError,W=i.Uint8Array,q=Array.prototype,Y=u.ArrayBuffer,X=u.DataView,$=O(0),Q=O(2),K=O(3),Z=O(4),J=O(5),tt=O(6),et=N(!0),nt=N(!1),rt=P.values,it=P.keys,ot=P.entries,at=q.lastIndexOf,st=q.reduce,ut=q.reduceRight,ct=q.join,lt=q.sort,ht=q.slice,ft=q.toString,pt=q.toLocaleString,dt=I("iterator"),vt=I("toStringTag"),mt=A("typed_constructor"),gt=A("def_constructor"),yt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=O(1,function(t,e){return Mt(R(t,t[gt]),e)}),xt=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Et=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),Tt=function(t,e){var n=d(t);if(n<0||n%e)throw H("Wrong offset!");return n},St=function(t){if(w(t)&&_t in t)return t;throw G(t+" is not a typed array!")},Mt=function(t,e){if(!(w(t)&&mt in t))throw G("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return At(R(t,t[gt]),e)},At=function(t,e){for(var n=0,r=e.length,i=Mt(t,r);r>n;)i[n]=e[n++];return i},It=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,r,i,o,a,s=x(t),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=C(s);if(void 0!=f&&!E(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=Mt(this,n);n>e;e++)i[e]=h?l(s[e],e):s[e];return i},Nt=function(){for(var t=0,e=arguments.length,n=Mt(this,e);e>t;)n[t]=arguments[t++];return n},Rt=!!W&&o(function(){pt.call(new W(1))}),Pt=function(){return pt.apply(Rt?ht.call(St(this)):St(this),arguments)},Lt={copyWithin:function(t,e){return U.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(St(this),arguments)},filter:function(t){return Ct(this,Q(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(St(this),arguments)},lastIndexOf:function(t){return at.apply(St(this),arguments)},map:function(t){return wt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(St(this),arguments)},reduceRight:function(t){return ut.apply(St(this),arguments)},reverse:function(){for(var t,e=this,n=St(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return K(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(St(this),t)},subarray:function(t,e){var n=St(this),r=n.length,i=g(t,r);return new(R(n,n[gt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Dt=function(t,e){return Ct(this,ht.call(St(this),t,e))},kt=function(t){St(this);var e=Tt(arguments[1],1),n=this.length,r=x(t),i=v(r.length),o=0;if(i+e>n)throw H("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return ot.call(St(this))},keys:function(){return it.call(St(this))},values:function(){return rt.call(St(this))}},Ut=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Ut(t,e=y(e,!0))?h(2,t[e]):V(t,e)},Bt=function(t,e,n){return!(Ut(t,e=y(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};yt||(B.f=jt,j.f=Bt),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Bt}),o(function(){ft.call({})})&&(ft=pt=function(){return ct.call(this)});var zt=p({},Lt);p(zt,Ft),f(zt,dt,Ft.values),p(zt,{slice:Dt,set:kt,constructor:function(){},toString:ft,toLocaleString:Pt}),It(zt,"buffer","b"),It(zt,"byteOffset","o"),It(zt,"byteLength","l"),It(zt,"length","e"),z(zt,vt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[c],g=d||{},y=d&&S(d),_=!d||!s.ABV,x={},E=d&&d.prototype,C=function(t,n){var r=t._d;return r.v[h](n*e+r.o,xt)},A=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,xt)},I=function(t,e){z(t,e,{get:function(){return C(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};_?(d=n(function(t,n,r,i){l(t,d,c,"_d");var o,a,s,u,h=0,p=0;if(w(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return _t in n?At(d,n):Ot.call(d,n);o=n,p=Tt(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw H("Wrong length!");if((a=g-p)<0)throw H("Wrong length!")}else if((a=v(i)*e)+p>g)throw H("Wrong length!");s=a/e}else s=m(n),a=s*e,o=new Y(a);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});h<s;)I(t,h++)}),E=d.prototype=T(zt),f(E,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&D(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){l(t,d,c);var o;return w(n)?n instanceof Y||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Tt(r,e),i):void 0!==r?new g(n,Tt(r,e)):new g(n):_t in n?At(d,n):Ot.call(d,n):new g(m(n))}),$(y!==Function.prototype?M(g).concat(M(y)):M(g),function(t){t in d||f(d,t,g[t])}),d.prototype=E,r||(E.constructor=d));var O=E[dt],N=!!O&&("values"==O.name||void 0==O.name),R=Ft.values;f(d,mt,!0),f(E,_t,c),f(E,bt,!0),f(E,gt,d),(u?new d(1)[vt]==c:vt in E)||z(E,vt,{get:function(){return c}}),x[c]=d,a(a.G+a.W+a.F*(d!=g),x),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){g.of.call(d,1)}),c,{from:Ot,of:Nt}),"BYTES_PER_ELEMENT"in E||f(E,"BYTES_PER_ELEMENT",e),a(a.P,c,Lt),k(c),a(a.P+a.F*Et,c,{set:kt}),a(a.P+a.F*!N,c,Ft),r||E.toString==ft||(E.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:Dt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:Pt}),L[c]=N?O:R,r||N||f(E,dt,R)}}else t.exports=function(){}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(14)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var r=n(51)("meta"),i=n(4),o=n(17),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},,function(t,e,n){t.exports=!n(66)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(23),i=n(185),o=n(132),a=n(1),s=n(6),u=n(148),c={},l={},e=t.exports=function(t,e,n,h,f){var p,d,v,m,g=f?function(){return t}:u(t),y=r(n,h,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=s(t.length);p>_;_++)if((m=e?y(a(d=t[_])[0],d[1]):y(t[_]))===c||m===l)return m}else for(v=g.call(t);!(d=v.next()).done;)if((m=i(v,y,d.value,e))===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(1),i=n(191),o=n(128),a=n(141)("IE_PROTO"),s=function(){},u=function(){var t,e=n(127)("iframe"),r=o.length;for(e.style.display="none",n(130).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(193),i=n(128).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(193),i=n(128);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(7),a=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(25),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},,,function(t,e,n){var r=n(56),i=n(80);t.exports=n(40)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(76),i=n(166),o=n(120),a=Object.defineProperty;e.f=n(40)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(167),i=n(110);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(117)("wks"),i=n(81),o=n(35).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(21),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports={}},function(t,e,n){var r=n(8).f,i=n(17),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(28),o=n(3),a=n(144),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},function(t,e,n){"use strict";function r(){function t(t){p(v[t],"delete"),delete v[t]}function e(t){return t=t||s,a(v,t)||i("no-app",{name:t}),v[t]}function u(t,e){if(void 0===e&&(e={}),"object"!=typeof e||null===e){e={name:e}}var n=e;void 0===n.name&&(n.name=s);var r=n.name;"string"==typeof r&&r||i("bad-app-name",{name:r+""}),a(v,r)&&i("duplicate-app",{name:r});var o=new c(t,n,y);return v[r]=o,p(o,"create"),o}function l(){return Object.keys(v).map(function(t){return v[t]})}function h(t,r,a,s,u){m[t]&&i("duplicate-service",{name:t}),m[t]=r,s&&(g[t]=s,l().forEach(function(t){s("create",t)}));var h=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&i("invalid-app-argument",{name:t}),n[t]()};return void 0!==a&&n.i(o.deepExtend)(h,a),y[t]=h,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,u?e:[])},h}function f(t){n.i(o.deepExtend)(y,t)}function p(t,e){Object.keys(m).forEach(function(n){var r=d(t,n);null!==r&&g[r]&&g[r](e,t)})}function d(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var v={},m={},g={},y={__esModule:!0,initializeApp:u,app:e,apps:null,Promise:Promise,SDK_VERSION:"4.13.0",INTERNAL:{registerService:h,createFirebaseNamespace:r,extendNamespace:f,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:t,factories:m,useAsService:d,Promise:Promise,deepExtend:o.deepExtend}};return n.i(o.patchProperty)(y,"default",y),Object.defineProperty(y,"apps",{get:l}),n.i(o.patchProperty)(e,"App",c),y}function i(t,e){throw h.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"firebase",function(){return f});var o=n(102),a=(n.n(o),function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}),s="[DEFAULT]",u=[],c=function(){function t(t,e,r){this.firebase_=r,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=n.i(o.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;n.i(o.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new o.ErrorFactory("app","Firebase",l),f=r();e.default=f},,function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(22),i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(37)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(1),i=n(11),o=n(5)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(301),o=r(i),a=n(300),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,n){var r=n(67);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=!0},function(t,e,n){var r=n(171),i=n(111);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(20),i=n(6),o=n(50);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(15),a=n(48),s=n(38),u=n(43),c=n(42),l=n(4),h=n(3),f=n(87),p=n(61),d=n(131);t.exports=function(t,e,n,v,m,g){var y=r[t],_=y,b=m?"set":"add",w=_&&_.prototype,x={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(g||w.forEach&&!h(function(){(new _).entries().next()}))){var T=new _,S=T[b](g?{}:-0,1)!=T,M=h(function(){T.has(1)}),C=f(function(t){new _(t)}),A=!g&&h(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});C||(_=e(function(e,n){c(e,_,t);var r=d(new y,e,_);return void 0!=n&&u(n,m,r[b],r),r}),_.prototype=w,w.constructor=_),(M||A)&&(E("delete"),E("has"),m&&E("get")),(A||S)&&E(b),g&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,m,b),a(_.prototype,n),s.NEED=!0;return p(_,t),x[t]=_,i(i.G+i.W+i.F*(_!=y),x),g||v.setStrong(_,t,m),_}},function(t,e,n){"use strict";n(205);var r=n(15),i=n(14),o=n(3),a=n(28),s=n(5),u=n(139),c=s("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),p=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e}):void 0;if(!p||!d||"replace"===t&&!l||"split"===t&&!h){var v=/./[f],m=n(a,f,""[t],function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),g=m[0],y=m[1];r(String.prototype,t,g),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r=n(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(4),i=n(21),o=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";t.exports=n(37)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(59),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(23),a=n(43);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){var r=n(25),i=n(28);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){for(var r,i=n(2),o=n(14),a=n(51),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){var r=n(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";function r(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function i(t,e){if(t){for(var n=t.className,i=(e||"").split(" "),o=0,a=i.length;o<a;o++){var s=i[o];s&&(t.classList?t.classList.add(s):r(t,s)||(n+=" "+s))}t.classList||(t.className=n)}}function o(t,e){if(t&&e){for(var n=e.split(" "),i=" "+t.className+" ",o=0,a=n.length;o<a;o++){var s=n[o];s&&(t.classList?t.classList.remove(s):r(t,s)&&(i=i.replace(" "+s+" "," ")))}t.classList||(t.className=d(i))}}function a(t,e,n){if(t&&e)if("object"===(void 0===e?"undefined":s(e)))for(var r in e)e.hasOwnProperty(r)&&a(t,r,e[r]);else e=v(e),"opacity"===e&&p<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}e.__esModule=!0,e.getStyle=e.once=e.off=e.on=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=r,e.addClass=i,e.removeClass=o,e.setStyle=a;var u=n(12),c=function(t){return t&&t.__esModule?t:{default:t}}(u),l=c.default.prototype.$isServer,h=/([\:\-\_]+(.))/g,f=/^moz([A-Z])/,p=l?0:Number(document.documentMode),d=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},v=function(t){return t.replace(h,function(t,e,n,r){return r?n.toUpperCase():n}).replace(f,"Moz$1")},m=e.on=function(){return!l&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),g=e.off=function(){return!l&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();e.once=function(t,e,n){m(t,e,function r(){n&&n.apply(this,arguments),g(t,e,r)})},e.getStyle=p<9?function(t,e){if(!l){if(!t||!e)return null;e=v(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!l){if(!t||!e)return null;e=v(e),"float"===e&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(t[i]=o)}}return t}},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(623);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(601);t.exports=r},function(t,e,n){var r=n(151),i=r(Object,"create");t.exports=i},function(t,e,n){"use strict";function r(t){return t.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function i(){for(var t={},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}function o(t,e){var n={};return e.forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n}function a(t,e){var n={};return Object.keys(t).forEach(function(r){l(e,r)||(n[r]=t[r])}),n}function s(t){var e=[];return Object.keys(t).forEach(function(n){e.push(t[n])}),e}function u(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r],r)}),n}function c(){return Object.keys(i.apply(void 0,arguments))}function l(t,e){return t.indexOf(e)>-1}function h(t,e,n,r){if(b>=2)t.render=function(t){return t(e,{props:o(this,n),on:o(this,r),scopedSlots:this.$scopedSlots},s(this.$slots))};else{var i=n.map(d);t.template="<"+e+" v-ref:component "+i.join(" ")+"><slot></slot></"+e+">",t.compiled=function(){var t=this;r.forEach(function(e){t.$refs.component.$on(e,t[e])})}}}function f(t,e){t.mixins=[u(o(e,w),function(t){return function(){t.call(this,this.$store)}})]}function p(t){return"function"==typeof t?t.options:t}function d(t){return":"+r(t)+'="'+t+'"'}function v(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this,this.$store].concat(n))}}function m(t){return Array.isArray(t)?t.reduce(function(t,e){return t[e]=e,t},{}):t}/*!
 * vuex-connect v1.3.1
 * https://github.com/ktsn/vuex-connect
 *
 * Copyright (c) 2016 katashin
 * Released under the MIT license
 * https://github.com/ktsn/vuex-connect/blob/master/LICENSE
 */
Object.defineProperty(e,"__esModule",{value:!0});var g=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(12)),y=n(226),_=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},b=Number(g.version.split(".")[0]),w=["init","created","beforeCompile","compiled","ready","attached","detached","beforeDestroy","destroyed","beforeCreate","beforeMount","mounted","beforeUpdate","updated","activated","deactivated"],x=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=u(e,m),r=n.stateToProps,o=void 0===r?{}:r,s=n.gettersToProps,l=void 0===s?{}:s,d=n.actionsToProps,b=void 0===d?{}:d,w=n.actionsToEvents,x=void 0===w?{}:w,E=n.mutationsToProps,T=void 0===E?{}:E,S=n.mutationsToEvents,M=void 0===S?{}:S,C=n.methodsToProps,A=void 0===C?{}:C,I=n.methodsToEvents,O=void 0===I?{}:I,N=n.lifecycle,R=void 0===N?{}:N;return function(e,n){"string"!=typeof e&&(n=e,e=p(n).name||"wrapped-anonymous-component");var r=c(o,l,b,T,A),s=c(x,M,O),d=a(p(n).props||{},r),m={name:"connect-"+e,props:d,components:_({},e,n),computed:i(y.mapState(o),y.mapGetters(l)),methods:i(y.mapActions(i(b,x)),y.mapMutations(i(T,M)),u(i(A,O),v))};return f(m,R),h(m,e,r.concat(Object.keys(d)),s),t&&t(m,R),g.extend(m)}}},E=x();e.connect=E,e.createConnect=x},function(t,e,n){"use strict";function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=i(t[r],e[r]));return t}function o(t,e,n){t[e]=n}function a(t){var e=R;return R=t,e}function s(t){return JSON.parse(t)}function u(t){return JSON.stringify(t)}function c(t,e){var n=new it(t,e);return n.subscribe.bind(n)}function l(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function h(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}function f(){}function p(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function d(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(p(t,e,r)+"must be a valid firebase namespace.")}function v(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(p(t,e,r)+"must be a valid function.")}function m(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(p(t,e,r)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0});var g=n(155),y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_=function(t,e){if(!t)throw b(e)},b=function(t){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},w=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},x=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!=c){var p=s<<4&240|c>>2;if(r.push(p),64!=h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},T=function(t){var e=w(t);return E.encodeByteArray(e,!0)},S=function(t){try{return E.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},M=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),C=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},A=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())},I=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},O=function(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN},N="FirebaseError",R=Error.captureStackTrace,P=function(){function t(t,e){if(this.code=t,this.message=e,R)R(this,L.prototype.create);else{var n=Error.apply(this,arguments);this.name=N,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P.prototype.name=N;var L=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new P(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=s(S(o[0])||""),n=s(S(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},k=function(t){var e,n,r=D(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},F=function(t){var e=D(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=D(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},j=function(t){var e=D(t).claims;return"object"==typeof e&&!0===e.admin},B=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},z=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},V=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},H=function(t,e){return V(e,function(e,n){t[e]=n}),t},G=function(t){return H({},t)},W=function(t){return"object"==typeof t&&null!==t},q=function(t){for(var e in t)return!1;return!0},Y=function(t){var e=0;for(var n in t)e++;return e},X=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},$=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},Q=function(t,e,n){var r=$(t,e,n);return r&&t[r]},K=function(t){for(var e in t)return e},Z=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},J=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},tt=function(t){var e=[];return V(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},et=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},nt=function(){function t(){this.blockSize=-1}return t}(),rt=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return g.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(nt),it=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=h(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=f),void 0===r.error&&(r.error=f),void 0===r.complete&&(r.complete=f);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),ot=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.assert=_,e.assertionError=b,e.base64=E,e.base64Decode=S,e.base64Encode=T,e.CONSTANTS=y,e.deepCopy=r,e.deepExtend=i,e.patchProperty=o,e.Deferred=M,e.getUA=C,e.isMobileCordova=A,e.isNodeSdk=O,e.isReactNative=I,e.ErrorFactory=L,e.FirebaseError=P,e.patchCapture=a,e.jsonEval=s,e.stringify=u,e.decode=D,e.isAdmin=j,e.issuedAtTime=F,e.isValidFormat=U,e.isValidTimestamp=k,e.clone=G,e.contains=B,e.every=J,e.extend=H,e.findKey=$,e.findValue=Q,e.forEach=V,e.getAnyKey=K,e.getCount=Y,e.getValues=Z,e.isEmpty=q,e.isNonNullObject=W,e.map=X,e.safeGet=z,e.querystring=tt,e.querystringDecode=et,e.Sha1=rt,e.async=l,e.createSubscribe=c,e.errorPrefix=p,e.validateArgCount=ot,e.validateCallback=v,e.validateContextObject=m,e.validateNamespace=d,e.stringLength=st,e.stringToByteArray=at},,,,,,,,function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(35),i=n(65),o=n(310),a=n(55),s=n(41),u=function(t,e,n){var c,l,h,f=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,m=t&u.B,g=t&u.W,y=p?i:i[e]||(i[e]={}),_=y.prototype,b=p?r:d?r[e]:(r[e]||{}).prototype;p&&(n=e);for(c in n)(l=!f&&b&&void 0!==b[c])&&s(y,c)||(h=l?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:m&&l?o(h,r):g&&b[c]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):v&&"function"==typeof h?o(Function.call,h):h,v&&((y.virtual||(y.virtual={}))[c]=h,t&u.R&&_&&!_[c]&&a(_,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports={}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(56).f,i=n(41),o=n(58)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(117)("keys"),i=n(81);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(65),i=n(35),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(77)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(110);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(67);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(35),i=n(65),o=n(77),a=n(122),s=n(56).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(58)},function(t,e,n){"use strict";var r=n(93)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(10),i=n(50),o=n(6);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(333);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(8),i=n(47);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),i=n(140).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(60),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(44),i=n(47),o=n(61),a={};n(14)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(37),i=n(0),o=n(15),a=n(14),s=n(60),u=n(133),c=n(61),l=n(19),h=n(5)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,m,g){u(n,e,d);var y,_,b,w=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",E="values"==v,T=!1,S=t.prototype,M=S[h]||S["@@iterator"]||v&&S[v],C=M||w(v),A=v?E?w("entries"):C:void 0,I="Array"==e?S.entries||M:M;if(I&&(b=l(I.call(new t)))!==Object.prototype&&b.next&&(c(b,x,!0),r||"function"==typeof b[h]||a(b,h,p)),E&&M&&"values"!==M.name&&(T=!0,C=function(){return M.call(this)}),r&&!g||!f&&!T&&S[h]||a(S,h,C),s[e]=C,s[x]=p,v)if(y={values:E?C:w("values"),keys:m?C:w("keys"),entries:A},g)for(_ in y)_ in S||o(S,_,y[_]);else i(i.P+i.F*(f||T),e,y);return y}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(2),i=n(145).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(21)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(11);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(68),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(t){var e,n,a,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(e=l.lastIndex),a=i.call(l,t),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:e),u&&a&&a.length>1&&o.call(a[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)}),a}),t.exports=a},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(23)(Function.call,n(18).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(71)("keys"),i=n(51);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(86),i=n(28);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){"use strict";var r=n(25),i=n(28);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r,i,o,a=n(23),s=n(183),u=n(130),c=n(127),l=n(2),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,m=0,g={},y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete g[t]},"process"==n(21)(h)?r=function(t){h.nextTick(a(y,t,1))}:v&&v.now?r=function(t){v.now(a(y,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?U(2,-24)-U(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===D?(i=t!=t?1:0,r=u):(r=j(B(t)/z),t*(o=U(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*U(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*U(2,e),r+=c):(i=t*U(2,c-1)*U(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-D:D;r+=U(2,e),l-=a}return(c?-1:1)*r*U(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function h(t,e,n){M(t[I],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i=+n,o=T(i);if(o+e>t[H])throw L(O);var a=t[V]._b,s=o+t[G],u=a.slice(s,s+e);return r?u:u.reverse()}function p(t,e,n,r,i,o){var a=+n,s=T(a);if(s+e>t[H])throw L(O);for(var u=t[V]._b,c=s+t[G],l=r(+i),h=0;h<e;h++)u[c+h]=l[o?h:e-h-1]}var d=n(2),v=n(7),m=n(37),g=n(94),y=n(14),_=n(48),b=n(3),w=n(42),x=n(25),E=n(6),T=n(202),S=n(45).f,M=n(8).f,C=n(124),A=n(61),I="prototype",O="Wrong index!",N=d.ArrayBuffer,R=d.DataView,P=d.Math,L=d.RangeError,D=d.Infinity,k=N,F=P.abs,U=P.pow,j=P.floor,B=P.log,z=P.LN2,V=v?"_b":"buffer",H=v?"_l":"byteLength",G=v?"_o":"byteOffset";if(g.ABV){if(!b(function(){N(1)})||!b(function(){new N(-1)})||b(function(){return new N,new N(1.5),new N(NaN),"ArrayBuffer"!=N.name})){N=function(t){return w(this,N),new k(T(t))};for(var W,q=N[I]=k[I],Y=S(k),X=0;Y.length>X;)(W=Y[X++])in N||y(N,W,k[W]);m||(q.constructor=N)}var $=new R(new N(2)),Q=R[I].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||_(R[I],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else N=function(t){w(this,N,"ArrayBuffer");var e=T(t);this._b=C.call(new Array(e),0),this[H]=e},R=function(t,e,n){w(this,R,"DataView"),w(t,N,"DataView");var r=t[H],i=x(e);if(i<0||i>r)throw L("Wrong offset!");if(n=void 0===n?r-i:E(n),i+n>r)throw L("Wrong length!");this[V]=t,this[G]=i,this[H]=n},v&&(h(N,"byteLength","_l"),h(R,"buffer","_b"),h(R,"byteLength","_l"),h(R,"byteOffset","_o")),_(R[I],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(f(this,4,t,arguments[1]))},getUint32:function(t){return o(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){p(this,1,t,a,e)},setUint8:function(t,e){p(this,1,t,a,e)},setInt16:function(t,e){p(this,2,t,s,e,arguments[2])},setUint16:function(t,e){p(this,2,t,s,e,arguments[2])},setInt32:function(t,e){p(this,4,t,u,e,arguments[2])},setUint32:function(t,e){p(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){p(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){p(this,8,t,c,e,arguments[2])}});A(N,"ArrayBuffer"),A(R,"DataView"),y(R[I],g.VIEW,!0),e.ArrayBuffer=N,e.DataView=R},function(t,e,n){var r=n(2),i=n(22),o=n(37),a=n(203),s=n(8).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(59),i=n(5)("iterator"),o=n(60);t.exports=n(22).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(36),i=n(186),o=n(60),a=n(20);t.exports=n(134)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(152),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(585),o=n(594);t.exports=r},function(t,e,n){var r=n(592),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(){}function i(t,e){this.x=t||0,this.y=e||0}function o(t,e,n,r,a,s,u,c,l,h){Object.defineProperty(this,"id",{value:Ba++}),this.uuid=ja.generateUUID(),this.name="",this.image=void 0!==t?t:o.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:o.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ho,this.wrapT=void 0!==r?r:Ho,this.magFilter=void 0!==a?a:Xo,this.minFilter=void 0!==s?s:Qo,this.anisotropy=void 0!==l?l:1,this.format=void 0!==u?u:ha,this.type=void 0!==c?c:Ko,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:Oa,this.version=0,this.onUpdate=null}function a(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function s(t,e,n){this.uuid=ja.generateUUID(),this.width=t,this.height=e,this.scissor=new a(0,0,t,e),this.scissorTest=!1,this.viewport=new a(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=Xo),this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function u(t,e,n){s.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function l(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function h(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function f(t,e,n,r,i,a,s,u,c,l,h,f){o.call(this,null,a,s,u,c,l,r,i,h,f),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:Wo,this.minFilter=void 0!==l?l:Wo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function p(t,e,n,r,i,a,s,u,c,l){t=void 0!==t?t:[],e=void 0!==e?e:Do,o.call(this,t,e,n,r,i,a,s,u,c,l),this.flipY=!1}function d(){this.seq=[],this.map={}}function v(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Ha[i];if(void 0===o&&(o=new Float32Array(i),Ha[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function m(t,e){var n=Ga[e];void 0===n&&(n=new Int32Array(e),Ga[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function g(t,e){t.uniform1f(this.addr,e)}function y(t,e){t.uniform1i(this.addr,e)}function _(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function b(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function w(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function x(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function E(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(qa.set(e.elements),t.uniformMatrix3fv(this.addr,!1,qa))}function T(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Wa.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Wa))}function S(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||za,r)}function M(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||Va,r)}function C(t,e){t.uniform2iv(this.addr,e)}function A(t,e){t.uniform3iv(this.addr,e)}function I(t,e){t.uniform4iv(this.addr,e)}function O(t){switch(t){case 5126:return g;case 35664:return _;case 35665:return b;case 35666:return w;case 35674:return x;case 35675:return E;case 35676:return T;case 35678:case 36198:return S;case 35680:return M;case 5124:case 35670:return y;case 35667:case 35671:return C;case 35668:case 35672:return A;case 35669:case 35673:return I}}function N(t,e){t.uniform1fv(this.addr,e)}function R(t,e){t.uniform1iv(this.addr,e)}function P(t,e){t.uniform2fv(this.addr,v(e,this.size,2))}function L(t,e){t.uniform3fv(this.addr,v(e,this.size,3))}function D(t,e){t.uniform4fv(this.addr,v(e,this.size,4))}function k(t,e){t.uniformMatrix2fv(this.addr,!1,v(e,this.size,4))}function F(t,e){t.uniformMatrix3fv(this.addr,!1,v(e,this.size,9))}function U(t,e){t.uniformMatrix4fv(this.addr,!1,v(e,this.size,16))}function j(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||za,i[o])}function B(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||Va,i[o])}function z(t){switch(t){case 5126:return N;case 35664:return P;case 35665:return L;case 35666:return D;case 35674:return k;case 35675:return F;case 35676:return U;case 35678:return j;case 35680:return B;case 5124:case 35670:return R;case 35667:case 35671:return C;case 35668:case 35672:return A;case 35669:case 35673:return I}}function V(t,e,n){this.id=t,this.addr=n,this.setValue=O(e.type)}function H(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=z(e.type)}function G(t){this.id=t,d.call(this)}function W(t,e){t.seq.push(e),t.map[e.id]=e}function q(t,e,n){var r=t.name,i=r.length;for(Ya.lastIndex=0;;){var o=Ya.exec(r),a=Ya.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){W(n,void 0===c?new V(s,t,e):new H(s,t,e));break}var l=n.map,h=l[s];void 0===h&&(h=new G(s),W(n,h)),n=h}}function Y(t,e,n){d.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;q(o,t.getUniformLocation(e,a),this)}}function X(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function $(t,e){this.min=void 0!==t?t:new i(1/0,1/0),this.max=void 0!==e?e:new i(-1/0,-1/0)}function Q(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=d.createBuffer(),a=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,o),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),f=d.createTexture(),p=d.createTexture(),v.bindTexture(d.TEXTURE_2D,f),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),v.bindTexture(d.TEXTURE_2D,p),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},u=r(s),c={vertex:d.getAttribLocation(u,"position"),uv:d.getAttribLocation(u,"uv")},h={renderType:d.getUniformLocation(u,"renderType"),map:d.getUniformLocation(u,"map"),occlusionMap:d.getUniformLocation(u,"occlusionMap"),opacity:d.getUniformLocation(u,"opacity"),color:d.getUniformLocation(u,"color"),scale:d.getUniformLocation(u,"scale"),rotation:d.getUniformLocation(u,"rotation"),screenPosition:d.getUniformLocation(u,"screenPosition")}}function r(e){var n=d.createProgram(),r=d.createShader(d.FRAGMENT_SHADER),i=d.createShader(d.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return d.shaderSource(r,o+e.fragmentShader),d.shaderSource(i,o+e.vertexShader),d.compileShader(r),d.compileShader(i),d.attachShader(n,r),d.attachShader(n,i),d.linkProgram(n),n}var o,a,s,u,c,h,f,p,d=t.context,v=t.state;this.render=function(r,s,m){if(0!==e.length){var g=new l,y=m.w/m.z,_=.5*m.z,b=.5*m.w,w=16/m.w,x=new i(w*y,w),E=new l(1,1,0),T=new i(1,1),S=new $;S.min.set(m.x,m.y),S.max.set(m.x+(m.z-16),m.y+(m.w-16)),void 0===u&&n(),d.useProgram(u),v.initAttributes(),v.enableAttribute(c.vertex),v.enableAttribute(c.uv),v.disableUnusedAttributes(),d.uniform1i(h.occlusionMap,0),d.uniform1i(h.map,1),d.bindBuffer(d.ARRAY_BUFFER,o),d.vertexAttribPointer(c.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(c.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),v.disable(d.CULL_FACE),v.buffers.depth.setMask(!1);for(var M=0,C=e.length;M<C;M++){w=16/m.w,x.set(w*y,w);var A=e[M];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyMatrix4(s.projectionMatrix),E.copy(g),T.x=m.x+E.x*_+_-8,T.y=m.y+E.y*b+b-8,!0===S.containsPoint(T)){v.activeTexture(d.TEXTURE0),v.bindTexture(d.TEXTURE_2D,null),v.activeTexture(d.TEXTURE1),v.bindTexture(d.TEXTURE_2D,f),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,T.x,T.y,16,16,0),d.uniform1i(h.renderType,0),d.uniform2f(h.scale,x.x,x.y),d.uniform3f(h.screenPosition,E.x,E.y,E.z),v.disable(d.BLEND),v.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),v.activeTexture(d.TEXTURE0),v.bindTexture(d.TEXTURE_2D,p),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,T.x,T.y,16,16,0),d.uniform1i(h.renderType,1),v.disable(d.DEPTH_TEST),v.activeTexture(d.TEXTURE1),v.bindTexture(d.TEXTURE_2D,f),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),d.uniform1i(h.renderType,2),v.enable(d.BLEND);for(var I=0,O=A.lensFlares.length;I<O;I++){var N=A.lensFlares[I];N.opacity>.001&&N.scale>.001&&(E.x=N.x,E.y=N.y,E.z=N.z,w=N.size*N.scale/m.w,x.x=w*y,x.y=w,d.uniform3f(h.screenPosition,E.x,E.y,E.z),d.uniform2f(h.scale,x.x,x.y),d.uniform1f(h.rotation,N.rotation),d.uniform1f(h.opacity,N.opacity),d.uniform3f(h.color,N.color.r,N.color.g,N.color.b),v.setBlending(N.blending,N.blendEquation,N.blendSrc,N.blendDst),t.setTexture2D(N.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}v.enable(d.CULL_FACE),v.enable(d.DEPTH_TEST),v.buffers.depth.setMask(!0),t.resetGLState()}}}function K(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=d.createBuffer(),s=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,a),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),u=r(),h={position:d.getAttribLocation(u,"position"),uv:d.getAttribLocation(u,"uv")},f={uvOffset:d.getUniformLocation(u,"uvOffset"),uvScale:d.getUniformLocation(u,"uvScale"),rotation:d.getUniformLocation(u,"rotation"),scale:d.getUniformLocation(u,"scale"),color:d.getUniformLocation(u,"color"),map:d.getUniformLocation(u,"map"),opacity:d.getUniformLocation(u,"opacity"),modelViewMatrix:d.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(u,"projectionMatrix"),fogType:d.getUniformLocation(u,"fogType"),fogDensity:d.getUniformLocation(u,"fogDensity"),fogNear:d.getUniformLocation(u,"fogNear"),fogFar:d.getUniformLocation(u,"fogFar"),fogColor:d.getUniformLocation(u,"fogColor"),alphaTest:d.getUniformLocation(u,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),p=new o(n),p.needsUpdate=!0}function r(){var e=d.createProgram(),n=d.createShader(d.VERTEX_SHADER),r=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(n,["precision "+t.getPrecision()+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),d.shaderSource(r,["precision "+t.getPrecision()+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),d.compileShader(n),d.compileShader(r),d.attachShader(e,n),d.attachShader(e,r),d.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,s,u,h,f,p,d=t.context,v=t.state,m=new l,g=new c,y=new l;this.render=function(r,o){if(0!==e.length){void 0===u&&n(),d.useProgram(u),v.initAttributes(),v.enableAttribute(h.position),v.enableAttribute(h.uv),v.disableUnusedAttributes(),v.disable(d.CULL_FACE),v.enable(d.BLEND),d.bindBuffer(d.ARRAY_BUFFER,a),d.vertexAttribPointer(h.position,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(h.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.uniformMatrix4fv(f.projectionMatrix,!1,o.projectionMatrix.elements),v.activeTexture(d.TEXTURE0),d.uniform1i(f.map,0);var c=0,l=0,_=r.fog;_?(d.uniform3f(f.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(d.uniform1f(f.fogNear,_.near),d.uniform1f(f.fogFar,_.far),d.uniform1i(f.fogType,1),c=1,l=1):_.isFogExp2&&(d.uniform1f(f.fogDensity,_.density),d.uniform1i(f.fogType,2),c=2,l=2)):(d.uniform1i(f.fogType,0),c=0,l=0);for(var b=0,w=e.length;b<w;b++){var x=e[b];x.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,x.matrixWorld),x.z=-x.modelViewMatrix.elements[14]}e.sort(i);for(var E=[],b=0,w=e.length;b<w;b++){var x=e[b],T=x.material;if(!1!==T.visible){x.onBeforeRender(t,r,o,void 0,T,void 0),d.uniform1f(f.alphaTest,T.alphaTest),d.uniformMatrix4fv(f.modelViewMatrix,!1,x.modelViewMatrix.elements),x.matrixWorld.decompose(m,g,y),E[0]=y.x,E[1]=y.y;var S=0;r.fog&&T.fog&&(S=l),c!==S&&(d.uniform1i(f.fogType,S),c=S),null!==T.map?(d.uniform2f(f.uvOffset,T.map.offset.x,T.map.offset.y),d.uniform2f(f.uvScale,T.map.repeat.x,T.map.repeat.y)):(d.uniform2f(f.uvOffset,0,0),d.uniform2f(f.uvScale,1,1)),d.uniform1f(f.opacity,T.opacity),d.uniform3f(f.color,T.color.r,T.color.g,T.color.b),d.uniform1f(f.rotation,T.rotation),d.uniform2fv(f.scale,E),v.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst,T.blendEquationAlpha,T.blendSrcAlpha,T.blendDstAlpha,T.premultipliedAlpha),v.buffers.depth.setTest(T.depthTest),v.buffers.depth.setMask(T.depthWrite),T.map?t.setTexture2D(T.map,0):t.setTexture2D(p,0),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),x.onAfterRender(t,r,o,void 0,T,void 0)}}v.enable(d.CULL_FACE),t.resetGLState()}}}function Z(){Object.defineProperty(this,"id",{value:Ja++}),this.uuid=ja.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Ki,this.side=Vi,this.shading=qi,this.vertexColors=Yi,this.opacity=1,this.transparent=!1,this.blendSrc=ho,this.blendDst=fo,this.blendEquation=no,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=xo,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.needsUpdate=!0}function J(t){Z.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function tt(t){Z.call(this),this.type="MeshDepthMaterial",this.depthPacking=Fa,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function et(t,e){this.min=void 0!==t?t:new l(1/0,1/0,1/0),this.max=void 0!==e?e:new l(-1/0,-1/0,-1/0)}function nt(t,e){this.center=void 0!==t?t:new l,this.radius=void 0!==e?e:0}function rt(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function it(t,e){this.normal=void 0!==t?t:new l(1,0,0),this.constant=void 0!==e?e:0}function ot(t,e,n,r,i,o){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==r?r:new it,void 0!==i?i:new it,void 0!==o?o:new it]}function at(t,e,n,r){function o(e,n,r,i){var o=e.geometry,a=null,s=E,u=e.customDepthMaterial;if(r&&(s=T,u=e.customDistanceMaterial),u)a=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var l=e.isSkinnedMesh&&n.skinning,h=0;c&&(h|=b),l&&(h|=w),a=s[h]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,p=n.uuid,d=S[f];void 0===d&&(d={},S[f]=d);var v=d[p];void 0===v&&(v=a.clone(),d[p]=v),a=v}a.visible=n.visible,a.wireframe=n.wireframe;var m=n.side;return F.renderSingleSided&&m==Gi&&(m=Vi),F.renderReverseSided&&(m===Vi?m=Hi:m===Hi&&(m=Vi)),a.side=m,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function u(e,r,i,a){if(!1!==e.visible){if(e.layers.test(r.layers)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||p.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld);var s=n.update(e),c=e.material;if(Array.isArray(c))for(var l=s.groups,h=0,f=l.length;h<f;h++){var d=l[h],v=c[d.materialIndex];if(v&&v.visible){var m=o(e,v,a,_);t.renderBufferDirect(i,null,s,m,e,d)}}else if(c.visible){var m=o(e,c,a,_);t.renderBufferDirect(i,null,s,m,e,null)}}for(var g=e.children,y=0,b=g.length;y<b;y++)u(g[y],r,i,a)}}var c=t.context,f=t.state,p=new ot,d=new h,v=e.shadows,m=new i,g=new i(r.maxTextureSize,r.maxTextureSize),y=new l,_=new l,b=1,w=2,x=1+(b|w),E=new Array(x),T=new Array(x),S={},M=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],C=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],A=[new a,new a,new a,new a,new a,new a],I=new tt;I.depthPacking=Ua,I.clipping=!0;for(var O=Za.distanceRGBA,N=Qa.clone(O.uniforms),R=0;R!==x;++R){var P=0!=(R&b),L=0!=(R&w),D=I.clone();D.morphTargets=P,D.skinning=L,E[R]=D;var k=new J({defines:{USE_SHADOWMAP:""},uniforms:N,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,morphTargets:P,skinning:L,clipping:!0});T[R]=k}var F=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Bi,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==F.enabled&&(!1!==F.autoUpdate||!1!==F.needsUpdate)&&0!==v.length){f.disable(c.BLEND),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var r,i=0,o=v.length;i<o;i++){var a=v[i],l=a.shadow,h=a&&a.isPointLight;if(void 0!==l){var b=l.camera;if(m.copy(l.mapSize),m.min(g),h){var w=m.x,x=m.y;A[0].set(2*w,x,w,x),A[1].set(0,x,w,x),A[2].set(3*w,x,w,x),A[3].set(w,x,w,x),A[4].set(3*w,0,w,x),A[5].set(w,0,w,x),m.x*=4,m.y*=2}if(null===l.map){var E={minFilter:Wo,magFilter:Wo,format:ha};l.map=new s(m.x,m.y,E),l.map.texture.name=a.name+".shadowMap",b.updateProjectionMatrix()}l.isSpotLightShadow&&l.update(a);var T=l.map,S=l.matrix;_.setFromMatrixPosition(a.matrixWorld),b.position.copy(_),h?(r=6,S.makeTranslation(-_.x,-_.y,-_.z)):(r=1,y.setFromMatrixPosition(a.target.matrixWorld),b.lookAt(y),b.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(b.projectionMatrix),S.multiply(b.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var I=0;I<r;I++){if(h){y.copy(b.position),y.add(M[I]),b.up.copy(C[I]),b.lookAt(y),b.updateMatrixWorld();var O=A[I];f.viewport(O)}d.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),p.setFromMatrix(d),u(e,n,b,h)}}else console.warn("THREE.WebGLShadowMap:",a,"has no shadow.")}var N=t.getClearColor(),R=t.getClearAlpha();t.setClearColor(N,R),F.needsUpdate=!1}}}function st(t){function e(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();var a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,r){var i=n.array,o=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}function r(t){return t.isInterleavedBufferAttribute&&(t=t.data),a[t.uuid]}function i(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=a[e.uuid];n&&(t.deleteBuffer(n.buffer),delete a[e.uuid])}function o(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var i=a[t.uuid];void 0===i?a[t.uuid]=e(t,r):i.version<t.version&&(n(i.buffer,t,r),i.version=t.version)}var a={};return{get:r,remove:i,update:o}}function ut(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||ut.DefaultOrder}function ct(){this.mask=1}function lt(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:ts++}),this.uuid=ja.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=lt.DefaultUp.clone();var n=new l,r=new ut,i=new c,o=new l(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new h},normalMatrix:{value:new rt}}),this.matrix=new h,this.matrixWorld=new h,this.matrixAutoUpdate=lt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ct,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ht(){lt.call(this),this.type="Camera",this.matrixWorldInverse=new h,this.projectionMatrix=new h}function ft(t,e,n,r,i,o){ht.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function pt(t,e,n,r){ht.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function dt(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new X,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function vt(){return es++}function mt(){Object.defineProperty(this,"id",{value:vt()}),this.uuid=ja.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function gt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=ja.generateUUID(),this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function yt(t,e){gt.call(this,new Int8Array(t),e)}function _t(t,e){gt.call(this,new Uint8Array(t),e)}function bt(t,e){gt.call(this,new Uint8ClampedArray(t),e)}function wt(t,e){gt.call(this,new Int16Array(t),e)}function xt(t,e){gt.call(this,new Uint16Array(t),e)}function Et(t,e){gt.call(this,new Int32Array(t),e)}function Tt(t,e){gt.call(this,new Uint32Array(t),e)}function St(t,e){gt.call(this,new Float32Array(t),e)}function Mt(t,e){gt.call(this,new Float64Array(t),e)}function Ct(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function At(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}function It(){Object.defineProperty(this,"id",{value:vt()}),this.uuid=ja.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ot(t,e,n,r,i,o){mt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Nt(t,e,n,r,i,o)),this.mergeVertices()}function Nt(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,v,m,g,y){var _,b,w=o/m,x=a/g,E=o/2,T=a/2,S=v/2,M=m+1,C=g+1,A=0,I=0,O=new l;for(b=0;b<C;b++){var N=b*x-T;for(_=0;_<M;_++){var R=_*w-E;O[t]=R*r,O[e]=N*i,O[n]=S,c.push(O.x,O.y,O.z),O[t]=0,O[e]=0,O[n]=v>0?1:-1,h.push(O.x,O.y,O.z),f.push(_/m),f.push(1-b/g),A+=1}}for(b=0;b<g;b++)for(_=0;_<m;_++){var P=p+_+M*b,L=p+_+M*(b+1),D=p+(_+1)+M*(b+1),k=p+(_+1)+M*b;u.push(P,L,k),u.push(L,D,k),I+=6}s.addGroup(d,I,y),d+=I,p+=A}It.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],c=[],h=[],f=[],p=0,d=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new St(c,3)),this.addAttribute("normal",new St(h,3)),this.addAttribute("uv",new St(f,2))}function Rt(t,e,n,r){mt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Pt(t,e,n,r)),this.mergeVertices()}function Pt(t,e,n,r){It.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,h=c+1,f=t/u,p=e/c,d=[],v=[],m=[],g=[];for(o=0;o<h;o++){var y=o*p-s;for(i=0;i<l;i++){var _=i*f-a;v.push(_,-y,0),m.push(0,0,1),g.push(i/u),g.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var b=i+l*o,w=i+l*(o+1),x=i+1+l*(o+1),E=i+1+l*o;d.push(b,w,E),d.push(w,x,E)}this.setIndex(d),this.addAttribute("position",new St(v,3)),this.addAttribute("normal",new St(m,3)),this.addAttribute("uv",new St(g,2))}function Lt(t){Z.call(this),this.type="MeshBasicMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Co,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Dt(t,e){this.origin=void 0!==t?t:new l,this.direction=void 0!==e?e:new l}function kt(t,e){this.start=void 0!==t?t:new l,this.end=void 0!==e?e:new l}function Ft(t,e,n){this.a=void 0!==t?t:new l,this.b=void 0!==e?e:new l,this.c=void 0!==n?n:new l}function Ut(t,e){lt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new It,this.material=void 0!==e?e:new Lt({color:16777215*Math.random()}),this.drawMode=Ca,this.updateMorphTargets()}function jt(t,e,n,r){function i(e,r,i){var f=e.background;null===f?o(l,h):f&&f.isColor&&(o(f,1),i=!0),(t.autoClear||i)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&f.isCubeTexture?(void 0===u&&(u=new pt,c=new Ut(new Nt(5,5,5),new J({uniforms:Za.cube.uniforms,vertexShader:Za.cube.vertexShader,fragmentShader:Za.cube.fragmentShader,side:Hi,depthTest:!1,depthWrite:!1,fog:!1}))),u.projectionMatrix.copy(r.projectionMatrix),u.matrixWorld.extractRotation(r.matrixWorld),u.matrixWorldInverse.getInverse(u.matrixWorld),c.material.uniforms.tCube.value=f,c.modelViewMatrix.multiplyMatrices(u.matrixWorldInverse,c.matrixWorld),n.update(c),t.renderBufferDirect(u,null,c.geometry,c.material,c,null)):f&&f.isTexture&&(void 0===a&&(a=new ft(-1,1,1,-1,0,1),s=new Ut(new Pt(2,2),new Lt({depthTest:!1,depthWrite:!1,fog:!1}))),s.material.map=f,n.update(s),t.renderBufferDirect(a,null,s.geometry,s.material,s,null))}function o(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}var a,s,u,c,l=new X(0),h=0;return{getClearColor:function(){return l},setClearColor:function(t,e){l.set(t),h=void 0!==e?e:1,o(l,h)},getClearAlpha:function(){return h},setClearAlpha:function(t){h=t,o(l,h)},render:i}}function Bt(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function zt(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Vt(){function t(){o=-1,s=-1}function e(t,e,n,r,u){var c,l;n.transparent?(c=a,l=++s):(c=i,l=++o);var h=c[l];h?(h.id=t.id,h.object=t,h.geometry=e,h.material=n,h.program=n.program,h.renderOrder=t.renderOrder,h.z=r,h.group=u):(h={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:r,group:u},c.push(h))}function n(){i.length=o+1,a.length=s+1}function r(){i.sort(Bt),a.sort(zt)}var i=[],o=-1,a=[],s=-1;return{opaque:i,transparent:a,init:t,push:e,finish:n,sort:r}}function Ht(){function t(t,e){var r=t.id+","+e.id,i=n[r];return void 0===i&&(i=new Vt,n[r]=i),i}function e(){n={}}var n={};return{get:t,dispose:e}}function Gt(t,e,n){function r(t){s=t}function i(t){u=t.type,c=t.bytesPerElement}function o(e,r){t.drawElements(s,r,u,e*c),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,u,c;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function Wt(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r,i,o){var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var u=r.attributes.position;u.isInterleavedBufferAttribute?(o=u.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function qt(t,e,n){function r(t){var i=t.target,o=s[i.id];null!==o.index&&e.remove(o.index);for(var a in o.attributes)e.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var c=u[i.id];c&&(e.remove(c),delete u[i.id]),c=u[o.id],c&&(e.remove(c),delete u[o.id]),n.geometries--}function i(t,e){var i=s[e.id];return i||(e.addEventListener("dispose",r),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new It).setFromObject(t)),i=e._bufferGeometry),s[e.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER);for(var o in i)e.update(i[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)e.update(s[u],t.ARRAY_BUFFER)}function a(n){var r=u[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,c=0,l=s.length;c<l;c+=3){var h=s[c+0],f=s[c+1],p=s[c+2];i.push(h,f,f,p,p,h)}else for(var s=a.position.array,c=0,l=s.length/3-1;c<l;c+=3){var h=c+0,f=c+1,p=c+2;i.push(h,f,f,p,p,h)}return r=new(At(i)>65535?Tt:xt)(i,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),u[n.id]=r,r}var s={},u={};return{get:i,update:o,getWireframeAttribute:a}}function Yt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new l,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new l,direction:new l,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new l,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"HemisphereLight":n={direction:new l,skyColor:new X,groundColor:new X};break;case"RectAreaLight":n={color:new X,position:new l,halfWidth:new l,halfHeight:new l}}return t[e.id]=n,n}}}function Xt(t,e,n){function r(t){var r=n.frame,i=t.geometry,a=e.get(t,i);return o[a.id]!==r&&(i.isGeometry&&a.updateFromObject(t),e.update(a),o[a.id]=r),a}function i(){o={}}var o={};return{update:r,clear:i}}function $t(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Qt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),$t(n)),r}function Kt(t){switch(t){case Oa:return["Linear","( value )"];case Na:return["sRGB","( value )"];case Pa:return["RGBE","( value )"];case La:return["RGBM","( value, 7.0 )"];case Da:return["RGBM","( value, 16.0 )"];case ka:return["RGBD","( value, 256.0 )"];case Ra:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Zt(t,e){var n=Kt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Jt(t,e){var n=Kt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function te(t,e){var n;switch(e){case No:n="Linear";break;case Ro:n="Reinhard";break;case Po:n="Uncharted2";break;case Lo:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ee(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ie).join("\n")}function ne(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function re(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function ie(t){return""!==t}function oe(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ae(t){function e(t,e){var n=Ka[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ae(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return t.replace(n,e)}function se(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function ue(t,e,n,r,i){var o=t.context,a=n.extensions,s=n.defines,u=r.vertexShader,c=r.fragmentShader,l="SHADOWMAP_TYPE_BASIC";i.shadowMapType===Bi?l="SHADOWMAP_TYPE_PCF":i.shadowMapType===zi&&(l="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(i.envMap){switch(n.envMap.mapping){case Do:case ko:h="ENVMAP_TYPE_CUBE";break;case Bo:case zo:h="ENVMAP_TYPE_CUBE_UV";break;case Fo:case Uo:h="ENVMAP_TYPE_EQUIREC";break;case jo:h="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case ko:case Uo:f="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Co:p="ENVMAP_BLENDING_MULTIPLY";break;case Ao:p="ENVMAP_BLENDING_MIX";break;case Io:p="ENVMAP_BLENDING_ADD"}}var d,v,m=t.gammaFactor>0?t.gammaFactor:1,g=ee(a,i,t.extensions),y=ne(s),_=o.createProgram();n.isRawShaderMaterial?(d=[y,"\n"].filter(ie).join("\n"),v=[g,y,"\n"].filter(ie).join("\n")):(d=["precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+r.name,y,i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+f:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ie).join("\n"),v=[g,"precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+r.name,y,i.alphaTest?"#define ALPHATEST "+i.alphaTest:"","#define GAMMA_FACTOR "+m,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.envMap?"#define "+f:"",i.envMap?"#define "+p:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(i.numClippingPlanes-i.numClipIntersection),i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",i.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",i.toneMapping!==Oo?"#define TONE_MAPPING":"",i.toneMapping!==Oo?Ka.tonemapping_pars_fragment:"",i.toneMapping!==Oo?te("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.outputEncoding||i.mapEncoding||i.envMapEncoding||i.emissiveMapEncoding?Ka.encodings_pars_fragment:"",i.mapEncoding?Zt("mapTexelToLinear",i.mapEncoding):"",i.envMapEncoding?Zt("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?Zt("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.outputEncoding?Jt("linearToOutputTexel",i.outputEncoding):"",i.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ie).join("\n")),u=ae(u),u=oe(u,i),c=ae(c),c=oe(c,i),n.isShaderMaterial||(u=se(u),c=se(c));var b=d+u,w=v+c,x=Qt(o,o.VERTEX_SHADER,b),E=Qt(o,o.FRAGMENT_SHADER,w);o.attachShader(_,x),o.attachShader(_,E),void 0!==n.index0AttributeName?o.bindAttribLocation(_,0,n.index0AttributeName):!0===i.morphTargets&&o.bindAttribLocation(_,0,"position"),o.linkProgram(_);var T=o.getProgramInfoLog(_),S=o.getShaderInfoLog(x),M=o.getShaderInfoLog(E),C=!0,A=!0;!1===o.getProgramParameter(_,o.LINK_STATUS)?(C=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(_,o.VALIDATE_STATUS),"gl.getProgramInfoLog",T,S,M)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==S&&""!==M||(A=!1),A&&(this.diagnostics={runnable:C,material:n,programLog:T,vertexShader:{log:S,prefix:d},fragmentShader:{log:M,prefix:v}}),o.deleteShader(x),o.deleteShader(E);var I;this.getUniforms=function(){return void 0===I&&(I=new Y(o,_,t)),I};var O;return this.getAttributes=function(){return void 0===O&&(O=re(o,_)),O},this.destroy=function(){o.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ns++,this.code=e,this.usedTimes=1,this.program=_,this.vertexShader=x,this.fragmentShader=E,this}function ce(t,e){function n(t){var n=t.skeleton,r=n.bones;if(e.floatVertexTextures)return 1024;var i=e.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Oa,n===Oa&&e&&(n=Ra),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(i,a,s,u,c,l){var h=o[i.type],f=l.isSkinnedMesh?n(l):0,p=t.getPrecision();null!==i.precision&&(p=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",p,"instead.");var d=t.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:e.vertexTextures,outputEncoding:r(d?d.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===Bo||i.envMap.mapping===zo),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===Wi,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning&&f>0,maxBones:f,useVertexTexture:e.floatVertexTextures,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===Gi,flipSided:i.side===Hi,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)r.push(i),r.push(e.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.join()},this.acquireProgram=function(e,n,r,o){for(var a,s=0,u=i.length;s<u;s++){var c=i[s];if(c.code===o){a=c,++a.usedTimes;break}}return void 0===a&&(a=new ue(t,o,e,n,r),i.push(a)),a},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function le(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function u(t){return ja.isPowerOfTwo(t.width)&&ja.isPowerOfTwo(t.height)}function c(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=ja.nearestPowerOfTwo(t.width),e.height=ja.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function l(t){return t.wrapS!==Ho||t.wrapT!==Ho||t.minFilter!==Wo&&t.minFilter!==Xo}function h(t,e){return t.generateMipmaps&&e&&t.minFilter!==Wo&&t.minFilter!==Xo}function f(e){return e===Wo||e===qo||e===Yo?t.NEAREST:t.LINEAR}function p(t){var e=t.target;e.removeEventListener("dispose",p),v(e),a.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),a.textures--}function v(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}function g(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void w(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function y(e,c){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener("dispose",p),l.__image__webglTextureCube=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+c),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var f=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,v=[],m=0;m<6;m++)v[m]=f||d?d?e.image[m].image:e.image[m]:s(e.image[m],i.maxCubemapSize);var g=v[0],y=u(g),_=o(e.format),w=o(e.type);b(t.TEXTURE_CUBE_MAP,e,y);for(var m=0;m<6;m++)if(f)for(var x,E=v[m].mipmaps,T=0,S=E.length;T<S;T++)x=E[T],e.format!==ha&&e.format!==la?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,T,_,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,T,_,x.width,x.height,0,_,w,x.data);else d?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,_,v[m].width,v[m].height,0,_,w,v[m].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,_,_,w,v[m]);h(e,y)&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+c),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function _(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===Ho&&a.wrapT===Ho||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==Wo&&a.minFilter!==Xo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===ra&&null===e.get("OES_texture_float_linear"))return;if(a.type===ia&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function w(e,r,f){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",p),e.__webglTexture=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+f),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var d=s(r.image,i.maxTextureSize);l(r)&&!1===u(d)&&(d=c(d));var v=u(d),m=o(r.format),g=o(r.type);b(t.TEXTURE_2D,r,v);var y,_=r.mipmaps;if(r.isDepthTexture){var w=t.DEPTH_COMPONENT;if(r.type===ra){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");w=t.DEPTH_COMPONENT32F}else A&&(w=t.DEPTH_COMPONENT16);r.format===da&&w===t.DEPTH_COMPONENT&&r.type!==ta&&r.type!==na&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=ta,g=o(r.type)),r.format===va&&(w=t.DEPTH_STENCIL,r.type!==ua&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=ua,g=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,w,d.width,d.height,0,m,g,null)}else if(r.isDataTexture)if(_.length>0&&v){for(var x=0,E=_.length;x<E;x++)y=_[x],n.texImage2D(t.TEXTURE_2D,x,m,y.width,y.height,0,m,g,y.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,d.width,d.height,0,m,g,d.data);else if(r.isCompressedTexture)for(var x=0,E=_.length;x<E;x++)y=_[x],r.format!==ha&&r.format!==la?n.getCompressedTextureFormats().indexOf(m)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,m,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,x,m,y.width,y.height,0,m,g,y.data);else if(_.length>0&&v){for(var x=0,E=_.length;x<E;x++)y=_[x],n.texImage2D(t.TEXTURE_2D,x,m,m,g,y);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,m,g,d);h(r,v)&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function x(e,i,a,s){var u=o(i.texture.format),c=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function E(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function T(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===da)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==va)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function S(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");T(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),E(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),E(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function M(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),a.textures++;var s=!0===e.isWebGLRenderTargetCube,c=u(e);if(s){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,c);for(var l=0;l<6;l++)x(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);h(e.texture,c)&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),b(t.TEXTURE_2D,e.texture,c),x(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),h(e.texture,c)&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&S(e)}function C(e){var i=e.texture;if(h(i,u(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=y,this.setTextureCubeDynamic=_,this.setupRenderTarget=M,this.updateRenderTargetMipmap=C}function he(){function t(t){var e=t.uuid,n=r[e];return void 0===n&&(n={},r[e]=n),n}function e(t){delete r[t.uuid]}function n(){r={}}var r={};return{get:t,remove:e,clear:n}}function fe(t,e,n){function r(){var e=!1,n=new a,r=null,i=new a;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?p(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case _o:t.depthFunc(t.NEVER);break;case bo:t.depthFunc(t.ALWAYS);break;case wo:t.depthFunc(t.LESS);break;case xo:t.depthFunc(t.LEQUAL);break;case Eo:t.depthFunc(t.EQUAL);break;case To:t.depthFunc(t.GEQUAL);break;case So:t.depthFunc(t.GREATER);break;case Mo:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?p(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&u===r||(t.stencilOp(e,n,r),a=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}function s(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function u(){N.setClear(0,0,0,1),R.setClear(1),P.setClear(0),p(t.DEPTH_TEST),R.setFunc(xo),y(!1),_(Fi),p(t.CULL_FACE),p(t.BLEND),m(Ki)}function c(){for(var t=0,e=D.length;t<e;t++)D[t]=0}function l(n){if(D[n]=1,0===k[n]&&(t.enableVertexAttribArray(n),k[n]=1),0!==F[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),F[n]=0}}function h(n,r){if(D[n]=1,0===k[n]&&(t.enableVertexAttribArray(n),k[n]=1),F[n]!==r){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),F[n]=r}}function f(){for(var e=0,n=k.length;e!==n;++e)k[e]!==D[e]&&(t.disableVertexAttribArray(e),k[e]=0)}function p(e){!0!==U[e]&&(t.enable(e),U[e]=!0)}function d(e){!1!==U[e]&&(t.disable(e),U[e]=!1)}function v(){if(null===j&&(j=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)j.push(n[r]);return j}function m(e,r,i,o,a,s,u,c){e!==Qi?p(t.BLEND):d(t.BLEND),e===eo||e===B&&c===Y||(e===Zi?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===Ji?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===to?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),B=e,Y=c),e===eo?(a=a||r,s=s||i,u=u||o,r===z&&a===G||(t.blendEquationSeparate(n(r),n(a)),z=r,G=a),i===V&&o===H&&s===W&&u===q||(t.blendFuncSeparate(n(i),n(o),n(s),n(u)),V=i,H=o,W=s,q=u)):(z=null,V=null,H=null,G=null,W=null,q=null)}function g(e){e.side===Gi?d(t.CULL_FACE):p(t.CULL_FACE),y(e.side===Hi),!0===e.transparent?m(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):m(Qi),R.setFunc(e.depthFunc),R.setTest(e.depthTest),R.setMask(e.depthWrite),N.setMask(e.colorWrite),w(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function y(e){X!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),X=e)}function _(e){e!==ki?(p(t.CULL_FACE),e!==$&&(e===Fi?t.cullFace(t.BACK):e===Ui?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):d(t.CULL_FACE),$=e}function b(e){e!==Q&&(nt&&t.lineWidth(e),Q=e)}function w(e,n,r){e?(p(t.POLYGON_OFFSET_FILL),K===n&&Z===r||(t.polygonOffset(n,r),K=n,Z=r)):d(t.POLYGON_OFFSET_FILL)}function x(){return J}function E(e){J=e,e?p(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function T(e){void 0===e&&(e=t.TEXTURE0+tt-1),rt!==e&&(t.activeTexture(e),rt=e)}function S(e,n){null===rt&&T();var r=it[rt];void 0===r&&(r={type:void 0,texture:void 0},it[rt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||st[e]),r.type=e,r.texture=n)}function M(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function C(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function A(e){!1===ot.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),ot.copy(e))}function I(e){!1===at.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),at.copy(e))}function O(){for(var e=0;e<k.length;e++)1===k[e]&&(t.disableVertexAttribArray(e),k[e]=0);U={},j=null,rt=null,it={},B=null,X=null,$=null,N.reset(),R.reset(),P.reset()}var N=new r,R=new i,P=new o,L=t.getParameter(t.MAX_VERTEX_ATTRIBS),D=new Uint8Array(L),k=new Uint8Array(L),F=new Uint8Array(L),U={},j=null,B=null,z=null,V=null,H=null,G=null,W=null,q=null,Y=!1,X=null,$=null,Q=null,K=null,Z=null,J=null,tt=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),et=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),nt=parseFloat(et)>=1,rt=null,it={},ot=new a,at=new a,st={};return st[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),st[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:N,depth:R,stencil:P},init:u,initAttributes:c,enableAttribute:l,enableAttributeAndDivisor:h,disableUnusedAttributes:f,enable:p,disable:d,getCompressedTextureFormats:v,setBlending:m,setMaterial:g,setFlipSided:y,setCullFace:_,setLineWidth:b,setPolygonOffset:w,getScissorTest:x,setScissorTest:E,activeTexture:T,bindTexture:S,compressedTexImage2D:M,texImage2D:C,scissor:A,viewport:I,reset:O}}function pe(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:d,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function de(t){pt.call(this),this.cameras=t||[]}function ve(t){function e(){if(r.isPresenting){var e=r.getEyeParameters("left"),i=e.renderWidth,o=e.renderHeight;d=t.getPixelRatio(),p=t.getSize(),t.setDrawingBufferSize(2*i,o,1)}else n.enabled&&t.setDrawingBufferSize(p.width,p.height,d)}var n=this,r=null,i=null;"VRFrameData"in window&&(i=new window.VRFrameData);var o=new h,s=new h,u=new h,c=new pt;c.bounds=new a(0,0,.5,1),c.layers.enable(1);var l=new pt;l.bounds=new a(.5,0,.5,1),l.layers.enable(2);var f=new de([c,l]);f.layers.enable(1),f.layers.enable(2);var p,d;window.addEventListener("vrdisplaypresentchange",e,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t)},this.getCamera=function(t){if(null===r)return t;r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(i);var e=i.pose;null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0),null!==e.orientation&&t.quaternion.fromArray(e.orientation),t.updateMatrixWorld();var n=r.stageParameters;if(this.standing&&n&&(s.fromArray(n.sittingToStandingTransform),u.getInverse(s),t.matrixWorld.multiply(s),t.matrixWorldInverse.multiply(u)),!1===r.isPresenting)return t;f.matrixWorld.copy(t.matrixWorld),f.matrixWorldInverse.copy(t.matrixWorldInverse),c.matrixWorldInverse.fromArray(i.leftViewMatrix),l.matrixWorldInverse.fromArray(i.rightViewMatrix),this.standing&&n&&(c.matrixWorldInverse.multiply(u),l.matrixWorldInverse.multiply(u));var a=t.parent;null!==a&&(o.getInverse(a.matrixWorld),c.matrixWorldInverse.multiply(o),l.matrixWorldInverse.multiply(o)),c.matrixWorld.getInverse(c.matrixWorldInverse),l.matrixWorld.getInverse(l.matrixWorldInverse),c.projectionMatrix.fromArray(i.leftProjectionMatrix),l.projectionMatrix.fromArray(i.rightProjectionMatrix),f.projectionMatrix.copy(c.projectionMatrix);var h=r.getLayers();if(h.length){var p=h[0];null!==p.leftBounds&&4===p.leftBounds.length&&c.bounds.fromArray(p.leftBounds),null!==p.rightBounds&&4===p.rightBounds.length&&l.bounds.fromArray(p.rightBounds)}return f},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()}}function me(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function ge(){function t(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=c.value,!0!==i||null===a){var l=r+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var f=0,p=r;f!==o;++f,p+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,p),a[p+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new it,u=new rt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,l,h,f){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var p=a?0:i,d=4*p,v=h.clippingState||null;c.value=v,v=e(n,l,d,f);for(var m=0;m!==d;++m)v[m]=r[m];h.clippingState=v,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function ye(t){function e(){return null===tt?vt:1}function n(){Dt.init(),Dt.scissor(ct.copy(mt).multiplyScalar(vt)),Dt.viewport(ht.copy(yt).multiplyScalar(vt))}function r(){J=null,it=null,rt="",nt=-1,Dt.reset()}function i(t){t.preventDefault(),r(),n(),kt.clear(),zt.clear()}function o(t){var e=t.target;e.removeEventListener("dispose",o),s(e)}function s(t){u(t),kt.remove(t)}function u(t){var e=kt.get(t).program;t.program=void 0,void 0!==e&&Vt.releaseProgram(e)}function c(t,e,n){t.render(function(t){Z.renderBufferImmediate(t,e,n)})}function p(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e,n,r){if(n&&n.isInstancedBufferGeometry&&null===Pt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Dt.initAttributes();var i=n.attributes,o=e.getAttributes(),a=t.defaultAttributeValues;for(var s in o){var u=o[s];if(u>=0){var c=i[s];if(void 0!==c){var l=c.normalized,h=c.itemSize,f=Ut.get(c),p=f.buffer,d=f.type,v=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,y=c.offset;m&&m.isInstancedInterleavedBuffer?(Dt.enableAttributeAndDivisor(u,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):Dt.enableAttribute(u),Nt.bindBuffer(Nt.ARRAY_BUFFER,p),Nt.vertexAttribPointer(u,h,d,l,g*v,(r*g+y)*v)}else c.isInstancedBufferAttribute?(Dt.enableAttributeAndDivisor(u,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Dt.enableAttribute(u),Nt.bindBuffer(Nt.ARRAY_BUFFER,p),Nt.vertexAttribPointer(u,h,d,l,0,r*h*v)}else if(void 0!==a){var _=a[s];if(void 0!==_)switch(_.length){case 2:Nt.vertexAttrib2fv(u,_);break;case 3:Nt.vertexAttrib3fv(u,_);break;case 4:Nt.vertexAttrib4fv(u,_);break;default:Nt.vertexAttrib1fv(u,_)}}}}Dt.disableUnusedAttributes()}function v(t,e,n){if(t.visible){if(t.layers.test(e.layers))if(t.isLight)G.push(t);else if(t.isSprite)t.frustumCulled&&!_t.intersectsSprite(t)||X.push(t);else if(t.isLensFlare)$.push(t);else if(t.isImmediateRenderObject)n&&Tt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Et),W.push(t,null,t.material,Tt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||_t.intersectsObject(t))){n&&Tt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Et);var r=zt.update(t),i=t.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var u=o[a],c=i[u.materialIndex];c&&c.visible&&W.push(t,r,c,Tt.z,u)}else i.visible&&W.push(t,r,i,Tt.z,null)}for(var l=t.children,a=0,s=l.length;a<s;a++)v(l[a],e,n)}}function m(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){ut=n;for(var h=n.cameras,f=0,p=h.length;f<p;f++){var d=h[f];if(s.layers.test(d.layers)){var v=d.bounds,m=v.x*pt,y=v.y*dt,_=v.z*pt,b=v.w*dt;Z.setViewport(m,y,_,b),Z.setScissor(m,y,_,b),Z.setScissorTest(!0),g(s,e,d,u,c,l)}}}else ut=null,g(s,e,n,u,c,l)}}function g(t,e,n,r,i,o){if(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.onBeforeRender(Z,e,n,r,i,o),t.isImmediateRenderObject){Dt.setMaterial(i);var a=_(n,e.fog,i,t);rt="",c(t,a,i)}else Z.renderBufferDirect(n,e.fog,r,i,t,o);t.onAfterRender(Z,e,n,r,i,o)}function y(t,e,n){var r=kt.get(t),i=Vt.getParameters(t,Ct,e,bt.numPlanes,bt.numIntersection,n),a=Vt.getProgramCode(t,i),s=r.program,c=!0;if(void 0===s)t.addEventListener("dispose",o);else if(s.code!==a)u(t);else{if(void 0!==i.shaderID)return;c=!1}if(c){if(i.shaderID){var l=Za[i.shaderID];r.shader={name:t.type,uniforms:Qa.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader),s=Vt.acquireProgram(t,r.shader,i,a),r.program=s,t.program=s}var h=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<Z.maxMorphTargets;f++)h["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<Z.maxMorphNormals;f++)h["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var p=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=bt.numPlanes,r.numIntersection=bt.numIntersection,p.clippingPlanes=bt.uniform),r.fog=e,r.lightsHash=Ct.hash,t.lights&&(p.ambientLightColor.value=Ct.ambient,p.directionalLights.value=Ct.directional,p.spotLights.value=Ct.spot,p.rectAreaLights.value=Ct.rectArea,p.pointLights.value=Ct.point,p.hemisphereLights.value=Ct.hemi,p.directionalShadowMap.value=Ct.directionalShadowMap,p.directionalShadowMatrix.value=Ct.directionalShadowMatrix,p.spotShadowMap.value=Ct.spotShadowMap,p.spotShadowMatrix.value=Ct.spotShadowMatrix,p.pointShadowMap.value=Ct.pointShadowMap,p.pointShadowMatrix.value=Ct.pointShadowMatrix);var d=r.program.getUniforms(),v=Y.seqWithValue(d.seq,p);r.uniformsList=v}function _(t,e,n,r){ft=0;var i=kt.get(n);if(wt&&(xt||t!==it)){var o=t===it&&n.id===nt;bt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Ct.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===bt.numPlanes&&i.numIntersection===bt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(y(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.shader.uniforms;if(c.id!==J&&(Nt.useProgram(c.program),J=c.id,a=!0,s=!0,u=!0),n.id!==nt&&(nt=n.id,s=!0),a||t!==it){if(l.setValue(Nt,"projectionMatrix",t.projectionMatrix),Lt.logarithmicDepthBuffer&&l.setValue(Nt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),it!==(ut||t)&&(it=ut||t,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var p=l.map.cameraPosition;void 0!==p&&p.setValue(Nt,Tt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(Nt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){l.setOptional(Nt,r,"bindMatrix"),l.setOptional(Nt,r,"bindMatrixInverse");var d=r.skeleton;if(d){var v=d.bones;if(Lt.floatVertexTextures){if(void 0===d.boneTexture){var m=Math.sqrt(4*v.length);m=ja.nextPowerOfTwo(Math.ceil(m)),m=Math.max(m,4);var g=new Float32Array(m*m*4);g.set(d.boneMatrices);var _=new f(g,m,m,ha,ra);d.boneMatrices=g,d.boneTexture=_,d.boneTextureSize=m}l.setValue(Nt,"boneTexture",d.boneTexture),l.setValue(Nt,"boneTextureSize",d.boneTextureSize)}else l.setOptional(Nt,d,"boneMatrices")}}return s&&(l.setValue(Nt,"toneMappingExposure",Z.toneMappingExposure),l.setValue(Nt,"toneMappingWhitePoint",Z.toneMappingWhitePoint),n.lights&&N(h,u),e&&n.fog&&T(h,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&b(h,n),n.isLineBasicMaterial?w(h,n):n.isLineDashedMaterial?(w(h,n),x(h,n)):n.isPointsMaterial?E(h,n):n.isMeshLambertMaterial?S(h,n):n.isMeshToonMaterial?C(h,n):n.isMeshPhongMaterial?M(h,n):n.isMeshPhysicalMaterial?I(h,n):n.isMeshStandardMaterial?A(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&O(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=$a.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=$a.LTC_MAG_TEXTURE),Y.upload(Nt,i.uniformsList,h,Z)),l.setValue(Nt,"modelViewMatrix",r.modelViewMatrix),l.setValue(Nt,"normalMatrix",r.normalMatrix),l.setValue(Nt,"modelMatrix",r.matrixWorld),c}function b(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function w(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function x(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function E(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*vt,t.scale.value=.5*dt,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function T(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function S(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function M(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function C(t,e){M(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function A(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function I(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,A(t,e)}function O(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function N(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function R(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Ct.shadows[e]=i,e++)}Ct.shadows.length=e}function P(t,e){var n,r,i,o,a,s,u,c,l=0,h=0,f=0,p=e.matrixWorldInverse,d=0,v=0,m=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],a=i.color,s=i.intensity,u=i.distance,c=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)l+=a.r*s,h+=a.g*s,f+=a.b*s;else if(i.isDirectionalLight){var _=$t.get(i);_.color.copy(i.color).multiplyScalar(i.intensity),_.direction.setFromMatrixPosition(i.matrixWorld),Tt.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(Tt),_.direction.transformDirection(p),_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ct.directionalShadowMap[d]=c,Ct.directionalShadowMatrix[d]=i.shadow.matrix,Ct.directional[d]=_,d++}else if(i.isSpotLight){var _=$t.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(p),_.color.copy(a).multiplyScalar(s),_.distance=u,_.direction.setFromMatrixPosition(i.matrixWorld),Tt.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(Tt),_.direction.transformDirection(p),_.coneCos=Math.cos(i.angle),_.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ct.spotShadowMap[m]=c,Ct.spotShadowMatrix[m]=i.shadow.matrix,Ct.spot[m]=_,m++}else if(i.isRectAreaLight){var _=$t.get(i);_.color.copy(a).multiplyScalar(s/(i.width*i.height)),_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(p),Mt.identity(),St.copy(i.matrixWorld),St.premultiply(p),Mt.extractRotation(St),_.halfWidth.set(.5*i.width,0,0),_.halfHeight.set(0,.5*i.height,0),_.halfWidth.applyMatrix4(Mt),_.halfHeight.applyMatrix4(Mt),Ct.rectArea[g]=_,g++}else if(i.isPointLight){var _=$t.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(p),_.color.copy(i.color).multiplyScalar(i.intensity),_.distance=i.distance,_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ct.pointShadowMap[v]=c,Ct.pointShadowMatrix[v]=i.shadow.matrix,Ct.point[v]=_,v++}else if(i.isHemisphereLight){var _=$t.get(i);_.direction.setFromMatrixPosition(i.matrixWorld),_.direction.transformDirection(p),_.direction.normalize(),_.skyColor.copy(i.color).multiplyScalar(s),_.groundColor.copy(i.groundColor).multiplyScalar(s),Ct.hemi[y]=_,y++}Ct.ambient[0]=l,Ct.ambient[1]=h,Ct.ambient[2]=f,Ct.directional.length=d,Ct.spot.length=m,Ct.rectArea.length=g,Ct.point.length=v,Ct.hemi.length=y,Ct.hash=d+","+v+","+m+","+g+","+y+","+Ct.shadows.length}function L(){var t=ft;return t>=Lt.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+Lt.maxTextures),ft+=1,t}function D(t){var e;if(t===Vo)return Nt.REPEAT;if(t===Ho)return Nt.CLAMP_TO_EDGE;if(t===Go)return Nt.MIRRORED_REPEAT;if(t===Wo)return Nt.NEAREST;if(t===qo)return Nt.NEAREST_MIPMAP_NEAREST;if(t===Yo)return Nt.NEAREST_MIPMAP_LINEAR;if(t===Xo)return Nt.LINEAR;if(t===$o)return Nt.LINEAR_MIPMAP_NEAREST;if(t===Qo)return Nt.LINEAR_MIPMAP_LINEAR;if(t===Ko)return Nt.UNSIGNED_BYTE;if(t===oa)return Nt.UNSIGNED_SHORT_4_4_4_4;if(t===aa)return Nt.UNSIGNED_SHORT_5_5_5_1;if(t===sa)return Nt.UNSIGNED_SHORT_5_6_5;if(t===Zo)return Nt.BYTE;if(t===Jo)return Nt.SHORT;if(t===ta)return Nt.UNSIGNED_SHORT;if(t===ea)return Nt.INT;if(t===na)return Nt.UNSIGNED_INT;if(t===ra)return Nt.FLOAT;if(t===ia&&null!==(e=Pt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===ca)return Nt.ALPHA;if(t===la)return Nt.RGB;if(t===ha)return Nt.RGBA;if(t===fa)return Nt.LUMINANCE;if(t===pa)return Nt.LUMINANCE_ALPHA;if(t===da)return Nt.DEPTH_COMPONENT;if(t===va)return Nt.DEPTH_STENCIL;if(t===no)return Nt.FUNC_ADD;if(t===ro)return Nt.FUNC_SUBTRACT;if(t===io)return Nt.FUNC_REVERSE_SUBTRACT;if(t===so)return Nt.ZERO;if(t===uo)return Nt.ONE;if(t===co)return Nt.SRC_COLOR;if(t===lo)return Nt.ONE_MINUS_SRC_COLOR;if(t===ho)return Nt.SRC_ALPHA;if(t===fo)return Nt.ONE_MINUS_SRC_ALPHA;if(t===po)return Nt.DST_ALPHA;if(t===vo)return Nt.ONE_MINUS_DST_ALPHA;if(t===mo)return Nt.DST_COLOR;if(t===go)return Nt.ONE_MINUS_DST_COLOR;if(t===yo)return Nt.SRC_ALPHA_SATURATE;if((t===ma||t===ga||t===ya||t===_a)&&null!==(e=Pt.get("WEBGL_compressed_texture_s3tc"))){if(t===ma)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===ga)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===ya)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===_a)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ba||t===wa||t===xa||t===Ea)&&null!==(e=Pt.get("WEBGL_compressed_texture_pvrtc"))){if(t===ba)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===wa)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===xa)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Ea)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Ta&&null!==(e=Pt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===oo||t===ao)&&null!==(e=Pt.get("EXT_blend_minmax"))){if(t===oo)return e.MIN_EXT;if(t===ao)return e.MAX_EXT}return t===ua&&null!==(e=Pt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Di),t=t||{};var k=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),F=void 0!==t.context?t.context:null,U=void 0!==t.alpha&&t.alpha,j=void 0===t.depth||t.depth,B=void 0===t.stencil||t.stencil,z=void 0!==t.antialias&&t.antialias,V=void 0===t.premultipliedAlpha||t.premultipliedAlpha,H=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,G=[],W=null,q=new Float32Array(8),X=[],$=[];this.domElement=k,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=No,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Z=this,J=null,tt=null,et=null,nt=-1,rt="",it=null,ut=null,ct=new a,lt=null,ht=new a,ft=0,pt=k.width,dt=k.height,vt=1,mt=new a(0,0,pt,dt),gt=!1,yt=new a(0,0,pt,dt),_t=new ot,bt=new ge,wt=!1,xt=!1,Et=new h,Tt=new l,St=new h,Mt=new h,Ct={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},At={geometries:0,textures:0},Ot={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Ot,memory:At,programs:null};var Nt;try{var Rt={alpha:U,depth:j,stencil:B,antialias:z,premultipliedAlpha:V,preserveDrawingBuffer:H};if(null===(Nt=F||k.getContext("webgl",Rt)||k.getContext("experimental-webgl",Rt)))throw null!==k.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Nt.getShaderPrecisionFormat&&(Nt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),k.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Pt=new me(Nt);Pt.get("WEBGL_depth_texture"),Pt.get("OES_texture_float"),Pt.get("OES_texture_float_linear"),Pt.get("OES_texture_half_float"),Pt.get("OES_texture_half_float_linear"),Pt.get("OES_standard_derivatives"),Pt.get("ANGLE_instanced_arrays"),Pt.get("OES_element_index_uint")&&(It.MaxIndex=4294967296);var Lt=new pe(Nt,Pt,t),Dt=new fe(Nt,Pt,D),kt=new he,Ft=new le(Nt,Pt,Dt,kt,Lt,D,At),Ut=new st(Nt),Bt=new qt(Nt,Ut,At),zt=new Xt(Nt,Bt,Ot),Vt=new ce(this,Lt),$t=new Yt,Qt=new Ht,Kt=new jt(this,Dt,zt,V),Zt=new ve(this);this.info.programs=Vt.programs;var Jt=new Wt(Nt,Pt,Ot),te=new Gt(Nt,Pt,Ot);n(),this.context=Nt,this.capabilities=Lt,this.extensions=Pt,this.properties=kt,this.renderLists=Qt,this.state=Dt,this.vr=Zt;var ee=new at(this,Ct,zt,Lt);this.shadowMap=ee;var ne=new K(this,X),re=new Q(this,$);this.getContext=function(){return Nt},this.getContextAttributes=function(){return Nt.getContextAttributes()},this.forceContextLoss=function(){var t=Pt.get("WEBGL_lose_context");t&&t.loseContext()},this.getMaxAnisotropy=function(){return Lt.getMaxAnisotropy()},this.getPrecision=function(){return Lt.precision},this.getPixelRatio=function(){return vt},this.setPixelRatio=function(t){void 0!==t&&(vt=t,this.setSize(pt,dt,!1))},this.getSize=function(){return{width:pt,height:dt}},this.setSize=function(t,e,n){var r=Zt.getDevice();if(r&&r.isPresenting)return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");pt=t,dt=e,k.width=t*vt,k.height=e*vt,!1!==n&&(k.style.width=t+"px",k.style.height=e+"px"),this.setViewport(0,0,t,e)},this.getDrawingBufferSize=function(){return{width:pt*vt,height:dt*vt}},this.setDrawingBufferSize=function(t,e,n){pt=t,dt=e,vt=n,k.width=t*n,k.height=e*n,this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){yt.set(t,dt-e-r,n,r),Dt.viewport(ht.copy(yt).multiplyScalar(vt))},this.setScissor=function(t,e,n,r){mt.set(t,dt-e-r,n,r),Dt.scissor(ct.copy(mt).multiplyScalar(vt))},this.setScissorTest=function(t){Dt.setScissorTest(gt=t)},this.getClearColor=Kt.getClearColor,this.setClearColor=Kt.setClearColor,this.getClearAlpha=Kt.getClearAlpha,this.setClearAlpha=Kt.setClearAlpha,this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Nt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Nt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Nt.STENCIL_BUFFER_BIT),Nt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){k.removeEventListener("webglcontextlost",i,!1),Qt.dispose()},this.renderBufferImmediate=function(t,e,n){Dt.initAttributes();var r=kt.get(t);t.hasPositions&&!r.position&&(r.position=Nt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Nt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Nt.createBuffer()),t.hasColors&&!r.color&&(r.color=Nt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Nt.bindBuffer(Nt.ARRAY_BUFFER,r.position),Nt.bufferData(Nt.ARRAY_BUFFER,t.positionArray,Nt.DYNAMIC_DRAW),Dt.enableAttribute(i.position),Nt.vertexAttribPointer(i.position,3,Nt.FLOAT,!1,0,0)),t.hasNormals){if(Nt.bindBuffer(Nt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===Wi)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}Nt.bufferData(Nt.ARRAY_BUFFER,t.normalArray,Nt.DYNAMIC_DRAW),Dt.enableAttribute(i.normal),Nt.vertexAttribPointer(i.normal,3,Nt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Nt.bindBuffer(Nt.ARRAY_BUFFER,r.uv),Nt.bufferData(Nt.ARRAY_BUFFER,t.uvArray,Nt.DYNAMIC_DRAW),Dt.enableAttribute(i.uv),Nt.vertexAttribPointer(Ut.uv,2,Nt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==Yi&&(Nt.bindBuffer(Nt.ARRAY_BUFFER,r.color),Nt.bufferData(Nt.ARRAY_BUFFER,t.colorArray,Nt.DYNAMIC_DRAW),Dt.enableAttribute(i.color),Nt.vertexAttribPointer(i.color,3,Nt.FLOAT,!1,0,0)),Dt.disableUnusedAttributes(),Nt.drawArrays(Nt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){Dt.setMaterial(i);var s=_(t,n,i,o),u=r.id+"_"+s.id+"_"+(!0===i.wireframe),c=!1;u!==rt&&(rt=u,c=!0);var l=o.morphTargetInfluences;if(void 0!==l){for(var h=[],f=0,v=l.length;f<v;f++){var m=l[f];h.push([m,f])}h.sort(p),h.length>8&&(h.length=8);for(var g=r.morphAttributes,f=0,v=h.length;f<v;f++){var m=h[f];if(q[f]=m[0],0!==m[0]){var y=m[1];!0===i.morphTargets&&g.position&&r.addAttribute("morphTarget"+f,g.position[y]),!0===i.morphNormals&&g.normal&&r.addAttribute("morphNormal"+f,g.normal[y])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+f),!0===i.morphNormals&&r.removeAttribute("morphNormal"+f)}for(var f=h.length,b=q.length;f<b;f++)q[f]=0;s.getUniforms().setValue(Nt,"morphTargetInfluences",q),c=!0}var y=r.index,w=r.attributes.position,x=1;!0===i.wireframe&&(y=Bt.getWireframeAttribute(r),x=2);var E,T=Jt;null!==y&&(E=Ut.get(y),T=te,T.setIndex(E)),c&&(d(i,s,r),null!==y&&Nt.bindBuffer(Nt.ELEMENT_ARRAY_BUFFER,E.buffer));var S=0;null!==y?S=y.count:void 0!==w&&(S=w.count);var M=r.drawRange.start*x,C=r.drawRange.count*x,A=null!==a?a.start*x:0,I=null!==a?a.count*x:1/0,O=Math.max(M,A),N=Math.min(S,M+C,A+I)-1,R=Math.max(0,N-O+1);if(0!==R){if(o.isMesh)if(!0===i.wireframe)Dt.setLineWidth(i.wireframeLinewidth*e()),T.setMode(Nt.LINES);else switch(o.drawMode){case Ca:T.setMode(Nt.TRIANGLES);break;case Aa:T.setMode(Nt.TRIANGLE_STRIP);break;case Ia:T.setMode(Nt.TRIANGLE_FAN)}else if(o.isLine){var P=i.linewidth;void 0===P&&(P=1),Dt.setLineWidth(P*e()),o.isLineSegments?T.setMode(Nt.LINES):o.isLineLoop?T.setMode(Nt.LINE_LOOP):T.setMode(Nt.LINE_STRIP)}else o.isPoints&&T.setMode(Nt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&T.renderInstances(r,O,R):T.render(O,R)}},this.compile=function(t,e){G=[],t.traverse(function(t){t.isLight&&G.push(t)}),P(G,e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)y(e.material[n],t.fog,e);else y(e.material,t.fog,e)})},this.animate=function(t){function e(){t(),(Zt.getDevice()||window).requestAnimationFrame(e)}(Zt.getDevice()||window).requestAnimationFrame(e)},this.render=function(t,e,n,r){if(!e||!e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");rt="",nt=-1,it=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),Zt.enabled&&(e=Zt.getCamera(e)),Et.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),_t.setFromMatrix(Et),G.length=0,X.length=0,$.length=0,xt=this.localClippingEnabled,wt=bt.init(this.clippingPlanes,xt,e),W=Qt.get(t,e),W.init(),v(t,e,Z.sortObjects),W.finish(),!0===Z.sortObjects&&W.sort(),wt&&bt.beginShadows(),R(G),ee.render(t,e),P(G,e),wt&&bt.endShadows(),Ot.frame++,Ot.calls=0,Ot.vertices=0,Ot.faces=0,Ot.points=0,void 0===n&&(n=null),this.setRenderTarget(n),Kt.render(t,e,r);var i=W.opaque,o=W.transparent;if(t.overrideMaterial){var a=t.overrideMaterial;i.length&&m(i,t,e,a),o.length&&m(o,t,e,a)}else i.length&&m(i,t,e),o.length&&m(o,t,e);ne.render(t,e),re.render(t,e,ht),n&&Ft.updateRenderTargetMipmap(n),Dt.buffers.depth.setTest(!0),Dt.buffers.depth.setMask(!0),Dt.buffers.color.setMask(!0),e.isArrayCamera&&Z.setScissorTest(!1),Zt.enabled&&Zt.submitFrame()},this.setFaceCulling=function(t,e){Dt.setCullFace(t),Dt.setFlipSided(e===ji)},this.allocTextureUnit=L,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),Ft.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Ft.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?Ft.setTextureCube(e,n):Ft.setTextureCubeDynamic(e,n)}}(),this.getRenderTarget=function(){return tt},this.setRenderTarget=function(t){tt=t,t&&void 0===kt.get(t).__webglFramebuffer&&Ft.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=kt.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,ct.copy(t.scissor),lt=t.scissorTest,ht.copy(t.viewport)}else e=null,ct.copy(mt).multiplyScalar(vt),lt=gt,ht.copy(yt).multiplyScalar(vt);if(et!==e&&(Nt.bindFramebuffer(Nt.FRAMEBUFFER,e),et=e),Dt.scissor(ct),Dt.setScissorTest(lt),Dt.viewport(ht),n){var i=kt.get(t.texture);Nt.framebufferTexture2D(Nt.FRAMEBUFFER,Nt.COLOR_ATTACHMENT0,Nt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=kt.get(t).__webglFramebuffer;if(a){var s=!1;a!==et&&(Nt.bindFramebuffer(Nt.FRAMEBUFFER,a),s=!0);try{var u=t.texture,c=u.format,l=u.type;if(c!==ha&&D(c)!==Nt.getParameter(Nt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Ko||D(l)===Nt.getParameter(Nt.IMPLEMENTATION_COLOR_READ_TYPE)||l===ra&&(Pt.get("OES_texture_float")||Pt.get("WEBGL_color_buffer_float"))||l===ia&&Pt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Nt.checkFramebufferStatus(Nt.FRAMEBUFFER)===Nt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Nt.readPixels(e,n,r,i,D(c),D(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Nt.bindFramebuffer(Nt.FRAMEBUFFER,et)}}}}function _e(t,e){this.name="",this.color=new X(t),this.density=void 0!==e?e:25e-5}function be(t,e,n){this.name="",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function we(){lt.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function xe(t,e,n,r,i){lt.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function Ee(t){Z.call(this),this.type="SpriteMaterial",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Te(t){lt.call(this),this.type="Sprite",this.material=void 0!==t?t:new Ee}function Se(){lt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Me(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new h)}}function Ce(){lt.call(this),this.type="Bone"}function Ae(t,e){Ut.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new h,this.bindMatrixInverse=new h;var n=this.initBones(),r=new Me(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function Ie(t){Z.call(this),this.type="LineBasicMaterial",this.color=new X(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Oe(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Ne(t,e);lt.call(this),this.type="Line",this.geometry=void 0!==t?t:new It,this.material=void 0!==e?e:new Ie({color:16777215*Math.random()})}function Ne(t,e){Oe.call(this,t,e),this.type="LineSegments"}function Re(t,e){Oe.call(this,t,e),this.type="LineLoop"}function Pe(t){Z.call(this),this.type="PointsMaterial",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Le(t,e){lt.call(this),this.type="Points",this.geometry=void 0!==t?t:new It,this.material=void 0!==e?e:new Pe({color:16777215*Math.random()})}function De(){lt.call(this),this.type="Group"}function ke(t,e,n,r,i,a,s,u,c){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}o.call(this,t,e,n,r,i,a,s,u,c),this.generateMipmaps=!1;var h=this;l()}function Fe(t,e,n,r,i,a,s,u,c,l,h,f){o.call(this,null,a,s,u,c,l,r,i,h,f),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ue(t,e,n,r,i,a,s,u,c){o.call(this,t,e,n,r,i,a,s,u,c),this.needsUpdate=!0}function je(t,e,n,r,i,a,s,u,c,l){if((l=void 0!==l?l:da)!==da&&l!==va)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===da&&(n=ta),void 0===n&&l===va&&(n=ua),o.call(this,null,r,i,a,s,u,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==s?s:Wo,this.minFilter=void 0!==u?u:Wo,this.flipY=!1,this.generateMipmaps=!1}function Be(t){It.call(this),this.type="WireframeGeometry";var e,n,r,i,o,a,s,u,c,h,f=[],p=[0,0],d={},v=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var g=m[e];for(n=0;n<3;n++)s=g[v[n]],u=g[v[(n+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),c=p[0]+","+p[1],void 0===d[c]&&(d[c]={index1:p[0],index2:p[1]})}for(c in d)a=d[c],h=t.vertices[a.index1],f.push(h.x,h.y,h.z),h=t.vertices[a.index2],f.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var y,_,b,w,x,E,T,S;if(h=new l,null!==t.index){for(y=t.attributes.position,_=t.index,b=t.groups,0===b.length&&(b=[{start:0,count:_.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(w=b[i],x=w.start,E=w.count,e=x,r=x+E;e<r;e+=3)for(n=0;n<3;n++)s=_.getX(e+n),u=_.getX(e+(n+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),c=p[0]+","+p[1],void 0===d[c]&&(d[c]={index1:p[0],index2:p[1]});for(c in d)a=d[c],h.fromBufferAttribute(y,a.index1),f.push(h.x,h.y,h.z),h.fromBufferAttribute(y,a.index2),f.push(h.x,h.y,h.z)}else for(y=t.attributes.position,e=0,r=y.count/3;e<r;e++)for(n=0;n<3;n++)T=3*e+n,h.fromBufferAttribute(y,T),f.push(h.x,h.y,h.z),S=3*e+(n+1)%3,h.fromBufferAttribute(y,S),f.push(h.x,h.y,h.z)}this.addAttribute("position",new St(f,3))}function ze(t,e,n){mt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Ve(t,e,n)),this.mergeVertices()}function Ve(t,e,n){It.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=new l,h=new l,f=new l,p=new l,d=new l,v=e+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=e;i++){var g=i/e;h=t(g,m,h),a.push(h.x,h.y,h.z),g-1e-5>=0?(f=t(g-1e-5,m,f),p.subVectors(h,f)):(f=t(g+1e-5,m,f),p.subVectors(f,h)),m-1e-5>=0?(f=t(g,m-1e-5,f),d.subVectors(h,f)):(f=t(g,m+1e-5,f),d.subVectors(f,h)),c.crossVectors(p,d).normalize(),s.push(c.x,c.y,c.z),u.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var y=r*v+i,_=r*v+i+1,b=(r+1)*v+i+1,w=(r+1)*v+i;o.push(y,_,w),o.push(_,b,w)}this.setIndex(o),this.addAttribute("position",new St(a,3)),this.addAttribute("normal",new St(s,3)),this.addAttribute("uv",new St(u,2))}function He(t,e,n,r){mt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ge(t,e,n,r)),this.mergeVertices()}function Ge(t,e,n,r){function o(t,e,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var c=t.clone().lerp(n,i/a),l=e.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2==0?(s(u[i][f+1]),s(u[i+1][f]),s(u[i][f])):(s(u[i][f+1]),s(u[i+1][f+1]),s(u[i+1][f]))}}function a(){for(var t=0;t<v.length;t+=6){var e=v[t+0],n=v[t+2],r=v[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(v[t+0]+=1),n<.2&&(v[t+2]+=1),r<.2&&(v[t+4]+=1))}}function s(t){d.push(t.x,t.y,t.z)}function u(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function c(){for(var t=new l,e=new l,n=new l,r=new l,o=new i,a=new i,s=new i,u=0,c=0;u<d.length;u+=9,c+=6){t.set(d[u+0],d[u+1],d[u+2]),e.set(d[u+3],d[u+4],d[u+5]),n.set(d[u+6],d[u+7],d[u+8]),o.set(v[c+0],v[c+1]),a.set(v[c+2],v[c+3]),s.set(v[c+4],v[c+5]),r.copy(t).add(e).add(n).divideScalar(3);var p=f(r);h(o,c+0,t,p),h(a,c+2,e,p),h(s,c+4,n,p)}}function h(t,e,n,r){r<0&&1===t.x&&(v[e]=t.x-1),0===n.x&&0===n.z&&(v[e]=r/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}function p(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}It.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var d=[],v=[];!function(t){for(var n=new l,r=new l,i=new l,a=0;a<e.length;a+=3)u(e[a+0],n),u(e[a+1],r),u(e[a+2],i),o(n,r,i,t)}(r),function(t){for(var e=new l,n=0;n<d.length;n+=3)e.x=d[n+0],e.y=d[n+1],e.z=d[n+2],e.normalize().multiplyScalar(t),d[n+0]=e.x,d[n+1]=e.y,d[n+2]=e.z}(n),function(){for(var t=new l,e=0;e<d.length;e+=3){t.x=d[e+0],t.y=d[e+1],t.z=d[e+2];var n=f(t)/2/Math.PI+.5,r=p(t)/Math.PI+.5;v.push(n,1-r)}c(),a()}(),this.addAttribute("position",new St(d,3)),this.addAttribute("normal",new St(d.slice(),3)),this.addAttribute("uv",new St(v,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function We(t,e){mt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new qe(t,e)),this.mergeVertices()}function qe(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Ge.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ye(t,e){mt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Xe(t,e)),this.mergeVertices()}function Xe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ge.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function $e(t,e){mt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Qe(t,e)),this.mergeVertices()}function Qe(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ge.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ke(t,e){mt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ze(t,e)),this.mergeVertices()}function Ze(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ge.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Je(t,e,n,r,i,o){mt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new tn(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function tn(t,e,n,r,o){function a(i){var o=t.getPointAt(i/e),a=c.normals[i],s=c.binormals[i];for(f=0;f<=r;f++){var u=f/r*Math.PI*2,l=Math.sin(u),h=-Math.cos(u);d.x=h*a.x+l*s.x,d.y=h*a.y+l*s.y,d.z=h*a.z+l*s.z,d.normalize(),g.push(d.x,d.y,d.z),p.x=o.x+n*d.x,p.y=o.y+n*d.y,p.z=o.z+n*d.z,m.push(p.x,p.y,p.z)}}function s(){for(f=1;f<=e;f++)for(h=1;h<=r;h++){var t=(r+1)*(f-1)+(h-1),n=(r+1)*f+(h-1),i=(r+1)*f+h,o=(r+1)*(f-1)+h;_.push(t,n,o),_.push(n,i,o)}}function u(){for(h=0;h<=e;h++)for(f=0;f<=r;f++)v.x=h/e,v.y=f/r,y.push(v.x,v.y)}It.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:o},e=e||64,n=n||1,r=r||8,o=o||!1;var c=t.computeFrenetFrames(e,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var h,f,p=new l,d=new l,v=new i,m=[],g=[],y=[],_=[];!function(){for(h=0;h<e;h++)a(h);a(!1===o?e:0),u(),s()}(),this.setIndex(_),this.addAttribute("position",new St(m,3)),this.addAttribute("normal",new St(g,3)),this.addAttribute("uv",new St(y,2))}function en(t,e,n,r,i,o,a){mt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new nn(t,e,n,r,i,o)),this.mergeVertices()}function nn(t,e,n,r,i,o){function a(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}It.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s,u,c=[],h=[],f=[],p=[],d=new l,v=new l,m=new l,g=new l,y=new l,_=new l,b=new l;for(s=0;s<=n;++s){var w=s/n*i*Math.PI*2;for(a(w,i,o,t,m),a(w+.01,i,o,t,g),_.subVectors(g,m),b.addVectors(g,m),y.crossVectors(_,b),b.crossVectors(y,_),y.normalize(),b.normalize(),u=0;u<=r;++u){var x=u/r*Math.PI*2,E=-e*Math.cos(x),T=e*Math.sin(x);d.x=m.x+(E*b.x+T*y.x),d.y=m.y+(E*b.y+T*y.y),d.z=m.z+(E*b.z+T*y.z),h.push(d.x,d.y,d.z),v.subVectors(d,m).normalize(),f.push(v.x,v.y,v.z),p.push(s/n),p.push(u/r)}}for(u=1;u<=n;u++)for(s=1;s<=r;s++){var S=(r+1)*(u-1)+(s-1),M=(r+1)*u+(s-1),C=(r+1)*u+s,A=(r+1)*(u-1)+s;c.push(S,M,A),c.push(M,C,A)}this.setIndex(c),this.addAttribute("position",new St(h,3)),this.addAttribute("normal",new St(f,3)),this.addAttribute("uv",new St(p,2))}function rn(t,e,n,r,i){mt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new on(t,e,n,r,i)),this.mergeVertices()}function on(t,e,n,r,i){It.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],h=[],f=new l,p=new l,d=new l;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var v=a/r*i,m=o/n*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(v),p.y=(t+e*Math.cos(m))*Math.sin(v),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),f.x=t*Math.cos(v),f.y=t*Math.sin(v),d.subVectors(p,f).normalize(),c.push(d.x,d.y,d.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,_=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(g,y,b),s.push(y,_,b)}this.setIndex(s),this.addAttribute("position",new St(u,3)),this.addAttribute("normal",new St(c,3)),this.addAttribute("uv",new St(h,2))}function an(t,e){mt.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new sn(t,e)),this.mergeVertices()}function sn(t,e){void 0!==t&&(It.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals())}function un(t,e){mt.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new cn(t,e)),this.mergeVertices()}function cn(t,e){e=e||{};var n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new mt;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),sn.call(this,r,e),this.type="TextBufferGeometry"}function ln(t,e,n,r,i,o,a){mt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new hn(t,e,n,r,i,o,a)),this.mergeVertices()}function hn(t,e,n,r,i,o,a){It.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,c=o+a,h=0,f=[],p=new l,d=new l,v=[],m=[],g=[],y=[];for(u=0;u<=n;u++){var _=[],b=u/n;for(s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*i)*Math.sin(o+b*a),p.y=t*Math.cos(o+b*a),p.z=t*Math.sin(r+w*i)*Math.sin(o+b*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),y.push(w,1-b),_.push(h++)}f.push(_)}for(u=0;u<n;u++)for(s=0;s<e;s++){var x=f[u][s+1],E=f[u][s],T=f[u+1][s],S=f[u+1][s+1];(0!==u||o>0)&&v.push(x,E,S),(u!==n-1||c<Math.PI)&&v.push(E,T,S)}this.setIndex(v),this.addAttribute("position",new St(m,3)),this.addAttribute("normal",new St(g,3)),this.addAttribute("uv",new St(y,2))}function fn(t,e,n,r,i,o){mt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new pn(t,e,n,r,i,o)),this.mergeVertices()}function pn(t,e,n,r,o,a){It.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,u,c,h=[],f=[],p=[],d=[],v=t,m=(e-t)/r,g=new l,y=new i;for(u=0;u<=r;u++){for(c=0;c<=n;c++)s=o+c/n*a,g.x=v*Math.cos(s),g.y=v*Math.sin(s),f.push(g.x,g.y,g.z),p.push(0,0,1),y.x=(g.x/e+1)/2,y.y=(g.y/e+1)/2,d.push(y.x,y.y);v+=m}for(u=0;u<r;u++){var _=u*(n+1);for(c=0;c<n;c++){s=c+_;var b=s,w=s+n+1,x=s+n+2,E=s+1;h.push(b,w,E),h.push(w,x,E)}}this.setIndex(h),this.addAttribute("position",new St(f,3)),this.addAttribute("normal",new St(p,3)),this.addAttribute("uv",new St(d,2))}function dn(t,e,n,r){mt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new vn(t,e,n,r)),this.mergeVertices()}function vn(t,e,n,r){It.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=ja.clamp(r,0,2*Math.PI);var o,a,s,u=[],c=[],h=[],f=1/e,p=new l,d=new i;for(a=0;a<=e;a++){var v=n+a*f*r,m=Math.sin(v),g=Math.cos(v);for(s=0;s<=t.length-1;s++)p.x=t[s].x*m,p.y=t[s].y,p.z=t[s].x*g,c.push(p.x,p.y,p.z),d.x=a/e,d.y=s/(t.length-1),h.push(d.x,d.y)}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var y=o,_=o+t.length,b=o+t.length+1,w=o+1;u.push(y,_,w),u.push(_,b,w)}if(this.setIndex(u),this.addAttribute("position",new St(c,3)),this.addAttribute("uv",new St(h,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,E=new l,T=new l,S=new l;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)E.x=x[s+0],E.y=x[s+1],E.z=x[s+2],T.x=x[o+s+0],T.y=x[o+s+1],T.z=x[o+s+2],S.addVectors(E,T).normalize(),x[s+0]=x[o+s+0]=S.x,x[s+1]=x[o+s+1]=S.y,x[s+2]=x[o+s+2]=S.z}}function mn(t,e){mt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new gn(t,e)),this.mergeVertices()}function gn(t,e){function n(t){var n,s,c,l=i.length/3,h=t.extractPoints(e),f=h.shape,p=h.holes;if(!1===rs.isClockWise(f))for(f=f.reverse(),n=0,s=p.length;n<s;n++)c=p[n],!0===rs.isClockWise(c)&&(p[n]=c.reverse());var d=rs.triangulateShape(f,p);for(n=0,s=p.length;n<s;n++)c=p[n],f=f.concat(c);for(n=0,s=f.length;n<s;n++){var v=f[n];i.push(v.x,v.y,0),o.push(0,0,1),a.push(v.x,v.y)}for(n=0,s=d.length;n<s;n++){var m=d[n],g=m[0]+l,y=m[1]+l,_=m[2]+l;r.push(g,y,_),u+=3}}It.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(t))n(t);else for(var c=0;c<t.length;c++)n(t[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new St(i,3)),this.addAttribute("normal",new St(o,3)),this.addAttribute("uv",new St(a,2))}function yn(t,e){It.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i,o,a=[],s=Math.cos(ja.DEG2RAD*e),u=[0,0],c={},l=["a","b","c"];t.isBufferGeometry?(o=new mt,o.fromBufferGeometry(t)):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,f=o.faces,p=0,d=f.length;p<d;p++)for(var v=f[p],m=0;m<3;m++)n=v[l[m]],r=v[l[(m+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),i=u[0]+","+u[1],void 0===c[i]?c[i]={index1:u[0],index2:u[1],face1:p,face2:void 0}:c[i].face2=p;for(i in c){var g=c[i];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=s){var y=h[g.index1];a.push(y.x,y.y,y.z),y=h[g.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new St(a,3))}function _n(t,e,n,r,i,o,a,s){mt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new bn(t,e,n,r,i,o,a,s)),this.mergeVertices()}function bn(t,e,n,r,o,a,s,u){function c(n){var o,a,c,g=new i,b=new l,w=0,x=!0===n?t:e,E=!0===n?1:-1;for(a=m,o=1;o<=r;o++)p.push(0,y*E,0),d.push(0,E,0),v.push(.5,.5),m++;for(c=m,o=0;o<=r;o++){var T=o/r,S=T*u+s,M=Math.cos(S),C=Math.sin(S);b.x=x*C,b.y=y*E,b.z=x*M,p.push(b.x,b.y,b.z),d.push(0,E,0),g.x=.5*M+.5,g.y=.5*C*E+.5,v.push(g.x,g.y),m++}for(o=0;o<r;o++){var A=a+o,I=c+o;!0===n?f.push(I,I+1,A):f.push(I+1,I,A),w+=3}h.addGroup(_,w,!0===n?1:2),_+=w}It.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var f=[],p=[],d=[],v=[],m=0,g=[],y=n/2,_=0;!function(){var i,a,c=new l,b=new l,w=0,x=(e-t)/n;for(a=0;a<=o;a++){var E=[],T=a/o,S=T*(e-t)+t;for(i=0;i<=r;i++){var M=i/r,C=M*u+s,A=Math.sin(C),I=Math.cos(C);b.x=S*A,b.y=-T*n+y,b.z=S*I,p.push(b.x,b.y,b.z),c.set(A,x,I).normalize(),d.push(c.x,c.y,c.z),v.push(M,1-T),E.push(m++)}g.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var O=g[a][i],N=g[a+1][i],R=g[a+1][i+1],P=g[a][i+1];f.push(O,N,P),f.push(N,R,P),w+=6}h.addGroup(_,w,0),_+=w}(),!1===a&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(f),this.addAttribute("position",new St(p,3)),this.addAttribute("normal",new St(d,3)),this.addAttribute("uv",new St(v,2))}function wn(t,e,n,r,i,o,a){_n.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function xn(t,e,n,r,i,o,a){bn.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function En(t,e,n,r){mt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Tn(t,e,n,r)),this.mergeVertices()}function Tn(t,e,n,r){It.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,a,s=[],u=[],c=[],h=[],f=new l,p=new i;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=e;a++,o+=3){var d=n+a/e*r;f.x=t*Math.cos(d),f.y=t*Math.sin(d),u.push(f.x,f.y,f.z),c.push(0,0,1),p.x=(u[o]/t+1)/2,p.y=(u[o+1]/t+1)/2,h.push(p.x,p.y)}for(o=1;o<=e;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new St(u,3)),this.addAttribute("normal",new St(c,3)),this.addAttribute("uv",new St(h,2))}function Sn(t){J.call(this,{uniforms:Qa.merge([$a.lights,{opacity:{value:1}}]),vertexShader:Ka.shadow_vert,fragmentShader:Ka.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}}),this.setValues(t)}function Mn(t){J.call(this,t),this.type="RawShaderMaterial"}function Cn(t){Z.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function An(t){Cn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function In(t){Z.call(this),this.type="MeshPhongMaterial",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Co,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function On(t){In.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Nn(t){Z.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Rn(t){Z.call(this),this.type="MeshLambertMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Co,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Pn(t){Z.call(this),this.type="LineDashedMaterial",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Ln(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function Dn(t){this.manager=void 0!==t?t:ss}function kn(t){this.manager=void 0!==t?t:ss,this._parser=null}function Fn(t){this.manager=void 0!==t?t:ss,this._parser=null}function Un(t){this.manager=void 0!==t?t:ss}function jn(t){this.manager=void 0!==t?t:ss}function Bn(t){this.manager=void 0!==t?t:ss}function zn(t,e){lt.call(this),this.type="Light",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Vn(t,e,n){zn.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(lt.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function Hn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new h}function Gn(){Hn.call(this,new pt(50,1,.5,500))}function Wn(t,e,n,r,i,o){zn.call(this,t,e),this.type="SpotLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Gn}function qn(t,e,n,r){zn.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Hn(new pt(90,1,.5,500))}function Yn(){Hn.call(this,new ft(-5,5,5,-5,.5,500))}function Xn(t,e){zn.call(this,t,e),this.type="DirectionalLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,this.shadow=new Yn}function $n(t,e){zn.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Qn(t,e,n,r){zn.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Kn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Zn(t,e,n,r){Kn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Jn(t,e,n,r){Kn.call(this,t,e,n,r)}function tr(t,e,n,r){Kn.call(this,t,e,n,r)}function er(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=us.convertArray(e,this.TimeBufferType),this.values=us.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function nr(t,e,n,r){er.call(this,t,e,n,r)}function rr(t,e,n,r){Kn.call(this,t,e,n,r)}function ir(t,e,n,r){er.call(this,t,e,n,r)}function or(t,e,n,r){er.call(this,t,e,n,r)}function ar(t,e,n,r){er.call(this,t,e,n,r)}function sr(t,e,n){er.call(this,t,e,n)}function ur(t,e,n,r){er.call(this,t,e,n,r)}function cr(t,e,n,r){er.apply(this,arguments)}function lr(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=ja.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function hr(t){this.manager=void 0!==t?t:ss,this.textures={}}function fr(t){this.manager=void 0!==t?t:ss}function pr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function dr(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:ss,this.withCredentials=!1}function vr(t){this.manager=void 0!==t?t:ss,this.texturePath=""}function mr(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function gr(t,e){var n=1-t;return n*n*e}function yr(t,e){return 2*(1-t)*t*e}function _r(t,e){return t*t*e}function br(t,e,n,r){return gr(t,e)+yr(t,n)+_r(t,r)}function wr(t,e){var n=1-t;return n*n*n*e}function xr(t,e){var n=1-t;return 3*n*n*t*e}function Er(t,e){return 3*(1-t)*t*t*e}function Tr(t,e){return t*t*t*e}function Sr(t,e,n,r,i){return wr(t,e)+xr(t,n)+Er(t,r)+Tr(t,i)}function Mr(){this.arcLengthDivisions=200}function Cr(t,e){Mr.call(this),this.v1=t,this.v2=e}function Ar(){Mr.call(this),this.curves=[],this.autoClose=!1}function Ir(t,e,n,r,i,o,a,s){Mr.call(this),this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function Or(t){Mr.call(this),this.points=void 0===t?[]:t}function Nr(t,e,n,r){Mr.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Rr(t,e,n){Mr.call(this),this.v0=t,this.v1=e,this.v2=n}function Pr(t){Ar.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function Lr(){Pr.apply(this,arguments),this.holes=[]}function Dr(){this.subPaths=[],this.currentPath=null}function kr(t){this.data=t}function Fr(t){this.manager=void 0!==t?t:ss}function Ur(t){this.manager=void 0!==t?t:ss}function jr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Br(t,e,n){lt.call(this),this.type="CubeCamera";var r=new pt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new l(1,0,0)),this.add(r);var i=new pt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new l(-1,0,0)),this.add(i);var o=new pt(90,1,t,e);o.up.set(0,0,1),o.lookAt(new l(0,1,0)),this.add(o);var a=new pt(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new l(0,-1,0)),this.add(a);var s=new pt(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new l(0,0,1)),this.add(s);var c=new pt(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new l(0,0,-1)),this.add(c);var h={format:la,magFilter:Xo,minFilter:Xo};this.renderTarget=new u(n,n,h),this.renderTarget.texture.name="CubeCamera",this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=u,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)}}function zr(){lt.call(this),this.type="AudioListener",this.context=ms.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Vr(t){lt.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Hr(t){Vr.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Gr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Wr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function qr(t,e,n){var r=n||Yr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Yr(t,e,n){this.path=e,this.parsedPath=n||Yr.parseTrackName(e),this.node=Yr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Xr(t){this.uuid=ja.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function $r(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:Ma,endingEnd:Ma},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Sa,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Qr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Kr(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Zr(){It.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Jr(t,e,n,r){this.uuid=ja.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function ti(t,e){this.uuid=ja.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ei(t,e,n){ti.call(this,t,e),this.meshPerAttribute=n||1}function ni(t,e,n){gt.call(this,t,e),this.meshPerAttribute=n||1}function ri(t,e,n,r){this.ray=new Dt(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ii(t,e){return t.distance-e.distance}function oi(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)oi(i[o],e,n,!0)}function ai(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function si(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function ui(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function ci(t,e){Ut.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)}function li(t){lt.call(this),this.material=t,this.render=function(t){}}function hi(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new It,c=new St(2*a*3,3);u.addAttribute("position",c),Ne.call(this,u,new Ie({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function fi(t){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new It,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new St(n,3));var s=new Ie({fog:!1});this.cone=new Ne(e,s),this.add(this.cone),this.update()}function pi(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,pi(t.children[n]));return e}function di(t){for(var e=pi(t),n=new It,r=[],i=[],o=new X(0,0,1),a=new X(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new St(r,3)),n.addAttribute("color",new St(i,3));var c=new Ie({vertexColors:$i,depthTest:!1,depthWrite:!1,transparent:!0});Ne.call(this,n,c),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.onBeforeRender()}function vi(t,e){this.light=t,this.light.updateMatrixWorld();var n=new hn(e,4,2),r=new Lt({wireframe:!0,fog:!1});r.color.copy(this.light.color),Ut.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function mi(t){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new Ie({color:t.color}),n=new It;n.addAttribute("position",new gt(new Float32Array(15),3)),this.add(new Oe(n,e)),this.update()}function gi(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Xe(e);n.rotateY(.5*Math.PI);var r=new Lt({vertexColors:$i,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new gt(o,3)),this.add(new Ut(n,r)),this.update()}function yi(t,e,n,r){t=t||10,e=e||10,n=new X(void 0!==n?n:4473924),r=new X(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],c=0,l=0,h=-a;c<=e;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=c===i?n:r;f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3}var p=new It;p.addAttribute("position",new St(s,3)),p.addAttribute("color",new St(u,3));var d=new Ie({vertexColors:$i});Ne.call(this,p,d)}function _i(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new X(void 0!==i?i:4473924),o=new X(void 0!==o?o:8947848);var a,s,u,c,l,h,f,p=[],d=[];for(c=0;c<=e;c++)u=c/e*(2*Math.PI),a=Math.sin(u)*t,s=Math.cos(u)*t,p.push(0,0,0),p.push(a,0,s),f=1&c?i:o,d.push(f.r,f.g,f.b),d.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,h=t-t/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,p.push(a,0,s),d.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,p.push(a,0,s),d.push(f.r,f.g,f.b);var v=new It;v.addAttribute("position",new St(p,3)),v.addAttribute("color",new St(d,3));var m=new Ie({vertexColors:$i});Ne.call(this,v,m)}function bi(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new It,c=new St(2*a*3,3);u.addAttribute("position",c),Ne.call(this,u,new Ie({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function wi(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new It;n.addAttribute("position",new St([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Ie({fog:!1});this.add(new Oe(n,r)),n=new It,n.addAttribute("position",new St([0,0,0,0,0,1],3)),this.add(new Oe(n,r)),this.update()}function xi(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new It,i=new Ie({color:16777215,vertexColors:Xi}),o=[],a=[],s={},u=new X(16755200),c=new X(16711680),l=new X(43775),h=new X(16777215),f=new X(3355443);e("n1","n2",u),e("n2","n4",u),e("n4","n3",u),e("n3","n1",u),e("f1","f2",u),e("f2","f4",u),e("f4","f3",u),e("f3","f1",u),e("n1","f1",u),e("n2","f2",u),e("n3","f3",u),e("n4","f4",u),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",h),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new St(o,3)),r.addAttribute("color",new St(a,3)),Ne.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ei(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new It;i.setIndex(new gt(n,1)),i.addAttribute("position",new gt(r,3)),Ne.call(this,i,new Ie({color:e})),this.matrixAutoUpdate=!1,this.update()}function Ti(t,e,n,r,i,o){lt.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===gs&&(gs=new It,gs.addAttribute("position",new St([0,0,0,0,1,0],3)),ys=new bn(0,.5,1,5,1),ys.translate(0,-.5,0)),this.position.copy(e),this.line=new Oe(gs,new Ie({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ut(ys,new Lt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function Si(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new It;r.addAttribute("position",new St(e,3)),r.addAttribute("color",new St(n,3));var i=new Ie({vertexColors:$i});Ne.call(this,r,i)}function Mi(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var u=(n-e)/o-(r-e)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,c*=a,t(n,r,u,c)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function Ci(t){Mr.call(this),t.length<2&&console.warn("THREE.CatmullRomCurve3: Points array needs at least two entries."),this.points=t||[],this.closed=!1}function Ai(t,e,n,r){Mr.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Ii(t,e,n){Mr.call(this),this.v0=t,this.v1=e,this.v2=n}function Oi(t,e){Mr.call(this),this.v1=t,this.v2=e}function Ni(t,e,n,r,i,o){Ir.call(this,t,e,n,n,r,i,o)}function Ri(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ci.call(this,t),this.type="catmullrom",this.closed=!0}function Pi(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ci.call(this,t),this.type="catmullrom"}function Li(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ci.call(this,t),this.type="catmullrom"}n.d(e,"c",function(){return ye}),n.d(e,"b",function(){return we}),n.d(e,"f",function(){return Ut}),n.d(e,"i",function(){return Ne}),n.d(e,"j",function(){return Fr}),n.d(e,"a",function(){return pt}),n.d(e,"k",function(){return cn}),n.d(e,"g",function(){return yn}),n.d(e,"d",function(){return Nt}),n.d(e,"e",function(){return Lt}),n.d(e,"h",function(){return Ie}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),Object.assign(r.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,t)}}}});var Di="86",ki=0,Fi=1,Ui=2,ji=0,Bi=1,zi=2,Vi=0,Hi=1,Gi=2,Wi=1,qi=2,Yi=0,Xi=1,$i=2,Qi=0,Ki=1,Zi=2,Ji=3,to=4,eo=5,no=100,ro=101,io=102,oo=103,ao=104,so=200,uo=201,co=202,lo=203,ho=204,fo=205,po=206,vo=207,mo=208,go=209,yo=210,_o=0,bo=1,wo=2,xo=3,Eo=4,To=5,So=6,Mo=7,Co=0,Ao=1,Io=2,Oo=0,No=1,Ro=2,Po=3,Lo=4,Do=301,ko=302,Fo=303,Uo=304,jo=305,Bo=306,zo=307,Vo=1e3,Ho=1001,Go=1002,Wo=1003,qo=1004,Yo=1005,Xo=1006,$o=1007,Qo=1008,Ko=1009,Zo=1010,Jo=1011,ta=1012,ea=1013,na=1014,ra=1015,ia=1016,oa=1017,aa=1018,sa=1019,ua=1020,ca=1021,la=1022,ha=1023,fa=1024,pa=1025,da=1026,va=1027,ma=2001,ga=2002,ya=2003,_a=2004,ba=2100,wa=2101,xa=2102,Ea=2103,Ta=2151,Sa=2201,Ma=2400,Ca=0,Aa=1,Ia=2,Oa=3e3,Na=3001,Ra=3007,Pa=3002,La=3004,Da=3005,ka=3006,Fa=3200,Ua=3201,ja={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ja.DEG2RAD},radToDeg:function(t){return t*ja.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(i.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new i,e=new i;return function(n,r){return t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}});var Ba=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=300,Object.defineProperty(o.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(o.prototype,r.prototype,{constructor:o,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=ja.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case Vo:t.x=t.x-Math.floor(t.x);break;case Ho:t.x=t.x<0?0:1;break;case Go:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Vo:t.y=t.y-Math.floor(t.y);break;case Ho:t.y=t.y<0?0:1;break;case Go:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(a.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(s-c)<.01&&Math.abs(u-f)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+f)<.1&&Math.abs(h+p)<.1&&Math.abs(a+l+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var v=(a+1)/2,m=(l+1)/2,g=(d+1)/2,y=(s+c)/4,_=(u+f)/4,b=(h+p)/4;return v>m&&v>g?v<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(v),r=y/n,i=_/n):m>g?m<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(m),n=y/r,i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=_/i,r=b/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(u-f)*(u-f)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(u-f)/w,this.z=(c-s)/w,this.w=Math.acos((a+l+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new a,e=new a),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(s.prototype,r.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,Object.assign(c,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(l!==d||s!==h||u!==f||c!==p){var v=1-a,m=s*h+u*f+c*p+l*d,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,m*g);v=Math.sin(v*b)/_,a=Math.sin(a*b)/_}var w=a*g;if(s=s*v+h*w,u=u*v+f*w,c=c*v+p*w,l=l*v+d*w,v===1-a){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),Object.defineProperties(c.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(c.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),f=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l-h*f*p):"YXZ"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l+h*f*p):"ZXY"===o?(this._x=h*c*l-u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l-h*f*p):"ZYX"===o?(this._x=h*c*l-u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l+h*f*p):"YZX"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l-h*f*p):"XZY"===o&&(this._x=h*c*l-u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l+h*f*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(l-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-c)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new l;return function(n,r){return void 0===e&&(e=new l),t=n.dot(r)+1,t<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-e)*u)/s,l=Math.sin(e*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(l.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new c;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new c;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,c=s*n+a*e-i*r,l=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var t=new h;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new h;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new l,e=new l;return function(n,r){return t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new l;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new l;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(ja.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(h.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=c,m[10]=l,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new l;return function(e){var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=o*c,f=o*l,p=a*c,d=a*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=f+p*u,e[5]=h-d*u,e[9]=-a*s,e[2]=d-h*u,e[6]=p+f*u,e[10]=o*s}else if("YXZ"===t.order){var v=s*c,m=s*l,g=u*c,y=u*l;e[0]=v+y*a,e[4]=g*a-m,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-a,e[2]=m*a-g,e[6]=y+v*a,e[10]=o*s}else if("ZXY"===t.order){var v=s*c,m=s*l,g=u*c,y=u*l;e[0]=v-y*a,e[4]=-o*l,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*c,e[9]=y-v*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*c,f=o*l,p=a*c,d=a*l;e[0]=s*c,e[4]=p*u-f,e[8]=h*u+d,e[1]=s*l,e[5]=d*u+h,e[9]=f*u-p,e[2]=-u,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,b=o*u,w=a*s,x=a*u;e[0]=s*c,e[4]=x-_*l,e[8]=w*l+b,e[1]=l,e[5]=o*c,e[9]=-a*c,e[2]=-u*c,e[6]=b*l+w,e[10]=_-x*l}else if("XZY"===t.order){var _=o*s,b=o*u,w=a*s,x=a*u;e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=_*l+x,e[5]=o*c,e[9]=b*l-w,e[2]=w*l-b,e[6]=a*c,e[10]=x*l+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,r=t._y,i=t._z,o=t._w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,f=r*s,p=r*u,d=i*u,v=o*a,m=o*s,g=o*u;return e[0]=1-(f+d),e[4]=l-g,e[8]=h+m,e[1]=l+g,e[5]=1-(c+d),e[9]=p-v,e[2]=h-m,e[6]=p+v,e[10]=1-(c+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new l,e=new l,n=new l;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(o,n),0===t.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(o,n)),t.normalize(),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],p=n[2],d=n[6],v=n[10],m=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],x=r[4],E=r[8],T=r[12],S=r[1],M=r[5],C=r[9],A=r[13],I=r[2],O=r[6],N=r[10],R=r[14],P=r[3],L=r[7],D=r[11],k=r[15];return i[0]=o*w+a*S+s*I+u*P,i[4]=o*x+a*M+s*O+u*L,i[8]=o*E+a*C+s*N+u*D,i[12]=o*T+a*A+s*R+u*k,i[1]=c*w+l*S+h*I+f*P,i[5]=c*x+l*M+h*O+f*L,i[9]=c*E+l*C+h*N+f*D,i[13]=c*T+l*A+h*R+f*k,i[2]=p*w+d*S+v*I+m*P,i[6]=p*x+d*M+v*O+m*L,i[10]=p*E+d*C+v*N+m*D,i[14]=p*T+d*A+v*R+m*k,i[3]=g*w+y*S+_*I+b*P,i[7]=g*x+y*M+_*O+b*L,i[11]=g*E+y*C+_*N+b*D,i[15]=g*T+y*A+_*R+b*k,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new l;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],f=t[14];return t[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+t[11]*(+e*u*l-e*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+t[15]*(-r*a*c-e*s*l+e*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],p=r[9],d=r[10],v=r[11],m=r[12],g=r[13],y=r[14],_=r[15],b=p*y*h-g*d*h+g*l*v-c*y*v-p*l*_+c*d*_,w=m*d*h-f*y*h-m*l*v+u*y*v+f*l*_-u*d*_,x=f*g*h-m*p*h+m*c*v-u*g*v-f*c*_+u*p*_,E=m*p*l-f*g*l-m*c*d+u*g*d+f*c*y-u*p*y,T=i*b+o*w+a*x+s*E;if(0===T){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var M=1/T;return n[0]=b*M,n[1]=(g*d*s-p*y*s-g*a*v+o*y*v+p*a*_-o*d*_)*M,n[2]=(c*y*s-g*l*s+g*a*h-o*y*h-c*a*_+o*l*_)*M,n[3]=(p*l*s-c*d*s-p*a*h+o*d*h+c*a*v-o*l*v)*M,n[4]=w*M,n[5]=(f*y*s-m*d*s+m*a*v-i*y*v-f*a*_+i*d*_)*M,n[6]=(m*l*s-u*y*s-m*a*h+i*y*h+u*a*_-i*l*_)*M,n[7]=(u*d*s-f*l*s+f*a*h-i*d*h-u*a*v+i*l*v)*M,n[8]=x*M,n[9]=(m*p*s-f*g*s-m*o*v+i*g*v+f*o*_-i*p*_)*M,n[10]=(u*g*s-m*c*s+m*o*h-i*g*h-u*o*_+i*c*_)*M,n[11]=(f*c*s-u*p*s-f*o*h+i*p*h+u*o*v-i*c*v)*M,n[12]=E*M,n[13]=(f*g*a-m*p*a+m*o*d-i*g*d-f*o*y+i*p*y)*M,n[14]=(m*c*a-u*g*a-m*o*l+i*g*l+u*o*y-i*c*y)*M,n[15]=(u*p*a-f*c*a+f*o*l-i*p*l-u*o*d+i*c*d)*M,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new l,e=new h;return function(n,r,i){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.copy(this);var c=1/a,l=1/s,h=1/u;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),c=1/(o-i),l=(e+t)*s,h=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),f.prototype=Object.create(o.prototype),f.prototype.constructor=f,f.prototype.isDataTexture=!0,p.prototype=Object.create(o.prototype),p.prototype.constructor=p,p.prototype.isCubeTexture=!0,Object.defineProperty(p.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var za=new o,Va=new p,Ha=[],Ga=[],Wa=new Float32Array(16),qa=new Float32Array(9);G.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var Ya=/([\w\d_]+)(\])?(\[|\.)?/g;Y.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},Y.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},Y.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},Y.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var Xa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(X.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=ja.euclideanModulo(e,1),n=ja.clamp(n,0,1),r=ja.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=Xa[t];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)e=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:e=(o-a)/l+(o<a?6:0);break;case o:e=(a-i)/l+2;break;case a:e=(i-o)/l+4}e/=6}return r.h=e,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var $a={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},Qa={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},Ka={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = asin( flipNormal * reflectVec.y ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},Za={basic:{uniforms:Qa.merge([$a.common,$a.aomap,$a.lightmap,$a.fog]),vertexShader:Ka.meshbasic_vert,fragmentShader:Ka.meshbasic_frag},lambert:{uniforms:Qa.merge([$a.common,$a.aomap,$a.lightmap,$a.emissivemap,$a.fog,$a.lights,{emissive:{value:new X(0)}}]),vertexShader:Ka.meshlambert_vert,fragmentShader:Ka.meshlambert_frag},phong:{uniforms:Qa.merge([$a.common,$a.aomap,$a.lightmap,$a.emissivemap,$a.bumpmap,$a.normalmap,$a.displacementmap,$a.gradientmap,$a.fog,$a.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:Ka.meshphong_vert,fragmentShader:Ka.meshphong_frag},standard:{uniforms:Qa.merge([$a.common,$a.aomap,$a.lightmap,$a.emissivemap,$a.bumpmap,$a.normalmap,$a.displacementmap,$a.roughnessmap,$a.metalnessmap,$a.fog,$a.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ka.meshphysical_vert,fragmentShader:Ka.meshphysical_frag},points:{uniforms:Qa.merge([$a.points,$a.fog]),vertexShader:Ka.points_vert,fragmentShader:Ka.points_frag},dashed:{uniforms:Qa.merge([$a.common,$a.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ka.linedashed_vert,fragmentShader:Ka.linedashed_frag},depth:{uniforms:Qa.merge([$a.common,$a.displacementmap]),vertexShader:Ka.depth_vert,fragmentShader:Ka.depth_frag},normal:{uniforms:Qa.merge([$a.common,$a.bumpmap,$a.normalmap,$a.displacementmap,{opacity:{value:1}}]),vertexShader:Ka.normal_vert,fragmentShader:Ka.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ka.cube_vert,fragmentShader:Ka.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Ka.equirect_vert,fragmentShader:Ka.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:Ka.distanceRGBA_vert,fragmentShader:Ka.distanceRGBA_frag}};Za.physical={uniforms:Qa.merge([Za.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ka.meshphysical_vert,fragmentShader:Ka.meshphysical_frag},Object.assign($.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new i).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new i).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var Ja=0;Object.assign(Z.prototype,r.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ki&&(r.blending=this.blending),this.shading!==qi&&(r.shading=this.shading),this.side!==Vi&&(r.side=this.side),this.vertexColors!==Yi&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,r.dithering=this.dithering,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),J.prototype=Object.create(Z.prototype),J.prototype.constructor=J,J.prototype.isShaderMaterial=!0,J.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Qa.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},J.prototype.toJSON=function(t){var e=Z.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},tt.prototype=Object.create(Z.prototype),tt.prototype.constructor=tt,tt.prototype.isMeshDepthMaterial=!0,tt.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Object.assign(et.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var c=t.getX(s),l=t.getY(s),h=t.getZ(s);c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new l;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new l;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new l).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new l;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new l).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new l;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new l;return function(e){var n=e||new nt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new l,new l,new l,new l,new l,new l,new l,new l];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(nt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new et;return function(e,n){var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new l;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new et;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(rt.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new l;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],f=n[5],p=n[8],d=r[0],v=r[3],m=r[6],g=r[1],y=r[4],_=r[7],b=r[2],w=r[5],x=r[8];return i[0]=o*d+a*g+s*b,i[3]=o*v+a*y+s*w,i[6]=o*m+a*_+s*x,i[1]=u*d+c*g+l*b,i[4]=u*v+c*y+l*w,i[7]=u*m+c*_+l*x,i[2]=h*d+f*g+p*b,i[5]=h*v+f*y+p*w,i[8]=h*m+f*_+p*x,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],p=f*u-c*h,d=c*l-f*s,v=h*s-u*l,m=i*p+o*d+a*v;if(0===m){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/m;return r[0]=p*y,r[1]=(a*h-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=d*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=v*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}),Object.assign(it.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new l,e=new l;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new l).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new l;return function(e,n){var r=n||new l,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new l,e=new rt;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(ot.prototype,{set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],p=n[10],d=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,l-s,d-h,y-v).normalize(),e[1].setComponents(a+r,l+s,d+h,y+v).normalize(),e[2].setComponents(a+i,l+u,d+f,y+m).normalize(),e[3].setComponents(a-i,l-u,d-f,y-m).normalize(),e[4].setComponents(a-o,l-c,d-p,y-g).normalize(),e[5].setComponents(a+o,l+c,d+p,y+g).normalize(),this},intersectsObject:function(){var t=new nt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new nt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new l,e=new l;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),ut.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ut.DefaultOrder="XYZ",Object.defineProperties(ut.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(ut.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=ja.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],p=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new h;return function(e,n,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new c;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(ct.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var ts=0;lt.DefaultUp=new l(0,1,0),lt.DefaultMatrixAutoUpdate=!0,Object.assign(lt.prototype,r.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new c;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new l(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new l(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new l(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new l;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new l(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new l(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new l(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new h;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new h;return function(e){this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new l;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new l,e=new l;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new c;return function(e){var n=e||new ut;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new l,e=new c;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new c;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var r=void 0===t||""===t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=e(t.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,u=this.material.length;s<u;s++)a.push(e(t.materials,this.material[s]));o.material=a}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(t).object)}if(r){var c=n(t.geometries),l=n(t.materials),h=n(t.textures),f=n(t.images);c.length>0&&(i.geometries=c),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),f.length>0&&(i.images=f)}return i.object=o,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),ht.prototype=Object.assign(Object.create(lt.prototype),{constructor:ht,isCamera:!0,copy:function(t,e){return lt.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new c;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){lt.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),ft.prototype=Object.assign(Object.create(ht.prototype),{constructor:ft,isOrthographicCamera:!0,copy:function(t,e){return ht.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),pt.prototype=Object.assign(Object.create(ht.prototype),{constructor:pt,isPerspectiveCamera:!0,copy:function(t,e){return ht.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ja.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ja.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ja.RAD2DEG*Math.atan(Math.tan(.5*ja.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ja.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Object.assign(dt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var es=0;Object.assign(mt.prototype,r.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new rt).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new h;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new h;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new h;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new h;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new h;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new lt;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==s?[f[t].clone(),f[e].clone(),f[r].clone()]:[],a=void 0!==u?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],l=new dt(t,e,r,o,a,i);n.faces.push(l),void 0!==c&&n.faceVertexUvs[0].push([p[t].clone(),p[e].clone(),p[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([d[t].clone(),d[e].clone(),d[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var f=[],p=[],d=[],v=0,m=0;v<a.length;v+=3,m+=2)n.vertices.push(new l(a[v],a[v+1],a[v+2])),void 0!==s&&f.push(new l(s[v],s[v+1],s[v+2])),void 0!==u&&n.colors.push(new X(u[v],u[v+1],u[v+2])),void 0!==c&&p.push(new i(c[m],c[m+1])),void 0!==h&&d.push(new i(h[m],h[m+1]));var g=t.groups;if(g.length>0)for(var v=0;v<g.length;v++)for(var y=g[v],_=y.start,b=y.count,m=_,w=_+b;m<w;m+=3)void 0!==r?e(r[m],r[m+1],r[m+2],y.materialIndex):e(m,m+1,m+2,y.materialIndex);else if(void 0!==r)for(var v=0;v<r.length;v+=3)e(r[v],r[v+1],r[v+2]);else for(var v=0;v<a.length/3;v+=3)e(v,v+1,v+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new h;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new l,e=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new l;if(t){var s,u,c,h=new l,f=new l;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,u),f.subVectors(s,u),h.cross(f),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var p=o.vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new mt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,u=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new l,s={a:new l,b:new l,c:new l},u.push(a),c.push(s)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=h.faceNormals[n],s=h.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new rt).getNormalMatrix(e));for(var p=0,d=a.length;p<d;p++){var v=a[p],m=v.clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(var p=0,d=f.length;p<d;p++)h.push(f[p].clone());for(p=0,d=u.length;p<d;p++){var g,y,_,b=u[p],w=b.vertexNormals,x=b.vertexColors;g=new dt(b.a+i,b.b+i,b.c+i),g.normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var E=0,T=w.length;E<T;E++)y=w[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),g.vertexNormals.push(y);g.color.copy(b.color);for(var E=0,T=x.length;E<T;E++)_=x[E],g.vertexColors.push(_.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(p=0,d=l.length;p<d;p++){var S=l[p],M=[];if(void 0!==S){for(var E=0,T=S.length;E<T;E++)M.push(S[E].clone());c.push(M)}}},mergeMesh:function(t){if(!t||!t.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},c=[],l=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===u[e]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var d=f[n];for(this.faces.splice(d,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(d,1)}var v=this.vertices.length-c.length;return this.vertices=c,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=e[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=v.length/2,v.push(t.x,t.y),m[e])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},p=[],d={},v=[],m={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],_=g.normal.length()>0,b=g.vertexNormals.length>0,w=1!==g.color.r||1!==g.color.g||1!==g.color.b,x=g.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,y),E=t(E,4,_),E=t(E,5,b),E=t(E,6,w),E=t(E,7,x),l.push(E),l.push(g.a,g.b,g.c),l.push(g.materialIndex),y){var T=this.faceVertexUvs[0][u];l.push(r(T[0]),r(T[1]),r(T[2]))}if(_&&l.push(e(g.normal)),b){var S=g.vertexNormals;l.push(e(S[0]),e(S[1]),e(S[2]))}if(w&&l.push(n(g.color)),x){var M=g.vertexColors;l.push(n(M[0]),n(M[1]),n(M[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,p.length>0&&(i.data.colors=p),v.length>0&&(i.data.uvs=[v]),i.data.faces=l,i},clone:function(){return(new mt).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=l.length;r<i;r++){var h=l[r],f=[];for(o=0,a=h.length;o<a;o++){var p=h[o];f.push(p.clone())}this.faceVertexUvs[e].push(f)}}var d=t.morphTargets;for(e=0,n=d.length;e<n;e++){var v={};if(v.name=d[e].name,void 0!==d[e].vertices)for(v.vertices=[],r=0,i=d[e].vertices.length;r<i;r++)v.vertices.push(d[e].vertices[r].clone());if(void 0!==d[e].normals)for(v.normals=[],r=0,i=d[e].normals.length;r<i;r++)v.normals.push(d[e].normals[r].clone());this.morphTargets.push(v)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var g={};if(void 0!==m[e].vertexNormals)for(g.vertexNormals=[],r=0,i=m[e].vertexNormals.length;r<i;r++){var y=m[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==m[e].faceNormals)for(g.faceNormals=[],r=0,i=m[e].faceNormals.length;r<i;r++)g.faceNormals.push(m[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var x=t.lineDistances;for(e=0,n=x.length;e<n;e++)this.lineDistances.push(x[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var T=t.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(gt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(gt.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new X),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new i),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new l),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new a),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),yt.prototype=Object.create(gt.prototype),yt.prototype.constructor=yt,_t.prototype=Object.create(gt.prototype),_t.prototype.constructor=_t,bt.prototype=Object.create(gt.prototype),bt.prototype.constructor=bt,wt.prototype=Object.create(gt.prototype),wt.prototype.constructor=wt,xt.prototype=Object.create(gt.prototype),xt.prototype.constructor=xt,Et.prototype=Object.create(gt.prototype),Et.prototype.constructor=Et,Tt.prototype=Object.create(gt.prototype),Tt.prototype.constructor=Tt,St.prototype=Object.create(gt.prototype),St.prototype.constructor=St,Mt.prototype=Object.create(gt.prototype),Mt.prototype.constructor=Mt,Object.assign(Ct.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=t.morphTargets,c=u.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var h,f=t.morphNormals,p=f.length;if(p>0){h=[];for(var l=0;l<p;l++)h[l]=[];this.morphTargets.normal=h}for(var d=t.skinIndices,v=t.skinWeights,m=d.length===r.length,g=v.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var b=y.normal;this.normals.push(b,b,b)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=y.color;this.colors.push(x,x,x)}if(!0===a){var E=o[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i))}if(!0===s){var E=o[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i))}for(var T=0;T<c;T++){var S=u[T].vertices;e[T].push(S[y.a],S[y.b],S[y.c])}for(var T=0;T<p;T++){var M=f[T].vertexNormals[l];h[T].push(M.a,M.b,M.c)}m&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),g&&this.skinWeights.push(v[y.a],v[y.b],v[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}}),It.MaxIndex=65535,Object.assign(It.prototype,r.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(At(t)>65535?Tt:xt)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new gt(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new rt).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new h;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new h;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new h;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new h;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new h;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new lt;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new St(3*e.vertices.length,3),r=new St(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new St(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Ct).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new gt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new gt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new gt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new gt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new gt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=At(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new gt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],h=0,f=l.length;h<f;h++){var p=l[h],d=new St(3*p.length,3);c.push(d.copyVector3sArray(p))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var v=new St(4*t.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new St(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new et,e=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new nt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new gt(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,h=e.normal.array,f=new l,p=new l,d=new l,v=new l,m=new l;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var y=0,_=n.length;y<_;++y)for(var b=n[y],w=b.start,x=b.count,o=w,a=w+x;o<a;o+=3)s=3*g[o+0],u=3*g[o+1],c=3*g[o+2],f.fromArray(r,s),p.fromArray(r,u),d.fromArray(r,c),v.subVectors(d,p),m.subVectors(f,p),v.cross(m),h[s]+=v.x,h[s+1]+=v.y,h[s+2]+=v.z,h[u]+=v.x,h[u+1]+=v.y,h[u+2]+=v.z,h[c]+=v.x,h[c+1]+=v.y,h[c+2]+=v.z}else for(var o=0,a=r.length;o<a;o+=9)f.fromArray(r,o),p.fromArray(r,o+3),d.fromArray(r,o+6),v.subVectors(d,p),m.subVectors(f,p),v.cross(m),h[o]=v.x,h[o+1]=v.y,h[o+2]=v.z,h[o+3]=v.x,h[o+4]=v.y,h[o+5]=v.z,h[o+6]=v.x,h[o+7]=v.y,h[o+8]=v.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,u=a.itemSize,c=0,l=u*e;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal,o=0,a=i.count;o<a;o++)t=i.getX(o),e=i.getY(o),n=i.getZ(o),r=1/Math.sqrt(t*t+e*e+n*n),i.setXYZ(o,t*r,e*r,n*r)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new It,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,c=0,l=0,h=e.length;l<h;l++){u=e[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}t.addAttribute(r,new gt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new It).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var u=[],c=s[e];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[e]=u}var l=t.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ot.prototype=Object.create(mt.prototype),Ot.prototype.constructor=Ot,Nt.prototype=Object.create(It.prototype),Nt.prototype.constructor=Nt,Rt.prototype=Object.create(mt.prototype),Rt.prototype.constructor=Rt,Pt.prototype=Object.create(It.prototype),Pt.prototype.constructor=Pt,Lt.prototype=Object.create(Z.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isMeshBasicMaterial=!0,Lt.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.assign(Dt.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new l).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new l;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new l;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new l;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new l,e=new l,n=new l;return function(r,i,o,a){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,u,c,l,h=.5*r.distanceTo(i),f=-this.direction.dot(e),p=n.dot(this.direction),d=-n.dot(e),v=n.lengthSq(),m=Math.abs(1-f*f);if(m>0)if(s=f*d-p,u=f*p-d,l=h*m,s>=0)if(u>=-l)if(u<=l){var g=1/m;s*=g,u*=g,c=s*(s+f*u+2*p)+u*(f*s+u+2*d)+v}else u=h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;else u=-h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;else u<=-l?(s=Math.max(0,-(-f*h+p)),u=s>0?-h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+v):u<=l?(s=0,u=Math.min(Math.max(-h,-d),h),c=u*(u+2*d)+v):(s=Math.max(0,-(f*h+p)),u=s>0?h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+v);else u=f>0?-h:h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),c}}(),intersectSphere:function(){var t=new l;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(a=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new l;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new l,e=new l,n=new l,r=new l;return function(i,o,a,s,u){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}t.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=c*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>l)return null;var p=-c*t.dot(r);return p<0?null:this.at(p/l,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(kt.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new l;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new l,e=new l;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),a=o/i;return r&&(a=ja.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new l;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(Ft,{normal:function(){var t=new l;return function(e,n,r,i){var o=i||new l;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new l,e=new l,n=new l;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),c=t.dot(e),h=t.dot(n),f=e.dot(e),p=e.dot(n),d=u*f-c*c,v=s||new l;if(0===d)return v.set(-2,-1,-1);var m=1/d,g=(f*h-c*p)*m,y=(u*p-c*h)*m;return v.set(1-g-y,y,g)}}(),containsPoint:function(){var t=new l;return function(e,n,r,i){var o=Ft.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}()}),Object.assign(Ft.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new l,e=new l;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Ft.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new it).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Ft.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Ft.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new it,e=[new kt,new kt,new kt],n=new l,r=new l;return function(i,o){var a=o||new l,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Ut.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ut,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return lt.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){function t(t,e,n,r,i,o,a){return Ft.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===Hi?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==Gi,a)))return null;b.copy(a),b.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(b);return u<e.near||u>e.far?null:{distance:u,point:b.clone(),object:t}}function n(n,r,i,o,a,l,h,f){s.fromBufferAttribute(o,l),u.fromBufferAttribute(o,h),c.fromBufferAttribute(o,f);var p=e(n,r,i,s,u,c,_);return p&&(a&&(v.fromBufferAttribute(a,l),m.fromBufferAttribute(a,h),g.fromBufferAttribute(a,f),p.uv=t(_,s,u,c,v,m,g)),p.face=new dt(l,h,f,Ft.normal(s,u,c)),p.faceIndex=l),p}var r=new h,o=new Dt,a=new nt,s=new l,u=new l,c=new l,f=new l,p=new l,d=new l,v=new i,m=new i,g=new i,y=new l,_=new l,b=new l;return function(i,l){var h=this.geometry,y=this.material,b=this.matrixWorld;if(void 0!==y&&(null===h.boundingSphere&&h.computeBoundingSphere(),a.copy(h.boundingSphere),a.applyMatrix4(b),!1!==i.ray.intersectsSphere(a)&&(r.getInverse(b),o.copy(i.ray).applyMatrix4(r),null===h.boundingBox||!1!==o.intersectsBox(h.boundingBox)))){var w;if(h.isBufferGeometry){var x,E,T,S,M,C=h.index,A=h.attributes.position,I=h.attributes.uv;if(null!==C)for(S=0,M=C.count;S<M;S+=3)x=C.getX(S),E=C.getX(S+1),T=C.getX(S+2),(w=n(this,i,o,A,I,x,E,T))&&(w.faceIndex=Math.floor(S/3),l.push(w));else for(S=0,M=A.count;S<M;S+=3)x=S,E=S+1,T=S+2,(w=n(this,i,o,A,I,x,E,T))&&(w.index=x,l.push(w))}else if(h.isGeometry){var O,N,R,P,L=Array.isArray(y),D=h.vertices,k=h.faces,F=h.faceVertexUvs[0];F.length>0&&(P=F);for(var U=0,j=k.length;U<j;U++){var B=k[U],z=L?y[B.materialIndex]:y;if(void 0!==z){if(O=D[B.a],N=D[B.b],R=D[B.c],!0===z.morphTargets){var V=h.morphTargets,H=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var G=0,W=V.length;G<W;G++){var q=H[G];if(0!==q){var Y=V[G].vertices;s.addScaledVector(f.subVectors(Y[B.a],O),q),u.addScaledVector(p.subVectors(Y[B.b],N),q),c.addScaledVector(d.subVectors(Y[B.c],R),q)}}s.add(O),u.add(N),c.add(R),O=s,N=u,R=c}if(w=e(this,i,o,O,N,R,_)){if(P&&P[U]){var X=P[U];v.copy(X[0]),m.copy(X[1]),g.copy(X[2]),w.uv=t(_,O,N,R,v,m,g)}w.face=B,w.faceIndex=U,l.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ns=0;de.prototype=Object.assign(Object.create(pt.prototype),{constructor:de,isArrayCamera:!0}),_e.prototype.isFogExp2=!0,_e.prototype.clone=function(){return new _e(this.color.getHex(),this.density)},_e.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},be.prototype.isFog=!0,be.prototype.clone=function(){return new be(this.color.getHex(),this.near,this.far)},be.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},we.prototype=Object.assign(Object.create(lt.prototype),{constructor:we,copy:function(t,e){return lt.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),xe.prototype=Object.assign(Object.create(lt.prototype),{constructor:xe,isLensFlare:!0,copy:function(t){lt.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new X(16777215)),void 0===r&&(r=Ki),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),Ee.prototype=Object.create(Z.prototype),Ee.prototype.constructor=Ee,Ee.prototype.isSpriteMaterial=!0,Ee.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Te.prototype=Object.assign(Object.create(lt.prototype),{constructor:Te,isSprite:!0,raycast:function(){var t=new l,e=new l,n=new l;return function(r,i){e.setFromMatrixPosition(this.matrixWorld),r.ray.closestPointToPoint(e,t),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(e.distanceToSquared(t)>o)){var a=r.ray.origin.distanceTo(t);a<r.near||a>r.far||i.push({distance:a,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Se.prototype=Object.assign(Object.create(lt.prototype),{constructor:Se,copy:function(t){lt.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new l;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new l,e=new l;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Me.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new h;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new h,e=new h;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var u=n[a]?n[a].matrixWorld:e;t.multiplyMatrices(u,r[a]),t.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Me(this.bones,this.boneInverses)}}),Ce.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ce,isBone:!0}),Ae.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Ae,isSkinnedMesh:!0,initBones:function(){var t,e,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)e=this.geometry.bones[n],t=new Ce,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)e=this.geometry.bones[n],-1!==e.parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.lengthManhattan(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new a,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),t=1/r.lengthManhattan(),t!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Ut.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ie.prototype=Object.create(Z.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isLineBasicMaterial=!0,Ie.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Oe.prototype=Object.assign(Object.create(lt.prototype),{constructor:Oe,isLine:!0,raycast:function(){var t=new h,e=new Dt,n=new nt;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=new l,h=new l,f=new l,p=new l,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var v=s.index,m=s.attributes,g=m.position.array;if(null!==v)for(var y=v.array,_=0,b=y.length-1;_<b;_+=d){var w=y[_],x=y[_+1];c.fromArray(g,3*w),h.fromArray(g,3*x);var E=e.distanceSqToSegment(c,h,p,f);if(!(E>a)){p.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(p);T<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,b=g.length/3-1;_<b;_+=d){c.fromArray(g,3*_),h.fromArray(g,3*_+3);var E=e.distanceSqToSegment(c,h,p,f);if(!(E>a)){p.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(p);T<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var S=s.vertices,M=S.length,_=0;_<M-1;_+=d){var E=e.distanceSqToSegment(S[_],S[_+1],p,f);if(!(E>a)){p.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(p);T<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ne.prototype=Object.assign(Object.create(Oe.prototype),{constructor:Ne,isLineSegments:!0}),Re.prototype=Object.assign(Object.create(Oe.prototype),{constructor:Re,isLineLoop:!0}),Pe.prototype=Object.create(Z.prototype),Pe.prototype.constructor=Pe,Pe.prototype.isPointsMaterial=!0,Pe.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Le.prototype=Object.assign(Object.create(lt.prototype),{constructor:Le,isPoints:!0,raycast:function(){var t=new h,e=new Dt,n=new nt;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<f){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var c=r.ray.origin.distanceTo(s);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),n.radius+=c,!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,p=new l;if(s.isBufferGeometry){var d=s.index,v=s.attributes,m=v.position.array;if(null!==d)for(var g=d.array,y=0,_=g.length;y<_;y++){var b=g[y];p.fromArray(m,3*b),o(p,b)}else for(var y=0,w=m.length/3;y<w;y++)p.fromArray(m,3*y),o(p,y)}else for(var x=s.vertices,y=0,w=x.length;y<w;y++)o(x[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),De.prototype=Object.assign(Object.create(lt.prototype),{constructor:De}),ke.prototype=Object.create(o.prototype),ke.prototype.constructor=ke,Fe.prototype=Object.create(o.prototype),Fe.prototype.constructor=Fe,Fe.prototype.isCompressedTexture=!0,Ue.prototype=Object.create(o.prototype),Ue.prototype.constructor=Ue,je.prototype=Object.create(o.prototype),je.prototype.constructor=je,je.prototype.isDepthTexture=!0,Be.prototype=Object.create(It.prototype),Be.prototype.constructor=Be,ze.prototype=Object.create(mt.prototype),ze.prototype.constructor=ze,Ve.prototype=Object.create(It.prototype),Ve.prototype.constructor=Ve,He.prototype=Object.create(mt.prototype),He.prototype.constructor=He,Ge.prototype=Object.create(It.prototype),Ge.prototype.constructor=Ge,We.prototype=Object.create(mt.prototype),We.prototype.constructor=We,qe.prototype=Object.create(Ge.prototype),qe.prototype.constructor=qe,Ye.prototype=Object.create(mt.prototype),Ye.prototype.constructor=Ye,Xe.prototype=Object.create(Ge.prototype),Xe.prototype.constructor=Xe,$e.prototype=Object.create(mt.prototype),$e.prototype.constructor=$e,Qe.prototype=Object.create(Ge.prototype),Qe.prototype.constructor=Qe,Ke.prototype=Object.create(mt.prototype),Ke.prototype.constructor=Ke,Ze.prototype=Object.create(Ge.prototype),Ze.prototype.constructor=Ze,Je.prototype=Object.create(mt.prototype),Je.prototype.constructor=Je,tn.prototype=Object.create(It.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(mt.prototype),en.prototype.constructor=en,nn.prototype=Object.create(It.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(mt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(It.prototype),on.prototype.constructor=on;var rs={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,u,c,l,h,f,p,d;if(s=t[o[e]].x,u=t[o[e]].y,c=t[o[n]].x,l=t[o[n]].y,h=t[o[r]].x,f=t[o[r]].y,(c-s)*(f-u)-(l-u)*(h-s)<=0)return!1;var v,m,g,y,_,b,w,x,E,T,S,M,C,A,I;for(v=h-c,m=f-l,g=s-h,y=u-f,_=c-s,b=l-u,a=0;a<i;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===u||p===c&&d===l||p===h&&d===f)&&(w=p-s,x=d-u,E=p-c,T=d-l,S=p-h,M=d-f,I=v*T-m*E,C=_*x-b*w,A=g*M-y*S,I>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],u=[],c=[];if(rs.area(e)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(i=o,l<=i&&(i=0),o=i+1,l<=o&&(o=0),a=o+1,l<=a&&(a=0),t(e,i,o,a,l,u)){var f,p,d,v,m;for(f=u[i],p=u[o],d=u[a],s.push([e[f],e[p],e[d]]),c.push([u[i],u[o],u[a]]),v=o,m=o+1;m<l;v++,m++)u[v]=u[m];l--,h=2*l}}return n?c:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-n.x,c=i.y-n.y,l=t.x-n.x,h=t.y-n.y,f=s*u-a*c,p=s*l-a*h;if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(p<0||p>f)return[];if((d=c*l-u*h)<0||d>f)return[]}else{if(p>0||p<f)return[];if((d=c*l-u*h)>0||d<f)return[]}if(0===d)return!o||0!==p&&p!==f?[t]:[];if(d===f)return!o||0!==p&&p!==f?[e]:[];if(0===p)return[n];if(p===f)return[i];var v=d/f;return[{x:t.x+v*a,y:t.y+v*s}]}if(0!==p||c*l!=u*h)return[];var m=0===a&&0===s,g=0===u&&0===c;if(m&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(m)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,_,b,w,x,E,T,S;return 0!==a?(t.x<e.x?(y=t,b=t.x,_=e,w=e.x):(y=e,b=e.x,_=t,w=t.x),n.x<i.x?(x=n,T=n.x,E=i,S=i.x):(x=i,T=i.x,E=n,S=n.x)):(t.y<e.y?(y=t,b=t.y,_=e,w=e.y):(y=e,b=e.y,_=t,w=t.y),n.y<i.y?(x=n,T=n.y,E=i,S=i.y):(x=i,T=i.y,E=n,S=n.y)),b<=T?w<T?[]:w===T?o?[]:[x]:w<=S?[x,_]:[x,E]:b>S?[]:b===S?o?[]:[y]:w<=S?[y,_]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=r.x-t.x,c=r.y-t.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}n(t),e.forEach(n);for(var a,s,u,c,l,h,f={},p=t.concat(),d=0,v=e.length;d<v;d++)Array.prototype.push.apply(p,e[d]);for(a=0,s=p.length;a<s;a++)l=p[a].x+":"+p[a].y,void 0!==f[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,a),f[l]=a;var m=function(t,e){for(var n,r,a,s,u,c,l,h,f,p,d,v=t.concat(),m=[],g=[],y=0,_=e.length;y<_;y++)m.push(y);for(var b=0,w=2*m.length;m.length>0;){if(--w<0){console.log("Infinite Loop! Holes left:"+m.length+", Probably Hole outside Shape!");break}for(a=b;a<v.length;a++){s=v[a],r=-1;for(var y=0;y<m.length;y++)if(c=m[y],l=s.x+":"+s.y+":"+c,void 0===g[l]){n=e[c];for(var x=0;x<n.length;x++)if(u=n[x],function(t,e){var r=v.length-1,i=t-1;i<0&&(i=r);var a=t+1;a>r&&(a=0);var s=o(v[t],v[i],v[a],n[e]);if(!s)return!1;var u=n.length-1,c=e-1;c<0&&(c=u);var l=e+1;return l>u&&(l=0),!!(s=o(n[e],n[c],n[l],v[t]))}(a,x)&&!function(t,e){var n,r,o;for(n=0;n<v.length;n++)if(r=n+1,r%=v.length,o=i(t,e,v[n],v[r],!0),o.length>0)return!0;return!1}(s,u)&&!function(t,n){var r,o,a,s,u;for(r=0;r<m.length;r++)for(o=e[m[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}(s,u)){r=x,m.splice(y,1),h=v.slice(0,a+1),f=v.slice(a),p=n.slice(r),d=n.slice(0,r+1),v=h.concat(p).concat(d).concat(f),b=a;break}if(r>=0)break;g[l]=!0}if(r>=0)break}}return v}(t,e),g=rs.triangulate(m,!1);for(a=0,s=g.length;a<s;a++)for(c=g[a],u=0;u<3;u++)l=c[u].x+":"+c[u].y,void 0!==(h=f[l])&&(c[u]=h);return g.concat()},isClockWise:function(t){return rs.area(t)<0}};an.prototype=Object.create(mt.prototype),an.prototype.constructor=an,sn.prototype=Object.create(It.prototype),sn.prototype.constructor=sn,sn.prototype.getArrays=function(){var t=this.getAttribute("position"),e=t?Array.prototype.slice.call(t.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:e,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},sn.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var r=0;r<n;r++){var i=t[r];this.addShape(i,e)}this.setIndex(e.arrays.index),this.addAttribute("position",new St(e.arrays.position,3)),this.addAttribute("uv",new St(e.arrays.uv,2))},sn.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,o,a,s=t.x-e.x,u=t.y-e.y,c=n.x-t.x,l=n.y-t.y,h=s*s+u*u,f=s*l-u*c;if(Math.abs(f)>Number.EPSILON){var p=Math.sqrt(h),d=Math.sqrt(c*c+l*l),v=e.x-u/p,m=e.y+s/p,g=n.x-l/d,y=n.y+c/d,_=((g-v)*l-(y-m)*c)/(s*l-u*c);r=v+s*_-t.x,o=m+u*_-t.y;var b=r*r+o*o;if(b<=2)return new i(r,o);a=Math.sqrt(b/2)}else{var w=!1;s>Number.EPSILON?c>Number.EPSILON&&(w=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(w=!0):Math.sign(u)===Math.sign(l)&&(w=!0),w?(r=-u,o=s,a=Math.sqrt(h)):(r=s,o=u,a=Math.sqrt(h/2))}return new i(r/a,o/a)}function o(t,e){var n,r;for(Q=t.length;--Q>=0;){n=Q,r=Q-1,r<0&&(r=t.length-1);var i=0,o=A+2*S;for(i=0;i<o;i++){var a=Y*i,s=Y*(i+1);u(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function a(t,e,n){w.push(t),w.push(e),w.push(n)}function s(t,e,n){c(t),c(e),c(n);var r=y.length/3,i=N.generateTopUV(D,y,r-3,r-2,r-1);h(i[0]),h(i[1]),h(i[2])}function u(t,e,n,r,i,o,a,s,u){c(t),c(e),c(r),c(e),c(n),c(r);var l=y.length/3,f=N.generateSideWallUV(D,y,l-6,l-3,l-2,l-1);h(f[0]),h(f[1]),h(f[3]),h(f[1]),h(f[2]),h(f[3])}function c(t){_.push(y.length/3),y.push(w[3*t+0]),y.push(w[3*t+1]),y.push(w[3*t+2])}function h(t){b.push(t.x),b.push(t.y)}var f,p,d,v,m,g=e.arrays?e.arrays:this.getArrays(),y=g.position,_=g.index,b=g.uv,w=[],x=void 0!==e.amount?e.amount:100,E=void 0!==e.bevelThickness?e.bevelThickness:6,T=void 0!==e.bevelSize?e.bevelSize:E-2,S=void 0!==e.bevelSegments?e.bevelSegments:3,M=void 0===e.bevelEnabled||e.bevelEnabled,C=void 0!==e.curveSegments?e.curveSegments:12,A=void 0!==e.steps?e.steps:1,I=e.extrudePath,O=!1,N=void 0!==e.UVGenerator?e.UVGenerator:an.WorldUVGenerator;I&&(f=I.getSpacedPoints(A),O=!0,M=!1,p=void 0!==e.frames?e.frames:I.computeFrenetFrames(A,!1),d=new l,v=new l,m=new l),M||(S=0,E=0,T=0);var R,P,L,D=this,k=t.extractPoints(C),F=k.shape,U=k.holes;if(!rs.isClockWise(F))for(F=F.reverse(),P=0,L=U.length;P<L;P++)R=U[P],rs.isClockWise(R)&&(U[P]=R.reverse());var j=rs.triangulateShape(F,U),B=F;for(P=0,L=U.length;P<L;P++)R=U[P],F=F.concat(R);for(var z,V,H,G,W,q,Y=F.length,X=j.length,$=[],Q=0,K=B.length,Z=K-1,J=Q+1;Q<K;Q++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),$[Q]=r(B[Q],B[Z],B[J]);var tt,et=[],nt=$.concat();for(P=0,L=U.length;P<L;P++){for(R=U[P],tt=[],Q=0,K=R.length,Z=K-1,J=Q+1;Q<K;Q++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),tt[Q]=r(R[Q],R[Z],R[J]);et.push(tt),nt=nt.concat(tt)}for(z=0;z<S;z++){for(H=z/S,G=E*Math.cos(H*Math.PI/2),V=T*Math.sin(H*Math.PI/2),Q=0,K=B.length;Q<K;Q++)W=n(B[Q],$[Q],V),a(W.x,W.y,-G);for(P=0,L=U.length;P<L;P++)for(R=U[P],tt=et[P],Q=0,K=R.length;Q<K;Q++)W=n(R[Q],tt[Q],V),a(W.x,W.y,-G)}for(V=T,Q=0;Q<Y;Q++)W=M?n(F[Q],nt[Q],V):F[Q],O?(v.copy(p.normals[0]).multiplyScalar(W.x),d.copy(p.binormals[0]).multiplyScalar(W.y),m.copy(f[0]).add(v).add(d),a(m.x,m.y,m.z)):a(W.x,W.y,0);var rt;for(rt=1;rt<=A;rt++)for(Q=0;Q<Y;Q++)W=M?n(F[Q],nt[Q],V):F[Q],O?(v.copy(p.normals[rt]).multiplyScalar(W.x),d.copy(p.binormals[rt]).multiplyScalar(W.y),m.copy(f[rt]).add(v).add(d),a(m.x,m.y,m.z)):a(W.x,W.y,x/A*rt);for(z=S-1;z>=0;z--){for(H=z/S,G=E*Math.cos(H*Math.PI/2),V=T*Math.sin(H*Math.PI/2),Q=0,K=B.length;Q<K;Q++)W=n(B[Q],$[Q],V),a(W.x,W.y,x+G);for(P=0,L=U.length;P<L;P++)for(R=U[P],tt=et[P],Q=0,K=R.length;Q<K;Q++)W=n(R[Q],tt[Q],V),O?a(W.x,W.y+f[A-1].y,f[A-1].x+G):a(W.x,W.y,x+G)}!function(){var t=y.length/3;if(M){var n=0,r=Y*n;for(Q=0;Q<X;Q++)q=j[Q],s(q[2]+r,q[1]+r,q[0]+r);for(n=A+2*S,r=Y*n,Q=0;Q<X;Q++)q=j[Q],s(q[0]+r,q[1]+r,q[2]+r)}else{for(Q=0;Q<X;Q++)q=j[Q],s(q[2],q[1],q[0]);for(Q=0;Q<X;Q++)q=j[Q],s(q[0]+Y*A,q[1]+Y*A,q[2]+Y*A)}D.addGroup(t,y.length/3-t,void 0!==e.material?e.material:0)}(),function(){var t=y.length/3,n=0;for(o(B,n),n+=B.length,P=0,L=U.length;P<L;P++)R=U[P],o(R,n),n+=R.length;D.addGroup(t,y.length/3-t,void 0!==e.extrudeMaterial?e.extrudeMaterial:1)}(),e.arrays||(this.setIndex(_),this.addAttribute("position",new St(y,3)),this.addAttribute("uv",new St(e.arrays.uv,2)))},an.WorldUVGenerator={generateTopUV:function(t,e,n,r,o){var a=e[3*n],s=e[3*n+1],u=e[3*r],c=e[3*r+1],l=e[3*o],h=e[3*o+1];return[new i(a,s),new i(u,c),new i(l,h)]},generateSideWallUV:function(t,e,n,r,o,a){var s=e[3*n],u=e[3*n+1],c=e[3*n+2],l=e[3*r],h=e[3*r+1],f=e[3*r+2],p=e[3*o],d=e[3*o+1],v=e[3*o+2],m=e[3*a],g=e[3*a+1],y=e[3*a+2];return Math.abs(u-h)<.01?[new i(s,1-c),new i(l,1-f),new i(p,1-v),new i(m,1-y)]:[new i(u,1-c),new i(h,1-f),new i(d,1-v),new i(g,1-y)]}},un.prototype=Object.create(mt.prototype),un.prototype.constructor=un,cn.prototype=Object.create(sn.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(mt.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(It.prototype),hn.prototype.constructor=hn,fn.prototype=Object.create(mt.prototype),fn.prototype.constructor=fn,pn.prototype=Object.create(It.prototype),pn.prototype.constructor=pn,dn.prototype=Object.create(mt.prototype),dn.prototype.constructor=dn,vn.prototype=Object.create(It.prototype),vn.prototype.constructor=vn,mn.prototype=Object.create(mt.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(It.prototype),gn.prototype.constructor=gn,yn.prototype=Object.create(It.prototype),yn.prototype.constructor=yn,_n.prototype=Object.create(mt.prototype),_n.prototype.constructor=_n,bn.prototype=Object.create(It.prototype),bn.prototype.constructor=bn,wn.prototype=Object.create(_n.prototype),wn.prototype.constructor=wn,xn.prototype=Object.create(bn.prototype),xn.prototype.constructor=xn,En.prototype=Object.create(mt.prototype),En.prototype.constructor=En,Tn.prototype=Object.create(It.prototype),Tn.prototype.constructor=Tn;var is=Object.freeze({WireframeGeometry:Be,ParametricGeometry:ze,ParametricBufferGeometry:Ve,TetrahedronGeometry:We,TetrahedronBufferGeometry:qe,OctahedronGeometry:Ye,OctahedronBufferGeometry:Xe,IcosahedronGeometry:$e,IcosahedronBufferGeometry:Qe,DodecahedronGeometry:Ke,DodecahedronBufferGeometry:Ze,PolyhedronGeometry:He,PolyhedronBufferGeometry:Ge,TubeGeometry:Je,TubeBufferGeometry:tn,TorusKnotGeometry:en,TorusKnotBufferGeometry:nn,TorusGeometry:rn,TorusBufferGeometry:on,TextGeometry:un,TextBufferGeometry:cn,SphereGeometry:ln,SphereBufferGeometry:hn,RingGeometry:fn,RingBufferGeometry:pn,PlaneGeometry:Rt,PlaneBufferGeometry:Pt,LatheGeometry:dn,LatheBufferGeometry:vn,ShapeGeometry:mn,ShapeBufferGeometry:gn,ExtrudeGeometry:an,ExtrudeBufferGeometry:sn,EdgesGeometry:yn,ConeGeometry:wn,ConeBufferGeometry:xn,CylinderGeometry:_n,CylinderBufferGeometry:bn,CircleGeometry:En,CircleBufferGeometry:Tn,BoxGeometry:Ot,BoxBufferGeometry:Nt});Sn.prototype=Object.create(J.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isShadowMaterial=!0,Mn.prototype=Object.create(J.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isRawShaderMaterial=!0,Cn.prototype=Object.create(Z.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isMeshStandardMaterial=!0,Cn.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},An.prototype=Object.create(Cn.prototype),An.prototype.constructor=An,An.prototype.isMeshPhysicalMaterial=!0,An.prototype.copy=function(t){return Cn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},In.prototype=Object.create(Z.prototype),In.prototype.constructor=In,In.prototype.isMeshPhongMaterial=!0,In.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},On.prototype=Object.create(In.prototype),On.prototype.constructor=On,On.prototype.isMeshToonMaterial=!0,On.prototype.copy=function(t){return In.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Nn.prototype=Object.create(Z.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshNormalMaterial=!0,Nn.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Rn.prototype=Object.create(Z.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshLambertMaterial=!0,Rn.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Pn.prototype=Object.create(Z.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isLineDashedMaterial=!0,Pn.prototype.copy=function(t){return Z.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var os=Object.freeze({ShadowMaterial:Sn,SpriteMaterial:Ee,RawShaderMaterial:Mn,ShaderMaterial:J,PointsMaterial:Pe,MeshPhysicalMaterial:An,MeshStandardMaterial:Cn,MeshPhongMaterial:In,MeshToonMaterial:On,MeshNormalMaterial:Nn,MeshLambertMaterial:Rn,MeshDepthMaterial:tt,MeshBasicMaterial:Lt,LineDashedMaterial:Pn,LineBasicMaterial:Ie,Material:Z}),as={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},ss=new Ln;Object.assign(Dn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=as.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var p=new Uint8Array(h),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var v=new DOMParser;h=v.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){e&&e(h),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(n){var o=n.target.response;as.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemEnd(t),i.manager.itemError(t))},!1),void 0!==n&&m.addEventListener("progress",function(t){n(t)},!1),m.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(kn.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new Fe;a.image=o;var s=new Dn(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,c=0,l=t.length;c<l;++c)!function(c){s.load(t[c],function(t){var n=i._parser(t,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=Xo),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}(c);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Xo),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Fn.prototype,{load:function(t,e,n,r){var i=this,o=new f,a=new Dn(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Ho,o.wrapT=void 0!==n.wrapT?n.wrapT:Ho,o.magFilter=void 0!==n.magFilter?n.magFilter:Xo,o.minFilter=void 0!==n.minFilter?n.minFilter:Qo,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Xo),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(Un.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=as.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){as.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(jn.prototype,{load:function(t,e,n,r){var i=new p,o=new Un(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<t.length;++s)!function(n){o.load(t[n],function(t){i.images[n]=t,6==++a&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}(s);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Bn.prototype,{load:function(t,e,n,r){var i=new Un(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var a=new o;return a.image=i.load(t,function(){var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);a.format=n?la:ha,a.needsUpdate=!0,void 0!==e&&e(a)},n,r),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),zn.prototype=Object.assign(Object.create(lt.prototype),{constructor:zn,isLight:!0,copy:function(t){return lt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Vn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Vn,isHemisphereLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Hn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Gn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Gn,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*ja.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),Wn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Wn,isSpotLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),qn.prototype=Object.assign(Object.create(zn.prototype),{constructor:qn,isPointLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Yn.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Yn}),Xn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Xn,isDirectionalLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),$n.prototype=Object.assign(Object.create(zn.prototype),{constructor:$n,isAmbientLight:!0}),Qn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Qn,isRectAreaLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=zn.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var us={arraySlice:function(t,e,n){return us.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};Object.assign(Kn.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Kn.prototype,{beforeStart_:Kn.prototype.copySampleValue_,afterEnd_:Kn.prototype.copySampleValue_}),Zn.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Zn,DefaultSettings_:{endingStart:Ma,endingEnd:Ma},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-e)/(r-e),d=p*p,v=d*p,m=-h*v+2*h*d-h*p,g=(1+h)*v+(-1.5-2*h)*d+(-.5+h)*p+1,y=(-1-f)*v+(1.5+f)*d+.5*p,_=f*v-f*d,b=0;b!==a;++b)i[b]=m*o[c+b]+g*o[u+b]+y*o[s+b]+_*o[l+b];return i}}),Jn.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Jn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=(n-e)/(r-e),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),tr.prototype=Object.assign(Object.create(Kn.prototype),{constructor:tr,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var cs;cs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new tr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Jn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Zn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn("THREE.KeyframeTrackPrototype:",n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=us.arraySlice(n,i,o),this.values=us.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&us.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,a,c),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,f=0;f!==n;++f){var p=e[c+f];if(p!==e[l+f]||p!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var d=a*n,v=i*n,f=0;f!==n;++f)e[v+f]=e[d+f]}++i}}if(o>0){t[i]=t[o];for(var d=o*n,v=i*n,f=0;f!==n;++f)e[v+f]=e[d+f];++i}return i!==t.length&&(this.times=us.arraySlice(t,0,i),this.values=us.arraySlice(e,0,i*n)),this}},nr.prototype=Object.assign(Object.create(cs),{constructor:nr,ValueTypeName:"vector"}),rr.prototype=Object.assign(Object.create(Kn.prototype),{constructor:rr,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=(n-e)/(r-e),l=s+a;s!==l;s+=4)c.slerpFlat(i,0,o,s-a,o,s,u);return i}}),ir.prototype=Object.assign(Object.create(cs),{constructor:ir,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new rr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),or.prototype=Object.assign(Object.create(cs),{constructor:or,ValueTypeName:"number"}),ar.prototype=Object.assign(Object.create(cs),{constructor:ar,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),sr.prototype=Object.assign(Object.create(cs),{constructor:sr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ur.prototype=Object.assign(Object.create(cs),{constructor:ur,ValueTypeName:"color"}),cr.prototype=cs,cs.constructor=cr,Object.assign(cr,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=cr._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];us.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:us.convertArray(t.times,Array),values:us.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return or;case"vector":case"vector2":case"vector3":case"vector4":return nr;case"color":return ur;case"quaternion":return ir;case"bool":case"boolean":return sr;case"string":return ar}throw new Error("Unsupported typeName: "+t)}}),Object.assign(lr,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(cr.parse(n[i]).scale(r));return new lr(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(cr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=us.getKeyframeOrder(s);s=us.sortedArray(s,1,c),u=us.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new or(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new lr(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(lr.CreateFromMorphTargetSequence(c,r[c],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];us.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var p in l){for(var d=[],v=[],f=0;f!==c[h].morphTargets.length;++f){var m=c[h];d.push(m.time),v.push(m.morphTarget===p?1:0)}r.push(new or(".morphTargetInfluence["+p+"]",d,v))}o=l.length*(a||1)}else{var g=".bones["+e[u].name+"]";n(nr,g+".position",c,"pos",r),n(ir,g+".quaternion",c,"rot",r),n(nr,g+".scale",c,"scl",r)}}return 0===r.length?null:new lr(i,o,r)}}),Object.assign(lr.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(hr.prototype,{load:function(t,e,n,r){var i=this;new Dn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new os[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}return void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),r}}),Object.assign(fr.prototype,{load:function(t,e,n,r){var i=this;new Dn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new It,n=t.data.index;if(void 0!==n){var r=new ls[n.type](n.array);e.setIndex(new gt(r,1))}var i=t.data.attributes;for(var o in i){var a=i[o],r=new ls[a.type](a.array);e.addAttribute(o,new gt(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var h=s[u];e.addGroup(h.start,h.count,h.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var p=new l;void 0!==f.center&&p.fromArray(f.center),e.boundingSphere=new nt(p,f.radius)}return e}});var ls={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};pr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(pr.prototype,{crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:Qi,NormalBlending:Ki,AdditiveBlending:Zi,SubtractiveBlending:Ji,MultiplyBlending:to,CustomBlending:eo},e=new X,n=new Bn,r=new hr;return function(i,o,a){function s(t,e,r,i,s){var c,l=o+t,h=pr.Handlers.get(l);null!==h?c=h.load(l):(n.setCrossOrigin(a),c=n.load(l)),void 0!==e&&(c.repeat.fromArray(e),1!==e[0]&&(c.wrapS=Vo),1!==e[1]&&(c.wrapT=Vo)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=Vo),"mirror"===i[0]&&(c.wrapS=Go),"repeat"===i[1]&&(c.wrapT=Vo),"mirror"===i[1]&&(c.wrapT=Go)),void 0!==s&&(c.anisotropy=s);var f=ja.generateUUID();return u[f]=c,f}var u={},c={uuid:ja.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=t[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=e.fromArray(h).getHex();break;case"colorSpecular":c.specular=e.fromArray(h).getHex();break;case"colorEmissive":c.emissive=e.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Hi;break;case"doubleSided":c.side=Gi;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=$i),"face"===h&&(c.vertexColors=Xi);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()}),Object.assign(dr.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:pr.prototype.extractUrlBase(t),a=new Dn(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(){function t(t,e){function n(t,e){return t&1<<e}var r,o,a,s,u,c,h,f,p,d,v,m,g,y,_,b,w,x,E,T,S,M,C,A,I,O,N,R=t.faces,P=t.vertices,L=t.normals,D=t.colors,k=t.scale,F=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&F++;for(r=0;r<F;r++)e.faceVertexUvs[r]=[]}for(s=0,u=P.length;s<u;)x=new l,x.x=P[s++]*k,x.y=P[s++]*k,x.z=P[s++]*k,e.vertices.push(x);for(s=0,u=R.length;s<u;)if(d=R[s++],v=n(d,0),m=n(d,1),g=n(d,3),y=n(d,4),_=n(d,5),b=n(d,6),w=n(d,7),v){if(T=new dt,T.a=R[s],T.b=R[s+1],T.c=R[s+3],S=new dt,S.a=R[s+1],S.b=R[s+2],S.c=R[s+3],s+=4,m&&(p=R[s++],T.materialIndex=p,S.materialIndex=p),a=e.faces.length,g)for(r=0;r<F;r++)for(A=t.uvs[r],e.faceVertexUvs[r][a]=[],e.faceVertexUvs[r][a+1]=[],o=0;o<4;o++)f=R[s++],O=A[2*f],N=A[2*f+1],I=new i(O,N),2!==o&&e.faceVertexUvs[r][a].push(I),0!==o&&e.faceVertexUvs[r][a+1].push(I);if(y&&(h=3*R[s++],T.normal.set(L[h++],L[h++],L[h]),S.normal.copy(T.normal)),_)for(r=0;r<4;r++)h=3*R[s++],C=new l(L[h++],L[h++],L[h]),2!==r&&T.vertexNormals.push(C),0!==r&&S.vertexNormals.push(C);if(b&&(c=R[s++],M=D[c],T.color.setHex(M),S.color.setHex(M)),w)for(r=0;r<4;r++)c=R[s++],M=D[c],2!==r&&T.vertexColors.push(new X(M)),0!==r&&S.vertexColors.push(new X(M));e.faces.push(T),e.faces.push(S)}else{if(E=new dt,E.a=R[s++],E.b=R[s++],E.c=R[s++],m&&(p=R[s++],E.materialIndex=p),a=e.faces.length,g)for(r=0;r<F;r++)for(A=t.uvs[r],e.faceVertexUvs[r][a]=[],o=0;o<3;o++)f=R[s++],O=A[2*f],N=A[2*f+1],I=new i(O,N),e.faceVertexUvs[r][a].push(I);if(y&&(h=3*R[s++],E.normal.set(L[h++],L[h++],L[h])),_)for(r=0;r<3;r++)h=3*R[s++],C=new l(L[h++],L[h++],L[h]),E.vertexNormals.push(C);if(b&&(c=R[s++],E.color.setHex(D[c])),w)for(r=0;r<3;r++)c=R[s++],E.vertexColors.push(new X(D[c]));e.faces.push(E)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n){var o=t.skinWeights[r],s=n>1?t.skinWeights[r+1]:0,u=n>2?t.skinWeights[r+2]:0,c=n>3?t.skinWeights[r+3]:0;e.skinWeights.push(new a(o,s,u,c))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=n){var l=t.skinIndices[r],h=n>1?t.skinIndices[r+1]:0,f=n>2?t.skinIndices[r+2]:0,p=n>3?t.skinIndices[r+3]:0;e.skinIndices.push(new a(l,h,f,p))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function n(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var c=new l;c.x=a[s]*n,c.y=a[s+1]*n,c.z=a[s+2]*n,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=e.faces,f=t.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(f,3*r)}}function r(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=lr.parseAnimation(r[i],e.bones);o&&n.push(o)}if(e.morphTargets){var a=lr.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new mt;return t(i,a),e(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:pr.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(vr.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Dn(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new dr,r=new fr,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new is[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new is[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new is[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new is[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new is[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new is[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new is[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new is[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new is[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new is[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new is[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new hr;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++)s.push(r.parse(a.materials[u]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=lr.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};if(void 0!==t&&t.length>0){var i=new Ln(e),o=new Un(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var u=t[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=function(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemEnd(t),n.manager.itemError(t)})}(c)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new o(e[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=n(s.mapping,hs)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.wrap&&(u.wrapS=n(s.wrap[0],fs),u.wrapT=n(s.wrap[1],fs)),void 0!==s.minFilter&&(u.minFilter=n(s.minFilter,ps)),void 0!==s.magFilter&&(u.magFilter=n(s.magFilter,ps)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),r[s.uuid]=u}return r},parseObject:function(){var t=new h;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(r[o])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}var a;switch(e.type){case"Scene":a=new we,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new X(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new be(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new _e(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new pt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new ft(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new $n(e.color,e.intensity);break;case"DirectionalLight":a=new Xn(e.color,e.intensity);break;case"PointLight":a=new qn(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Qn(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Wn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Vn(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new Ae(s,u):new Ut(s,u);break;case"LOD":a=new Se;break;case"Line":a=new Oe(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":a=new Re(i(e.geometry),o(e.material));break;case"LineSegments":a=new Ne(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new Le(i(e.geometry),o(e.material));break;case"Sprite":a=new Te(o(e.material));break;case"Group":a=new De;break;default:a=new lt}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var c in e.children)a.add(this.parseObject(e.children[c],n,r));if("LOD"===e.type)for(var l=e.levels,h=0;h<l.length;h++){var f=l[h],c=a.getObjectByProperty("uuid",f.object);void 0!==c&&a.addLevel(c,f.distance)}return a}}()});var hs={UVMapping:300,CubeReflectionMapping:Do,CubeRefractionMapping:ko,EquirectangularReflectionMapping:Fo,EquirectangularRefractionMapping:Uo,SphericalReflectionMapping:jo,CubeUVReflectionMapping:Bo,CubeUVRefractionMapping:zo},fs={RepeatWrapping:Vo,ClampToEdgeWrapping:Ho,MirroredRepeatWrapping:Go},ps={NearestFilter:Wo,NearestMipMapNearestFilter:qo,NearestMipMapLinearFilter:Yo,LinearFilter:Xo,LinearMipMapNearestFilter:$o,LinearMipMapLinearFilter:Qo};Object.assign(Mr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new l,a=[],s=[],u=[],c=new l,f=new h;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new l,u[0]=new l;var p=Number.MAX_VALUE,d=Math.abs(a[0].x),v=Math.abs(a[0].y),m=Math.abs(a[0].z);for(d<=p&&(p=d,o.set(1,0,0)),v<=p&&(p=v,o.set(0,1,0)),m<=p&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(ja.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(f.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos(ja.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(c.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(f.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}}),Cr.prototype=Object.create(Mr.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isLineCurve=!0,Cr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Cr.prototype.getPointAt=function(t){return this.getPoint(t)},Cr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},Ar.prototype=Object.assign(Object.create(Mr.prototype),{constructor:Ar,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Cr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new mt,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new l(i.x,i.y,i.z||0))}return e}}),Ir.prototype=Object.create(Mr.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isEllipseCurve=!0,Ir.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var o=this.aStartAngle+t*n,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=a-this.aX,h=s-this.aY;a=l*u-h*c+this.aX,s=l*c+h*u+this.aY}return new i(a,s)},Or.prototype=Object.create(Mr.prototype),Or.prototype.constructor=Or,Or.prototype.isSplineCurve=!0,Or.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),o=n-r,a=e[0===r?r:r-1],s=e[r],u=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2];return new i(mr(o,a.x,s.x,u.x,c.x),mr(o,a.y,s.y,u.y,c.y))},Nr.prototype=Object.create(Mr.prototype),Nr.prototype.constructor=Nr,Nr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,o=this.v3;return new i(Sr(t,e.x,n.x,r.x,o.x),Sr(t,e.y,n.y,r.y,o.y))},Rr.prototype=Object.create(Mr.prototype),Rr.prototype.constructor=Rr,Rr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new i(br(t,e.x,n.x,r.x),br(t,e.y,n.y,r.y))};var ds=Object.assign(Object.create(Ar.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Cr(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var o=new Rr(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,o,a){var s=new Nr(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new Or(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+u,e+c,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new Ir(t,e,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});Pr.prototype=ds,ds.constructor=Pr,Lr.prototype=Object.assign(Object.create(ds),{constructor:Lr,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Object.assign(Dr.prototype,{moveTo:function(t,e){this.currentPath=new Pr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Lr;o.curves=i.curves,e.push(o)}return e}var r=rs.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===e)return n(i);var o,a,s,u=[];if(1===i.length)return a=i[0],s=new Lr,s.curves=a.curves,u.push(s),u;var c=!r(i[0].getPoints());c=t?!c:c;var l,h=[],f=[],p=[],d=0;f[d]=void 0,p[d]=[];for(var v=0,m=i.length;v<m;v++)a=i[v],l=a.getPoints(),o=r(l),o=t?!o:o,o?(!c&&f[d]&&d++,f[d]={s:new Lr,p:l},f[d].s.curves=a.curves,c&&d++,p[d]=[]):p[d].push({h:a,p:l[0]});if(!f[0])return n(i);if(f.length>1){for(var g=!1,y=[],_=0,b=f.length;_<b;_++)h[_]=[];for(var _=0,b=f.length;_<b;_++)for(var w=p[_],x=0;x<w.length;x++){for(var E=w[x],T=!0,S=0;S<f.length;S++)(function(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],u=-u,s=e[i],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=c*(t.x-a.x)-u*(t.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r})(E.p,f[S].p)&&(_!==S&&y.push({froms:_,tos:S,hole:x}),T?(T=!1,h[S].push(E)):g=!0);T&&h[_].push(E)}y.length>0&&(g||(p=h))}for(var M,v=0,C=f.length;v<C;v++){s=f[v].s,u.push(s),M=p[v];for(var A=0,I=M.length;A<I;A++)s.holes.push(M[A].h)}return u}}),Object.assign(kr.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,o){var a=i.glyphs[t]||i.glyphs["?"];if(a){var s,u,c,l,h,f,p,d,v,m,g,y=new Dr,_=[];if(a.o)for(var b=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),w=0,x=b.length;w<x;){var E=b[w++];switch(E){case"m":s=b[w++]*e+r,u=b[w++]*e+o,y.moveTo(s,u);break;case"l":s=b[w++]*e+r,u=b[w++]*e+o,y.lineTo(s,u);break;case"q":if(c=b[w++]*e+r,l=b[w++]*e+o,p=b[w++]*e+r,d=b[w++]*e+o,y.quadraticCurveTo(p,d,c,l),g=_[_.length-1]){h=g.x,f=g.y;for(var T=1;T<=n;T++){var S=T/n;br(S,h,p,c),br(S,f,d,l)}}break;case"b":if(c=b[w++]*e+r,l=b[w++]*e+o,p=b[w++]*e+r,d=b[w++]*e+o,v=b[w++]*e+r,m=b[w++]*e+o,y.bezierCurveTo(p,d,v,m,c,l),g=_[_.length-1]){h=g.x,f=g.y;for(var T=1;T<=n;T++){var S=T/n;Sr(S,h,p,v,c),Sr(S,f,d,m,l)}}}}return{offsetX:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(""),o=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,u=0,c=[],l=0;l<n.length;l++){var h=n[l];if("\n"===h)s=0,u-=a;else{var f=r(h,o,s,u);s+=f.offsetX,c.push(f.path)}}return c}(t),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Fr.prototype,{load:function(t,e,n,r){var i=this;new Dn(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new kr(t)}});var vs,ms={getContext:function(){return void 0===vs&&(vs=new(window.AudioContext||window.webkitAudioContext)),vs},setContext:function(t){vs=t}};Object.assign(Ur.prototype,{load:function(t,e,n,r){var i=new Dn(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){ms.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Object.assign(jr.prototype,{update:function(){var t,e,n,r,i,o,a,s,u=new h,c=new h;return function(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var h=l.projectionMatrix.clone();s=this.eyeSep/2;var f,p,d=s*i/e,v=i*Math.tan(ja.DEG2RAD*n*.5)/a;c.elements[12]=-s,u.elements[12]=s,f=-v*r+d,p=v*r+d,h.elements[0]=2*i/(p-f),h.elements[8]=(p+f)/(p-f),this.cameraL.projectionMatrix.copy(h),f=-v*r-d,p=v*r-d,h.elements[0]=2*i/(p-f),h.elements[8]=(p+f)/(p-f),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(u)}}()}),Br.prototype=Object.create(lt.prototype),Br.prototype.constructor=Br,zr.prototype=Object.assign(Object.create(lt.prototype),{constructor:zr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new l,e=new c,n=new l,r=new l;return function(i){lt.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Vr.prototype=Object.assign(Object.create(lt.prototype),{constructor:Vr,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Hr.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Hr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new l;return function(e){lt.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Gr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Wr.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r){c.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}}),Object.assign(qr.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Yr,{Composite:qr,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Yr.Composite(t,e,n):new Yr(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var t=/((?:[\w-]+[\/:])*)/,e=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,r=/\.([\w-]+)(?:\[(.+)\])?/,i=new RegExp("^"+t.source+e.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(t){var e=i.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null}}),Object.assign(Yr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Yr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[r];if(void 0===s){var u=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",t)}var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Yr.prototype,{_getValue_unbound:Yr.prototype.getValue,_setValue_unbound:Yr.prototype.setValue}),Object.assign(Xr.prototype,{isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,p=i[f],d=void 0;if(void 0===p){p=n++,i[f]=p,e.push(h);for(var v=0,m=u;v!==m;++v)s[v].push(new Yr(h,o[v],a[v]))}else if(p<r){d=e[p];var g=--r,y=e[g];i[y.uuid]=p,e[p]=y,i[f]=g,e[g]=h;for(var v=0,m=u;v!==m;++v){var _=s[v],b=_[g],w=_[p];_[p]=b,void 0===w&&(w=new Yr(h,o[v],a[v])),_[g]=w}}else e[p]!==d&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,f=e[h];r[f.uuid]=l,e[l]=f,r[c]=h,e[h]=u;for(var p=0,d=o;p!==d;++p){var v=i[p],m=v[h],g=v[l];v[l]=m,v[h]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],h<r){var f=--r,p=e[f],d=--n,v=e[d];i[p.uuid]=h,e[h]=p,i[v.uuid]=f,e[f]=v,e.pop();for(var m=0,g=a;m!==g;++m){var y=o[m],_=y[f],b=y[d];y[h]=_,y[f]=b,y.pop()}}else{var d=--n,v=e[d];i[v.uuid]=h,e[h]=v,e.pop();for(var m=0,g=a;m!==g;++m){var y=o[m];y[h]=y[d],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(l);for(var h=c,f=s.length;h!==f;++h){var p=s[h];l[h]=new Yr(p,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign($r.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:Ma:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:Ma:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}),Object.assign(Qr.prototype,r.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],f=h.name,p=c[f];if(void 0!==p)o[l]=p;else{if(void 0!==(p=o[l])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var d=e&&e._propertyBindings[l].binding.parsedPath;p=new Wr(Yr.create(n,f,d),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,f),o[l]=p}a[l].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var c in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Jn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?lr.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new $r(this,i,e);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?lr.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){e[a]._update(r,t,i,o)}for(var s=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Kr.prototype.clone=function(){return new Kr(void 0===this.value.clone?this.value:this.value.clone())},Zr.prototype=Object.assign(Object.create(It.prototype),{constructor:Zr,isInstancedBufferGeometry:!0,addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this}}),Object.defineProperties(Jr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Jr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),Object.defineProperty(ti.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ti.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),ei.prototype=Object.assign(Object.create(ti.prototype),{constructor:ei,isInstancedInterleavedBuffer:!0,copy:function(t){return ti.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),ni.prototype=Object.assign(Object.create(gt.prototype),{constructor:ni,isInstancedBufferAttribute:!0,copy:function(t){return gt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(ri.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return oi(t,this,n,e),n.sort(ii),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)oi(t[r],this,n,e);return n.sort(ii),n}}),Object.assign(ai.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(si.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(ja.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(ui.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),ci.prototype=Object.create(Ut.prototype),ci.prototype.constructor=ci,ci.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},ci.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-1/0});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),e||(e=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,t)}this.firstAnimation=e},ci.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},ci.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},ci.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},ci.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},ci.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},ci.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},ci.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},ci.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},ci.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},ci.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},ci.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+ja.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},li.prototype=Object.create(lt.prototype),li.prototype.constructor=li,li.prototype.isImmediateRenderObject=!0,hi.prototype=Object.create(Ne.prototype),hi.prototype.constructor=hi,hi.prototype.update=function(){var t=new l,e=new l,n=new rt;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var f=u[l],p=0,d=f.vertexNormals.length;p<d;p++){var v=s[f[r[p]]],m=f.vertexNormals[p];t.copy(v).applyMatrix4(i),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}else if(a&&a.isBufferGeometry)for(var g=a.attributes.position,y=a.attributes.normal,c=0,p=0,d=g.count;p<d;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1;o.needsUpdate=!0}}(),fi.prototype=Object.create(lt.prototype),fi.prototype.constructor=fi,fi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},fi.prototype.update=function(){var t=new l,e=new l;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color)}}(),di.prototype=Object.create(Ne.prototype),di.prototype.constructor=di,di.prototype.onBeforeRender=function(){var t=new l,e=new h,n=new h;return function(){var r=this.bones,i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,s=0;a<r.length;a++){var u=r[a];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s+1,t.x,t.y,t.z),s+=2)}i.getAttribute("position").needsUpdate=!0}}(),vi.prototype=Object.create(Ut.prototype),vi.prototype.constructor=vi,vi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},vi.prototype.update=function(){this.material.color.copy(this.light.color)},mi.prototype=Object.create(lt.prototype),mi.prototype.constructor=mi,mi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},mi.prototype.update=function(){var t=this.children[0];t.material.color.copy(this.light.color);var e=.5*this.light.width,n=.5*this.light.height,r=t.geometry.attributes.position,i=r.array;i[0]=e,i[1]=-n,i[2]=0,i[3]=e,i[4]=n,i[5]=0,i[6]=-e,i[7]=n,i[8]=0,i[9]=-e,i[10]=-n,i[11]=0,i[12]=e,i[13]=-n,i[14]=0,r.needsUpdate=!0},gi.prototype=Object.create(lt.prototype),gi.prototype.constructor=gi,gi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},gi.prototype.update=function(){var t=new l,e=new X,n=new X;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),yi.prototype=Object.create(Ne.prototype),yi.prototype.constructor=yi,_i.prototype=Object.create(Ne.prototype),_i.prototype.constructor=_i,bi.prototype=Object.create(Ne.prototype),bi.prototype.constructor=bi,bi.prototype.update=function(){var t=new l,e=new l,n=new rt;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}i.needsUpdate=!0}}(),wi.prototype=Object.create(lt.prototype),wi.prototype.constructor=wi,wi.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},wi.prototype.update=function(){var t=new l,e=new l,n=new l;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color),i.lookAt(n),i.scale.z=n.length()}}(),xi.prototype=Object.create(Ne.prototype),xi.prototype.constructor=xi,xi.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var e,n,r=new l,i=new ht;return function(){e=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Ei.prototype=Object.create(Ne.prototype),Ei.prototype.constructor=Ei,Ei.prototype.update=function(){var t=new et;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ei.prototype.setFromObject=function(t){return this.object=t,this.update(),this};var gs,ys;Ti.prototype=Object.create(lt.prototype),Ti.prototype.constructor=Ti,Ti.prototype.setDirection=function(){var t,e=new l;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Ti.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Ti.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Si.prototype=Object.create(Ne.prototype),Si.prototype.constructor=Si;var _s=new l,bs=new Mi,ws=new Mi,xs=new Mi;Ci.prototype=Object.create(Mr.prototype),Ci.prototype.constructor=Ci,Ci.prototype.getPoint=function(t){var e=this.points,n=e.length,r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,c;if(this.closed||i>0?a=e[(i-1)%n]:(_s.subVectors(e[0],e[1]).add(e[0]),a=_s),s=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?c=e[(i+2)%n]:(_s.subVectors(e[n-1],e[n-2]).add(e[n-1]),c=_s),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,f=Math.pow(a.distanceToSquared(s),h),p=Math.pow(s.distanceToSquared(u),h),d=Math.pow(u.distanceToSquared(c),h);p<1e-4&&(p=1),f<1e-4&&(f=p),d<1e-4&&(d=p),bs.initNonuniformCatmullRom(a.x,s.x,u.x,c.x,f,p,d),ws.initNonuniformCatmullRom(a.y,s.y,u.y,c.y,f,p,d),xs.initNonuniformCatmullRom(a.z,s.z,u.z,c.z,f,p,d)}else if("catmullrom"===this.type){var v=void 0!==this.tension?this.tension:.5;bs.initCatmullRom(a.x,s.x,u.x,c.x,v),ws.initCatmullRom(a.y,s.y,u.y,c.y,v),xs.initCatmullRom(a.z,s.z,u.z,c.z,v)}return new l(bs.calc(o),ws.calc(o),xs.calc(o))},Ai.prototype=Object.create(Mr.prototype),Ai.prototype.constructor=Ai,Ai.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l(Sr(t,e.x,n.x,r.x,i.x),Sr(t,e.y,n.y,r.y,i.y),Sr(t,e.z,n.z,r.z,i.z))},Ii.prototype=Object.create(Mr.prototype),Ii.prototype.constructor=Ii,Ii.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new l(br(t,e.x,n.x,r.x),br(t,e.y,n.y,r.y),br(t,e.z,n.z,r.z))},Oi.prototype=Object.create(Mr.prototype),Oi.prototype.constructor=Oi,Oi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new l;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},Ni.prototype=Object.create(Ir.prototype),Ni.prototype.constructor=Ni;Mr.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Mr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Ri.prototype=Object.create(Ci.prototype),Pi.prototype=Object.create(Ci.prototype),Li.prototype=Object.create(Ci.prototype),Object.assign(Li.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),yi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},di.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign($.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(et.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),kt.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},ja.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(rt.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(h.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),it.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},c.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Dt.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Lr.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new an(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new mn(this,t)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(a.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),mt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(lt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(lt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Se.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Me.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Mr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),pt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(zn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(gt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(It.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(It.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Kr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Z.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new X}}}),Object.defineProperties(In.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(J.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ye.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ye.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(at.prototype,{cullFace:{get:function(){return this.renderReverseSided?Ui:Fi},set:function(t){var e=t!==Fi;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Vr.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Ur).load(t,function(t){e.setBuffer(t)}),this},Gr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function v(t,e,n){function r(t){l[t]&&(c[t]=function(e){return new Promise(function(n,r){h.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(l[t](e))}catch(t){u(h[0][3],t)}}function o(t){t.value instanceof d?Promise.resolve(t.value.v).then(a,s):u(h[0][2],t)}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(t,e||[]),h=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:d(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof h?h(t):t[Symbol.iterator]()}function y(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function b(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return x}),e.__rest=i,e.__decorate=o,e.__param=a,e.__metadata=s,e.__awaiter=u,e.__generator=c,e.__exportStar=l,e.__values=h,e.__read=f,e.__spread=p,e.__await=d,e.__asyncGenerator=v,e.__asyncDelegator=m,e.__asyncValues=g,e.__makeTemplateObject=y,e.__importStar=_,e.__importDefault=b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e,n,r,o,a){!t.required||n.hasOwnProperty(t.field)&&!i.f(e,a||t.type)||r.push(i.e(o.messages.required,t.fullField))}var i=n(9);e.a=r},,,,,,,function(t,e,n){"use strict";e.__esModule=!0;var r=n(299),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(67),i=n(35).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(40)&&!n(66)(function(){return 7!=Object.defineProperty(n(165)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(164);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(77),i=n(112),o=n(172),a=n(55),s=n(113),u=n(314),c=n(115),l=n(321),h=n(58)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,m,g){u(n,e,d);var y,_,b,w=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",E="values"==v,T=!1,S=t.prototype,M=S[h]||S["@@iterator"]||v&&S[v],C=M||w(v),A=v?E?w("entries"):C:void 0,I="Array"==e?S.entries||M:M;if(I&&(b=l(I.call(new t)))!==Object.prototype&&b.next&&(c(b,x,!0),r||"function"==typeof b[h]||a(b,h,p)),E&&M&&"values"!==M.name&&(T=!0,C=function(){return M.call(this)}),r&&!g||!f&&!T&&S[h]||a(S,h,C),s[e]=C,s[x]=p,v)if(y={values:E?C:w("values"),keys:m?C:w("keys"),entries:A},g)for(_ in y)_ in S||o(S,_,y[_]);else i(i.P+i.F*(f||T),e,y);return y}},function(t,e,n){var r=n(76),i=n(318),o=n(111),a=n(116)("IE_PROTO"),s=function(){},u=function(){var t,e=n(165)("iframe"),r=o.length;for(e.style.display="none",n(312).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(171),i=n(111).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(41),i=n(57),o=n(309)(!1),a=n(116)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){t.exports=n(55)},function(t,e,n){var r=n(21);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var r=n(10),i=n(50),o=n(6);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),h=1;for(u<s&&s<u+l&&(h=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e,n){var r=n(43);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(11),i=n(10),o=n(69),a=n(6);t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),h=a(c.length),f=u?h-1:0,p=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in l&&(s=e(s,l[f],f,c));return s}},function(t,e,n){"use strict";var r=n(11),i=n(4),o=n(183),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){"use strict";var r=n(8).f,i=n(44),o=n(48),a=n(23),s=n(42),u=n(43),c=n(134),l=n(186),h=n(49),f=n(7),p=n(38).fastKey,d=n(52),v=f?"_s":"size",m=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(d(this,e),t)}}),f&&r(l.prototype,"size",{get:function(){return d(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var r=n(59),i=n(175);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){"use strict";var r=n(48),i=n(38).getWeak,o=n(1),a=n(4),s=n(42),u=n(43),c=n(27),l=n(17),h=n(52),f=c(5),p=c(6),d=0,v=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(h(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){"use strict";function r(t,e,n,c,l,h,f,p){for(var d,v,m=l,g=0,y=!!f&&s(f,p,3);g<c;){if(g in n){if(d=y?y(n[g],g,e):n[g],v=!1,o(d)&&(v=d[u],v=void 0!==v?!!v:i(d)),v&&h>0)m=r(t,e,d,a(d.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=d}m++}g++}return m}var i=n(85),o=n(4),a=n(6),s=n(23),u=n(5)("isConcatSpreadable");t.exports=r},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(127)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(136),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*c(i/u/a)*u*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?l*(1/0):l*n)}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){"use strict";var r=n(7),i=n(46),o=n(89),a=n(70),s=n(10),u=n(69),c=Object.assign;t.exports=!c||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,l=1,h=o.f,f=a.f;c>l;)for(var p,d=u(arguments[l++]),v=h?i(d).concat(h(d)):i(d),m=v.length,g=0;m>g;)p=v[g++],r&&!f.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e,n){var r=n(8),i=n(1),o=n(46);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(20),i=n(45).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(17),i=n(20),o=n(82)(!1),a=n(141)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(7),i=n(46),o=n(20),a=n(70).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),c=u.length,l=0,h=[];c>l;)n=u[l++],r&&!a.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}}},function(t,e,n){var r=n(45),i=n(89),o=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(2).parseFloat,i=n(62).trim;t.exports=1/r(n(144)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(2).parseInt,i=n(62).trim,o=n(144),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(1),i=n(4),o=n(138);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(6),i=n(143),o=n(28);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){var r=n(25),i=n(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){e.f=n(5)},function(t,e,n){"use strict";var r=n(178),i=n(52);t.exports=n(83)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(139);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(68)})},function(t,e,n){"use strict";var r=n(178),i=n(52);t.exports=n(83)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(2),o=n(27)(0),a=n(15),s=n(38),u=n(190),c=n(180),l=n(4),h=n(52),f=n(52),p=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,v=Object.isExtensible,m=c.ufstore,g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=d(t);return!0===e?m(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,"WeakMap"),t,e)}},_=t.exports=n(83)("WeakMap",g,y,c,!0,!0);f&&p&&(r=c.getConstructor(g,"WeakMap"),u(r.prototype,y),s.NEED=!0,o(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];a(e,t,function(e,i){if(l(e)&&!v(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(30)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},30:function(t,e,n){"use strict";e.__esModule=!0;var r=n(31),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},31:function(t,e,n){var r=n(3)(n(32),n(33),null,null,null);t.exports=r.exports},32:function(t,e){"use strict";e.__esModule=!0,e.default={name:"ElButton",props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean},methods:{handleClick:function(t){this.$emit("click",t)},handleInnerClick:function(t){this.disabled&&t.stopPropagation()}}}},33:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.size?"el-button--"+t.size:"",{"is-disabled":t.disabled,"is-loading":t.loading,"is-plain":t.plain}],attrs:{disabled:t.disabled,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"el-icon-loading",on:{click:t.handleInnerClick}}):t._e(),t.icon&&!t.loading?n("i",{class:"el-icon-"+t.icon,on:{click:t.handleInnerClick}}):t._e(),t.$slots.default?n("span",{on:{click:t.handleInnerClick}},[t._t("default")],2):t._e()])},staticRenderFns:[]}}})},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(166)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},14:function(t,e){t.exports=n(213)},166:function(t,e,n){"use strict";e.__esModule=!0;var r=n(167),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},167:function(t,e,n){var r=n(3)(n(168),n(171),null,null,null);t.exports=r.exports},168:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(14),o=r(i),a=n(169),s=r(a),u=n(170),c=r(u);e.default={name:"ElInput",componentName:"ElInput",mixins:[o.default],data:function(){return{currentValue:this.value,textareaCalcStyle:{}}},props:{value:[String,Number],placeholder:String,size:String,resize:String,readonly:Boolean,autofocus:Boolean,icon:String,disabled:Boolean,type:{type:String,default:"text"},name:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},autoComplete:{type:String,default:"off"},form:String,maxlength:Number,minlength:Number,max:{},min:{},step:{},validateEvent:{type:Boolean,default:!0},onIconClick:Function},computed:{validating:function(){return"validating"===this.$parent.validateState},textareaStyle:function(){return(0,c.default)({},this.textareaCalcStyle,{resize:this.resize})}},watch:{value:function(t,e){this.setCurrentValue(t)}},methods:{handleBlur:function(t){this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},inputSelect:function(){this.$refs.input.select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type){if(!t)return void(this.textareaCalcStyle={minHeight:(0,s.default)(this.$refs.textarea).minHeight});var e=t.minRows,n=t.maxRows;this.textareaCalcStyle=(0,s.default)(this.$refs.textarea,e,n)}}},handleFocus:function(t){this.$emit("focus",t)},handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.setCurrentValue(e),this.$emit("change",e)},handleIconClick:function(t){this.onIconClick&&this.onIconClick(t),this.$emit("click",t)},setCurrentValue:function(t){var e=this;t!==this.currentValue&&(this.$nextTick(function(t){e.resizeTextarea()}),this.currentValue=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t]))}},created:function(){this.$on("inputSelect",this.inputSelect)},mounted:function(){this.resizeTextarea()}}},169:function(t,e){"use strict";function n(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),i=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:a.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i||(i=document.createElement("textarea"),document.body.appendChild(i));var a=n(t),s=a.paddingSize,u=a.borderSize,c=a.boxSizing,l=a.contextStyle;i.setAttribute("style",l+";"+o),i.value=t.value||t.placeholder||"";var h=i.scrollHeight,f={};"border-box"===c?h+=u:"content-box"===c&&(h-=s),i.value="";var p=i.scrollHeight-s;if(null!==e){var d=p*e;"border-box"===c&&(d=d+s+u),h=Math.max(d,h),f.minHeight=d+"px"}if(null!==r){var v=p*r;"border-box"===c&&(v=v+s+u),h=Math.min(v,h)}return f.height=h+"px",f}e.__esModule=!0,e.default=r;var i=void 0,o="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",a=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"]},170:function(t,e){t.exports=n(97)},171:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.size?"el-input--"+t.size:"",{"is-disabled":t.disabled,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend}]},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),t._t("icon",[t.icon?n("i",{staticClass:"el-input__icon",class:["el-icon-"+t.icon,t.onIconClick?"is-clickable":""],on:{click:t.handleIconClick}}):t._e()]),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{autocomplete:t.autoComplete},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"input",t.$props)):t._e(),t.validating?n("i",{staticClass:"el-input__icon el-icon-loading"}):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.$props))],2)},staticRenderFns:[]}}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.i18n=e.use=e.t=void 0;var i=n(538),o=r(i),a=n(12),s=r(a),u=n(532),c=r(u),l=n(537),h=r(l),f=(0,h.default)(s.default),p=o.default,d=!1,v=function(){var t=Object.getPrototypeOf(this||s.default).$t;if("function"==typeof t&&s.default.locale)return d||(d=!0,s.default.locale(s.default.config.lang,(0,c.default)(p,s.default.locale(s.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},m=e.t=function(t,e){var n=v.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=t.split("."),i=p,o=0,a=r.length;o<a;o++){if(n=i[r[o]],o===a-1)return f(n,e);if(!n)return"";i=n}return""},g=e.use=function(t){p=t||p},y=e.i18n=function(t){v=t||v};e.default={use:g,t:m,i18n:y}},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(207)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},9:function(t,e){t.exports=n(210)},55:function(t,e){t.exports=n(12)},61:function(t,e){t.exports=n(540)},62:function(t,e){t.exports=n(211)},123:function(t,e){t.exports=n(96)},138:function(t,e){t.exports=n(214)},143:function(t,e){t.exports=n(209)},170:function(t,e){t.exports=n(97)},198:function(t,e){t.exports=n(216)},207:function(t,e,n){"use strict";e.__esModule=!0;var r=n(208),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},208:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.MessageBox=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(55),a=r(o),s=n(209),u=r(s),c=n(170),l=r(c),h=n(198),f={title:void 0,message:"",type:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null},p=a.default.extend(u.default),d=void 0,v=void 0,m=[],g=function(t){if(d){var e=d.callback;"function"==typeof e&&(v.showInput?e(v.inputValue,t):e(t)),d.resolve&&("confirm"===t?v.showInput?d.resolve({value:v.inputValue,action:t}):d.resolve(t):"cancel"===t&&d.reject&&d.reject(t))}},y=function(){v=new p({el:document.createElement("div")}),v.callback=g},_=function t(){v||y(),v.action="",v.visible&&!v.closeTimer||m.length>0&&function(){d=m.shift();var e=d.options;for(var n in e)e.hasOwnProperty(n)&&(v[n]=e[n]);void 0===e.callback&&(v.callback=g);var r=v.callback;v.callback=function(e,n){r(e,n),t()},(0,h.isVNode)(v.message)?(v.$slots.default=[v.message],v.message=null):delete v.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(t){void 0===v[t]&&(v[t]=!0)}),document.body.appendChild(v.$el),a.default.nextTick(function(){v.visible=!0})}()},b=function t(e,n){if(!a.default.prototype.$isServer){if("string"==typeof e?(e={message:e},arguments[1]&&(e.title=arguments[1]),arguments[2]&&(e.type=arguments[2])):e.callback&&!n&&(n=e.callback),"undefined"!=typeof Promise)return new Promise(function(r,i){m.push({options:(0,l.default)({},f,t.defaults,e),callback:n,resolve:r,reject:i}),_()});m.push({options:(0,l.default)({},f,t.defaults,e),callback:n}),_()}};b.setDefaults=function(t){b.defaults=t},b.alert=function(t,e,n){return"object"===(void 0===e?"undefined":i(e))?(n=e,e=""):void 0===e&&(e=""),b((0,l.default)({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},b.confirm=function(t,e,n){return"object"===(void 0===e?"undefined":i(e))?(n=e,e=""):void 0===e&&(e=""),b((0,l.default)({title:e,message:t,$type:"confirm",showCancelButton:!0},n))},b.prompt=function(t,e,n){return"object"===(void 0===e?"undefined":i(e))?(n=e,e=""):void 0===e&&(e=""),b((0,l.default)({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},b.close=function(){v.visible=!1,m=[],d=null},e.default=b,e.MessageBox=b},209:function(t,e,n){var r=n(3)(n(210),n(211),null,null,null);t.exports=r.exports},210:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(138),o=r(i),a=n(61),s=r(a),u=n(9),c=r(u),l=n(143),h=r(l),f=n(123),p=n(62),d={success:"circle-check",info:"information",warning:"warning",error:"circle-cross"};e.default={mixins:[o.default,s.default],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0}},components:{ElInput:c.default,ElButton:h.default},computed:{typeClass:function(){return this.type&&d[this.type]?"el-icon-"+d[this.type]:""},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{handleComposition:function(t){var e=this;"compositionend"===t.type?setTimeout(function(){e.isOnComposition=!1},100):this.isOnComposition=!0},handleKeyup:function(){!this.isOnComposition&&this.handleAction("confirm")},getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose(),this.action&&this.callback(this.action,this))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction("cancel")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||(0,p.t)("el.messagebox.error"),(0,f.addClass)(this.$refs.input.$el.querySelector("input"),"invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var n=e(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||(0,p.t)("el.messagebox.error"),(0,f.addClass)(this.$refs.input.$el.querySelector("input"),"invalid"),!1;if("string"==typeof n)return this.editorErrorMessage=n,!1}}return this.editorErrorMessage="",(0,f.removeClass)(this.$refs.input.$el.querySelector("input"),"invalid"),!0}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(n){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.$refs.input.$el.querySelector("input").focus()},500):(this.editorErrorMessage="",(0,f.removeClass)(this.$refs.input.$el.querySelector("input"),"invalid")))}},data:function(){return{uid:1,title:void 0,message:"",type:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,isOnComposition:!1}}}},211:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1"},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.handleWrapperClick(e)}}},[n("div",{staticClass:"el-message-box",class:t.customClass},[void 0!==t.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[t._v(t._s(t.title))]),t.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction("cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),""!==t.message?n("div",{staticClass:"el-message-box__content"},[n("div",{staticClass:"el-message-box__status",class:[t.typeClass]}),n("div",{staticClass:"el-message-box__message",style:{"margin-left":t.typeClass?"50px":"0"}},[t._t("default",[n("p",[t._v(t._s(t.message))])])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{placeholder:t.inputPlaceholder},nativeOn:{compositionstart:function(e){t.handleComposition(e)},compositionupdate:function(e){t.handleComposition(e)},compositionend:function(e){t.handleComposition(e)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.handleKeyup(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]):t._e(),n("div",{staticClass:"el-message-box__btns"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},staticRenderFns:[]}}})},function(t,e,n){"use strict";function r(t,e,n){this.$children.forEach(function(i){i.$options.componentName===t?i.$emit.apply(i,[e].concat(n)):r.apply(i,[t,e].concat([n]))})}e.__esModule=!0,e.default={methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,i=r.$options.componentName;r&&(!i||i!==t);)(r=r.$parent)&&(i=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){r.call(this,t,e,n)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.PopupManager=void 0;var i=n(12),o=r(i),a=n(97),s=r(a),u=n(541),c=r(u),l=n(542),h=r(l),f=n(96),p=1,d=[],v=function(t){if(-1===d.indexOf(t)){var e=function(t){var e=t.__vue__;if(!e){var n=t.previousSibling;n.__vue__&&(e=n.__vue__)}return e};o.default.transition(t,{afterEnter:function(t){var n=e(t);n&&n.doAfterOpen&&n.doAfterOpen()},afterLeave:function(t){var n=e(t);n&&n.doAfterClose&&n.doAfterClose()}})}},m=void 0,g=function t(e){return 3===e.nodeType&&(e=e.nextElementSibling||e.nextSibling,t(e)),e};e.default={model:{prop:"visible",event:"visible-change"},props:{visible:{type:Boolean,default:!1},transition:{type:String,default:""},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},created:function(){this.transition&&v(this.transition)},beforeMount:function(){this._popupId="popup-"+p++,c.default.register(this._popupId,this)},beforeDestroy:function(){c.default.deregister(this._popupId),c.default.closeModal(this._popupId),this.modal&&null!==this.bodyOverflow&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.paddingRight=this.bodyPaddingRight),this.bodyOverflow=null,this.bodyPaddingRight=null},data:function(){return{opened:!1,bodyOverflow:null,bodyPaddingRight:null,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,o.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0,this.$emit("visible-change",!0));var n=(0,s.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(n)},r):this.doOpen(n)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0,this.$emit("visible-change",!0);var e=g(this.$el),n=t.modal,r=t.zIndex;if(r&&(c.default.zIndex=r),n&&(this._closing&&(c.default.closeModal(this._popupId),this._closing=!1),c.default.openModal(this._popupId,c.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.bodyOverflow||(this.bodyPaddingRight=document.body.style.paddingRight,this.bodyOverflow=document.body.style.overflow),m=(0,h.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,f.getStyle)(document.body,"overflowY");m>0&&(i||"scroll"===o)&&(document.body.style.paddingRight=m+"px"),document.body.style.overflow="hidden"}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=c.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.transition||this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){var t=this;this.$emit("visible-change",!1),this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},doAfterClose:function(){c.default.closeModal(this._popupId),this._closing=!1}}},e.PopupManager=c.default},function(t,e,n){"use strict";function r(t,e){return a.call(t,e)}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){for(var e={},n=0;n<t.length;n++)t[n]&&i(e,t[n]);return e}e.__esModule=!0,e.hasOwn=r,e.toObject=o;var a=Object.prototype.hasOwnProperty;e.getValueByPath=function(t,e){e=e||"";for(var n=e.split("."),r=t,i=null,o=0,a=n.length;o<a;o++){var s=n[o];if(!r)break;if(o===a-1){i=r[s];break}r=r[s]}return i}},function(t,e,n){"use strict";function r(t){return"object"===(void 0===t?"undefined":o(t))&&(0,a.hasOwn)(t,"componentOptions")}function i(t){return t&&t.filter(function(t){return t&&t.tag})[0]}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=r,e.getFirstComponentChild=i;var a=n(215)},,,function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?r(l,e-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(579),o=n(600);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(150),o=n(593),a=n(613),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(220),o=n(223),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(631),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(32))},function(t,e,n){"use strict";function r(t){S&&(t._devtoolHook=S,S.emit("vuex:init",t),S.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){S.emit("vuex:mutation",t,e)}))}function i(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function o(t){return null!==t&&"object"==typeof t}function a(t){return t&&"function"==typeof t.then}function s(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;s(t.concat(r),e.getChild(r),n.modules[r])}}function u(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function c(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;h(t,n,[],t._modules.root,!0),l(t,n,e)}function l(t,e,n){var r=t._vm;t.getters={};var o=t._wrappedGetters,a={};i(o,function(e,n){a[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=I.config.silent;I.config.silent=!0,t._vm=new I({data:{$$state:e},computed:a}),I.config.silent=s,t.strict&&g(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),I.nextTick(function(){return r.$destroy()}))}function h(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]=r),!o&&!i){var s=y(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){I.set(s,u,r.state)})}var c=r.context=f(t,a,n);r.forEachMutation(function(e,n){d(t,a+n,e,c)}),r.forEachAction(function(e,n){var r=e.root?n:a+n,i=e.handler||e;v(t,r,i,c)}),r.forEachGetter(function(e,n){m(t,a+n,e,c)}),r.forEachChild(function(r,o){h(t,e,n.concat(o),r,i)})}function f(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=_(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=_(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return p(t,e)}},state:{get:function(){return y(t.state,n)}}}),i}function p(t,e){var n={},r=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function d(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,r.state,e)})}function v(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push(function(e,i){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e,i);return a(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}function m(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function g(t){t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function _(t,e,n){return o(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){I&&t===I||(I=t,T(I))}function w(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function x(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function E(t,e,n){return t._modulesNamespaceMap[n]}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Store",function(){return O}),n.d(e,"install",function(){return b}),n.d(e,"mapState",function(){return R}),n.d(e,"mapMutations",function(){return P}),n.d(e,"mapGetters",function(){return L}),n.d(e,"mapActions",function(){return D}),n.d(e,"createNamespacedHelpers",function(){return k});/**
 * vuex v2.5.0
 * (c) 2017 Evan You
 * @license MIT
 */
var T=function(t){function e(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:e});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,n.call(this,t)}}},S="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,M=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},C={namespaced:{configurable:!0}};C.namespaced.get=function(){return!!this._rawModule.namespaced},M.prototype.addChild=function(t,e){this._children[t]=e},M.prototype.removeChild=function(t){delete this._children[t]},M.prototype.getChild=function(t){return this._children[t]},M.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},M.prototype.forEachChild=function(t){i(this._children,t)},M.prototype.forEachGetter=function(t){this._rawModule.getters&&i(this._rawModule.getters,t)},M.prototype.forEachAction=function(t){this._rawModule.actions&&i(this._rawModule.actions,t)},M.prototype.forEachMutation=function(t){this._rawModule.mutations&&i(this._rawModule.mutations,t)},Object.defineProperties(M.prototype,C);var A=function(t){this.register([],t,!1)};A.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},A.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},A.prototype.update=function(t){s([],this.root,t)},A.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var o=new M(e,n);if(0===t.length)this.root=o;else{this.get(t.slice(0,-1)).addChild(t[t.length-1],o)}e.modules&&i(e.modules,function(e,i){r.register(t.concat(i),e,n)})},A.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var I,O=function(t){var e=this;void 0===t&&(t={}),!I&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var o=t.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new A(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new I;var a=this,s=this,u=s.dispatch,c=s.commit;this.dispatch=function(t,e){return u.call(a,t,e)},this.commit=function(t,e,n){return c.call(a,t,e,n)},this.strict=i,h(this,o,[],this._modules.root),l(this,o),n.forEach(function(t){return t(e)}),I.config.devtools&&r(this)},N={state:{configurable:!0}};N.state.get=function(){return this._vm._data.$$state},N.state.set=function(t){},O.prototype.commit=function(t,e,n){var r=this,i=_(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,r.state)}))},O.prototype.dispatch=function(t,e){var n=this,r=_(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)},O.prototype.subscribe=function(t){return u(t,this._subscribers)},O.prototype.subscribeAction=function(t){return u(t,this._actionSubscribers)},O.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},O.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},O.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),h(this,this.state,t,this._modules.get(t),n.preserveState),l(this,this.state)},O.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=y(e.state,t.slice(0,-1));I.delete(n,t[t.length-1])}),c(this)},O.prototype.hotUpdate=function(t){this._modules.update(t),c(this,!0)},O.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(O.prototype,N);var R=x(function(t,e){var n={};return w(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=E(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0}),n}),P=x(function(t,e){var n={};return w(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=E(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n}),L=x(function(t,e){var n={};return w(e).forEach(function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||E(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0}),n}),D=x(function(t,e){var n={};return w(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=E(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n}),k=function(t){return{mapState:R.bind(null,t),mapGetters:L.bind(null,t),mapMutations:P.bind(null,t),mapActions:D.bind(null,t)}},F={Store:O,install:b,version:"2.5.0",mapState:R,mapMutations:P,mapGetters:L,mapActions:D,createNamespacedHelpers:k};e.default=F},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(531),n(630),n(303),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(32))},function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function r(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==i(t)}function s(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==i(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,f.apply(null,arguments)}function p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ad=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function v(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function m(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function g(t){if(Error.captureStackTrace)Error.captureStackTrace(this,g);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function y(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");g.call(this,n+t[r])}function _(t,e){throw new y("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function b(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function w(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function x(){this.b=this.a=null}function E(){var t=Uu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function T(){this.next=this.b=this.a=null}function S(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}function M(e){t:{for(var n=Hr,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function C(t,e){return 0<=bu(t,e)}function A(t,e){e=bu(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function I(t,e){var n=0;S(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function O(t){return Array.prototype.concat.apply([],arguments)}function N(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function R(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function P(t){return Nu.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(Su,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Mu,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Cu,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Au,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Iu,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Ou,"&#0;")),t):t}function L(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}function k(t){return L(_u,t)}function F(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function U(t){for(var e in t)return!1;return!0}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}function B(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ku.length;o++)n=ku[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function z(t){du.setTimeout(function(){throw t},0)}function V(){var t=du.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!k("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=f(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!k("Trident")&&!k("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.rb;n.rb=null,t()}},function(t){r.next={rb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){du.setTimeout(t,0)}}function H(t,e){Du||G(),Fu||(Du(),Fu=!0),Uu.add(t,e)}function G(){if(du.Promise&&du.Promise.resolve){var t=du.Promise.resolve(void 0);Du=function(){t.then(W)}}else Du=function(){var t=W;!u(du.setImmediate)||du.Window&&du.Window.prototype&&!k("Edge")&&du.Window.prototype.setImmediate==du.setImmediate?(Lu||(Lu=V()),Lu(t)):du.setImmediate(t)}}function W(){for(var t;t=E();){try{t.a.call(t.b)}catch(t){z(t)}w(yu,t)}Fu=!1}function q(t,e){if(this.a=ju,this.j=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){rt(n,Bu,t)},function(t){if(!(t instanceof ht))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}rt(n,zu,t)})}catch(t){rt(this,zu,t)}}function Y(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function X(t,e,n){var r=Vu.get();return r.g=t,r.b=e,r.f=n,r}function $(t){if(t instanceof q)return t;var e=new q(r);return rt(e,Bu,t),e}function Q(t){return new q(function(e,n){n(t)})}function K(t,e,n){it(t,e,n,null)||H(p(e,t))}function Z(t){return new q(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],K(o,p(a,u),s);else e(i)})}function J(t){return new q(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],K(i,p(o,a,!0),p(o,a,!1));else e(r)})}function tt(t,e){if(t.a==ju)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==ju&&1==r?tt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):st(n),ut(n,i,zu,e)))}t.c=null}else rt(t,zu,e)}function et(t,e){t.b||t.a!=Bu&&t.a!=zu||at(t),t.f?t.f.next=e:t.b=e,t.f=e}function nt(t,e,n,r){var i=X(null,null,null);return i.a=new q(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ht?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,et(t,i),i.a}function rt(t,e,n){t.a==ju&&(t===n&&(e=zu,n=new TypeError("Promise cannot resolve to itself")),t.a=1,it(n,t.Kc,t.Lc,t)||(t.j=n,t.a=e,t.c=null,at(t),e!=zu||n instanceof ht||lt(t,n)))}function it(t,e,n,i){if(t instanceof q)return et(t,X(e||r,n||null,i)),!0;if(m(t))return t.then(e,n,i),!0;if(c(t))try{var o=t.then;if(u(o))return ot(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function ot(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}function at(t){t.h||(t.h=!0,H(t.Ub,t))}function st(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ut(t,e,n,r){if(n==zu&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ct(e,n,r);else try{e.c?e.g.call(e.f):ct(e,n,r)}catch(t){Hu.call(null,t)}w(Vu,e)}function ct(t,e,n){e==Bu?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function lt(t,e){t.g=!0,H(function(){t.g&&Hu.call(null,e)})}function ht(t){g.call(this,t)}function ft(){0!=Gu&&(Wu[this[vu]||(this[vu]=++mu)]=this),this.pa=this.pa,this.oa=this.oa}function pt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Gu)){var e=t[vu]||(t[vu]=++mu);if(0!=Gu&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wu[e]}}function dt(t){return dt[" "](t),t}function vt(t,e){var n=rc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function mt(){var t=du.document;return t?t.documentMode:void 0}function gt(t){return vt(t,function(){for(var e=0,n=Tu(String(qu)).split("."),r=Tu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function yt(t,e){this.type=t,this.b=this.target=e,this.Eb=!0}function _t(e,n){if(yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(Ku){t:{try{dt(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:cc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function bt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++hc,this.ma=this.Ha=!1}function wt(t){t.ma=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function xt(t){this.src=t,this.a={},this.b=0}function Et(t,e){var n=e.type;n in t.a&&A(t.a[n],e)&&(wt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Tt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function St(t,e,n,r,i){if(r&&r.once)At(t,e,n,r,i);else if(a(e))for(var o=0;o<e.length;o++)St(t,e[o],n,r,i);else n=kt(n),t&&t[lc]?Ut(t,e,n,c(r)?!!r.capture:!!r,i):Mt(t,e,n,!1,r,i)}function Mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,s=Dt(t);if(s||(t[fc]=s=new xt(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=Ct(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uc||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Nt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}dc++}}function Ct(){var t=Lt,e=ac?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function At(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)At(t,e[o],n,r,i);else n=kt(n),t&&t[lc]?jt(t,e,n,c(r)?!!r.capture:!!r,i):Mt(t,e,n,!0,r,i)}function It(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)It(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=kt(n),t&&t[lc]?(t=t.u,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=Tt(o,n,r,i))&&(wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Dt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Tt(e,n,r,i)),(n=-1<t?e[t]:null)&&Ot(n))}function Ot(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[lc])Et(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Nt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),dc--,(n=Dt(e))?(Et(n,t),0==n.b&&(n.src=null,e[fc]=null)):wt(t)}}}function Nt(t){return t in pc?pc[t]:pc[t]="on"+t}function Rt(t,e,n,r){var i=!0;if((t=Dt(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Pt(o,r),i=i&&!1!==o)}return i}function Pt(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&Ot(t),n.call(r,e)}function Lt(t,e){if(t.ma)return!0;if(!ac){if(!e)t:{e=["window","event"];for(var n=du,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new _t(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Rt(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Rt(r[i],t,!1,e),n=n&&o}return n}return Pt(t,new _t(e,this))}function Dt(t){return t=t[fc],t instanceof xt?t:null}function kt(t){return u(t)?t:(t[vc]||(t[vc]=function(e){return t.handleEvent(e)}),t[vc])}function Ft(){ft.call(this),this.u=new xt(this),this.Mb=this,this.Ta=null}function Ut(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function jt(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Bt(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Et(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Eb}function zt(t,e,n){if(u(t))n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<Number(e)?-1:du.setTimeout(t,e||0)}function Vt(t){var e=null;return new q(function(n,r){-1==(e=zt(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).m(function(t){throw du.clearTimeout(e),t})}function Ht(e){if(e.S&&"function"==typeof e.S)return e.S();if(t(e))return e.split("");if(s(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}n=[],r=0;for(i in e)n[r++]=e[i];return n}function Gt(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(s(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}n=[],r=0;for(var i in e)n[r++]=i;return n}}function Wt(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))wu(e,n,void 0);else for(var r=Gt(e),i=Ht(e),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}function qt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qt)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Yt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Xt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $t(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qt(t,e){if(this.b=this.l=this.c="",this.j=null,this.h=this.g="",this.f=!1,t instanceof Qt){this.f=void 0!==e?e:t.f,Kt(this,t.c),this.l=t.l,this.b=t.b,Zt(this,t.j),this.g=t.g,e=t.a;var n=new se;n.c=e.c,e.a&&(n.a=new qt(e.a),n.b=e.b),Jt(this,n),this.h=t.h}else t&&(n=String(t).match(mc))?(this.f=!!e,Kt(this,n[1]||"",!0),this.l=ie(n[2]||""),this.b=ie(n[3]||"",!0),Zt(this,n[4]),this.g=ie(n[5]||"",!0),Jt(this,n[6]||"",!0),this.h=ie(n[7]||"")):(this.f=!!e,this.a=new se(null,this.f))}function Kt(t,e,n){t.c=n?ie(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Zt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.j=e}else t.j=null}function Jt(t,e,n){e instanceof se?(t.a=e,de(t.a,t.f)):(n||(e=oe(e,bc)),t.a=new se(e,t.f))}function te(t,e,n){t.a.set(e,n)}function ee(t,e){return t.a.get(e)}function ne(t){return t instanceof Qt?new Qt(t):new Qt(t,void 0)}function re(t,e){var n=new Qt(null,void 0);return Kt(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function ie(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oe(e,n,r){return t(e)?(e=encodeURI(e).replace(n,ae),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ae(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function se(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ue(t){t.a||(t.a=new qt,t.b=0,t.c&&$t(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ce(t){var e=Gt(t);if(void 0===e)throw Error("Keys are undefined");var n=new se(null,void 0);t=Ht(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?fe(n,i,o):n.add(i,o)}return n}function le(t,e){ue(t),e=pe(t,e),Xt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Xt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Yt(t)))}function he(t,e){return ue(t),e=pe(t,e),Xt(t.a.b,e)}function fe(t,e,n){le(t,e),0<n.length&&(t.c=null,t.a.set(pe(t,e),N(n)),t.b+=n.length)}function pe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function de(t,e){e&&!t.f&&(ue(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(le(this,e),fe(this,n,t))},t)),t.f=e}function ve(){this.a="",this.b=Ec}function me(t){return t instanceof ve&&t.constructor===ve&&t.b===Ec?t.a:(_("expected object of type Const, got '"+t+"'"),"type_error:Const")}function ge(t){var e=new ve;return e.a=t,e}function ye(){this.a="",this.b=Mc}function _e(t){return t instanceof ye&&t.constructor===ye&&t.b===Mc?t.a:(_("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function be(t,e){var n=me(t);if(!Sc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tc,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof ve?me(t):encodeURIComponent(String(t))}),we(t)}function we(t){var e=new ye;return e.a=t,e}function xe(){this.a="",this.b=Ac}function Ee(t){return t instanceof xe&&t.constructor===xe&&t.b===Ac?t.a:(_("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}function Te(t){return t instanceof xe?t:(t=t.la?t.ja():String(t),Cc.test(t)||(t="about:invalid#zClosurez"),Se(t))}function Se(t){var e=new xe;return e.a=t,e}function Me(){this.a="",this.b=Ic}function Ce(t){return t instanceof Me&&t.constructor===Me&&t.b===Ic?t.a:(_("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")}function Ae(t){var e=new Me;return e.a=t,e}function Ie(e){var n=document;return t(e)?n.getElementById(e):e}function Oe(t,e){F(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Oc.hasOwnProperty(n)?t.setAttribute(Oc[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Ne(e,n,r){var i=arguments,o=document,s=String(i[0]),u=i[1];if(!xc&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',P(u.name),'"'),u.type){s.push(' type="',P(u.type),'"');var c={};B(c,u),delete c.type,u=c}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(t(u)?s.className=u:a(u)?s.className=u.join(" "):Oe(s,u)),2<i.length&&Re(o,s,i),s}function Re(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||c(a)&&0<a.nodeType?i(a):wu(Pe(a)?N(a):a,i)}}function Pe(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}function Le(t){var e=[];return ke(new De,t,e),e.join("")}function De(){}function ke(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ke(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Fe(r,n),n.push(":"),ke(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Fe(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Fe(t,e){e.push('"',t.replace(Rc,function(t){var e=Nc[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Nc[t]=e),e}),'"')}function Ue(){var t=nn();return Xu&&!!nc&&11==nc||/Edge\/\d+/.test(t)}function je(){return du.window&&du.window.location.href||self&&self.location&&self.location.href||""}function Be(t,e){e=e||du.window;var n="about:blank";t&&(n=Ee(Te(t))),e.location.href=n}function ze(t,e){var n,r=[];for(n in t)if(n in e)if(typeof t[n]!=typeof e[n])r.push(n);else if(a(t[n])){t:{var i=void 0,o=t[n],s=e[n];for(i in o)if(!(i in s)||o[i]!==s[i]){i=!1;break t}for(i in s)if(!(i in o)){i=!1;break t}i=!0}i||r.push(n)}else"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ze(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n);else r.push(n);for(n in e)n in t||r.push(n);return r}function Ve(){var t=nn();return!((t=tn(t)!=Dc?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Xu||!nc||9<nc)}function He(t){return t=(t||nn()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Ge(t){t=t||du.window;try{t.close()}catch(t){}}function We(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=nn().toLowerCase(),r&&(e.target=r,L(n,"crios/")&&(e.target="_blank")),tn(nn())==Lc&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xe?n:Te(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((k("iPhone")&&!k("iPod")&&!k("iPad")||k("iPad")||k("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof xe||e instanceof xe||(e=e.la?e.ja():String(e),Cc.test(e)||(e="about:invalid#zClosurez"),e=Se(e)),a.href=Ee(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Ee(e),a&&(Qu&&L(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,ge("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+P(t)+'">',t=Ae(t),a.document.write(Ce(t)),a.document.close())):(a=r.open(Ee(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}function qe(t){return new q(function(e){function n(){Vt(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function Ye(){var t=null;return new q(function(e){"complete"==du.document.readyState?e():(t=function(){e()},At(window,"load",t))}).m(function(e){throw It(window,"load",t),e})}function Xe(){return $e(void 0)?Ye().then(function(){return new q(function(t,e){var n=du.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Q(Error("Cordova must run in an Android or iOS file scheme."))}function $e(t){return t=t||nn(),!("file:"!==un()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qe(){var t=du.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Ke(){return"object"!=typeof du.window&&"function"==typeof du.importScripts}function Ze(){return fu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":fu.INTERNAL.hasOwnProperty("node")?"Node":Ke()?"Worker":"Browser"}function Je(){var t=Ze();return"ReactNative"===t||"Node"===t}function tn(t){var e=t.toLowerCase();return L(e,"opera/")||L(e,"opr/")||L(e,"opios/")?"Opera":L(e,"iemobile")?"IEMobile":L(e,"msie")||L(e,"trident/")?"IE":L(e,"edge/")?"Edge":L(e,"firefox/")?Lc:L(e,"silk/")?"Silk":L(e,"blackberry")?"Blackberry":L(e,"webos")?"Webos":!L(e,"safari/")||L(e,"chrome/")||L(e,"crios/")||L(e,"android")?!L(e,"chrome/")&&!L(e,"crios/")||L(e,"edge/")?L(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Dc:"Safari"}function en(t,e){e=e||[];var n,r=[],i={};for(n in kc)i[kc[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Ze(),"Browser"===r?(i=nn(),r=tn(i)):"Worker"===r&&(i=nn(),r=tn(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function nn(){return du.navigator&&du.navigator.userAgent||""}function rn(t,e){t=t.split("."),e=e||du;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function on(){try{var t=du.localStorage,e=pn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ue()||!!du.indexedDB}catch(t){return Ke()&&!!du.indexedDB}return!1}function an(){return(sn()||"chrome-extension:"===un()||$e())&&!Je()&&on()&&!Ke()}function sn(){return"http:"===un()||"https:"===un()}function un(){return du.location&&du.location.protocol||null}function cn(t){return t=t||nn(),!He(t)&&tn(t)!=Lc}function ln(t){return void 0===t?null:Le(t)}function hn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function fn(t){if(null!==t)return JSON.parse(t)}function pn(t){return t||Math.floor(1e9*Math.random()).toString()}function dn(t){return t=t||nn(),"Safari"!=tn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function vn(){var t=du.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function mn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=nn(),e=Ze(),this.b=He(t)||"ReactNative"===e}function gn(){var t=du.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function yn(){var t=du.document,e=null;return gn()||!t?$():new q(function(n){e=function(){gn()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).m(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function _n(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function bn(){return!(!rn("fireauth.oauthhelper",du)&&!rn("fireauth.iframe",du))}function wn(t,e,n){Fc?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function xn(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&wn(t,n,e[n])}function En(t){var e={};return xn(e,t),e}function Tn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Sn(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Mn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)wn(e,n,Mn(t[n]))}return e}function Cn(t){var e={},n=t[zc],r=t[Vc];if(!(t=t[Hc])||t!=Bc&&!n)throw Error("Invalid provider user info!");e[Wc]=r||null,e[Gc]=n||null,wn(this,Yc,t),wn(this,qc,Mn(e))}function An(t,e){this.code=Xc+t,this.message=e||$c[t]||""}function In(t){var e=t&&t.code;return e?new An(e.substring(Xc.length),t.message):null}function On(t){var e=t[Jc];if(void 0===e)throw new An("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new An("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Qc];if(n&&"object"==typeof n){e=n[nl];var r=n[tl];if(n=n[el],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new An("argument-error",tl+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new An("argument-error",el+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new An("argument-error",nl+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new An("missing-android-pkg-name")}}else if(void 0!==n)throw new An("argument-error",Qc+" property must be a non null object when specified.");if(this.f=null,(e=t[Zc])&&"object"==typeof e){if("string"==typeof(e=e[rl])&&e.length)this.f=e;else if(void 0!==e)throw new An("argument-error",rl+" property must be a non empty string when specified.")}else if(void 0!==e)throw new An("argument-error",Zc+" property must be a non null object when specified.");if(void 0!==(t=t[Kc])&&"boolean"!=typeof t)throw new An("argument-error",Kc+" property must be a boolean when specified.");this.c=!!t}function Nn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f;for(var n in e)null===e[n]&&delete e[n];return e}function Rn(t){return xu(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function Pn(t){var e="";return Ln(t,function(t){e+=String.fromCharCode(t)}),e}function Ln(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ol[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Dn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Dn(){if(!il){il={},ol={};for(var t=0;65>t;t++)il[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ol[il[t]]=t,62<=t&&(ol["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function kn(t){this.c=t.sub,gu(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Fn(t){return(t=Un(t))&&t.sub&&t.iss&&t.aud&&t.exp?new kn(t):null}function Un(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pn(t))}catch(t){}return null}function jn(t){for(var e in ul)if(ul[e].Na==t)return ul[e];return null}function Bn(t){var e={};e["facebook.com"]=Hn,e["google.com"]=Wn,e["github.com"]=Gn,e["twitter.com"]=qn;var n=t&&t[ll];try{if(n)return e[n]?new e[n](t):new Vn(t);if(void 0!==t[cl])return new zn(t)}catch(t){}return null}function zn(t){var e=t[ll];if(!e&&t[cl]){var n=Fn(t[cl]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),wn(this,"providerId",e),wn(this,"isNewUser",n)}function Vn(t){zn.call(this,t),t=fn(t.rawUserInfo||"{}"),wn(this,"profile",Mn(t||{}))}function Hn(t){if(Vn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gn(t){if(Vn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");wn(this,"username",this.profile&&this.profile.login||null)}function Wn(t){if(Vn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qn(t){if(Vn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");wn(this,"username",t.screenName||null)}function Yn(t){this.a=ne(t)}function Xn(t){var e=ne(t),n=ee(e,"link"),r=ee(ne(n),"link");return e=ee(e,"deep_link_id"),ee(ne(e),"link")||e||r||n||t}function $n(t,e){return t.then(function(t){if(t[Il]){var n=Fn(t[Il]);if(!n||e!=n.c)throw new An("user-mismatch");return t}throw new An("user-mismatch")}).m(function(t){throw t&&t.code&&t.code==Xc+"user-not-found"?new An("user-mismatch"):t})}function Qn(t,e,n){if(e.idToken||e.accessToken)e.idToken&&wn(this,"idToken",e.idToken),e.accessToken&&wn(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new An("internal-error","failed to construct a credential");wn(this,"accessToken",e.oauthToken),wn(this,"secret",e.oauthTokenSecret)}wn(this,"providerId",t),wn(this,"signInMethod",n)}function Kn(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:ce(e).toString(),requestUri:"http://localhost"}}function Zn(t,e){this.Ac=e||[],xn(this,{providerId:t,isOAuthProvider:!0}),this.tb={},this.Za=(jn(t)||{}).Ma||null,this.Xa=null}function Jn(t){Zn.call(this,t,sl),this.a=[]}function tr(){Jn.call(this,"facebook.com")}function er(t){if(!t)throw new An("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new tr).credential(null,e)}function nr(){Jn.call(this,"github.com")}function rr(t){if(!t)throw new An("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new nr).credential(null,e)}function ir(){Jn.call(this,"google.com"),this.ta("profile")}function or(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new ir).credential(n,e)}function ar(){Zn.call(this,"twitter.com",al)}function sr(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new An("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qn("twitter.com",n,"twitter.com")}function ur(t,e,n){this.a=t,this.b=e,wn(this,"providerId","password"),wn(this,"signInMethod",n===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function cr(){xn(this,{providerId:"password",isOAuthProvider:!1})}function lr(t,e){if(!(e=hr(e)))throw new An("argument-error","Invalid email link!");return new ur(t,e,cr.EMAIL_LINK_SIGN_IN_METHOD)}function hr(t){t=Xn(t),t=new Yn(t);var e=ee(t.a,"oobCode")||null;return"signIn"===(ee(t.a,"mode")||null)&&e?e:null}function fr(t){if(!(t.Ra&&t.Qa||t.Ea&&t.Z))throw new An("internal-error");this.a=t,wn(this,"providerId","phone"),wn(this,"signInMethod","phone")}function pr(t){return t.a.Ea&&t.a.Z?{temporaryProof:t.a.Ea,phoneNumber:t.a.Z}:{sessionInfo:t.a.Ra,code:t.a.Qa}}function dr(t){try{this.a=t||fu.auth()}catch(t){throw new An("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}xn(this,{providerId:"phone",isOAuthProvider:!1})}function vr(t,e){if(!t)throw new An("missing-verification-id");if(!e)throw new An("missing-verification-code");return new fr({Ra:t,Qa:e})}function mr(t){if(t.temporaryProof&&t.phoneNumber)return new fr({Ea:t.temporaryProof,Z:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return or(t,n);case"facebook.com":return er(n);case"github.com":return rr(n);case"twitter.com":return sr(n,r);default:return new Jn(e).credential(t,n)}}catch(t){return null}}function gr(t){if(!t.isOAuthProvider)throw new An("invalid-oauth-provider")}function yr(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new An("invalid-auth-event");if(this.f&&this.a)throw new An("invalid-auth-event");if(this.f&&!this.g)throw new An("invalid-auth-event")}function _r(t){return t=t||{},t.type?new yr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&In(t.error)):null}function br(){this.b=null,this.a=[]}function wr(t){var e="unauthorized-domain",n=void 0,r=ne(t);t=r.b,r=r.c,"chrome-extension"==r?n=R("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=R("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",An.call(this,e,n)}function xr(t,e,n){An.call(this,t,n),t=e||{},t.ub&&wn(this,"email",t.ub),t.Z&&wn(this,"phoneNumber",t.Z),t.credential&&wn(this,"credential",t.credential)}function Er(t){if(t.code){var e=t.code||"";0==e.indexOf(Xc)&&(e=e.substring(Xc.length));var n={credential:mr(t)};if(t.email)n.ub=t.email;else{if(!t.phoneNumber)return new An(e,t.message||void 0);n.Z=t.phoneNumber}return new xr(e,n,t.message)}return null}function Tr(){}function Sr(t){return t.c||(t.c=t.b())}function Mr(){}function Cr(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ar(){}function Ir(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=f(this.bc,this),this.a.onerror=f(this.zb,this),this.a.onprogress=f(this.cc,this),this.a.ontimeout=f(this.fc,this)}function Or(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Nr(t,e,n){this.reset(t,e,n,void 0,void 0)}function Rr(t){this.f=t,this.b=this.c=this.a=null}function Pr(t,e){this.name=t,this.value=e}function Lr(t){return t.c?t.c:t.a?Lr(t.a):(_("Root logger has no level set."),null)}function Dr(t){bl||(bl=new Rr(""),_l[""]=bl,bl.c=gl);var e;if(!(e=_l[t])){e=new Rr(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Dr(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,_l[t]=e}return e}function kr(t,e){t&&t.log(yl,e,void 0)}function Fr(t){this.f=t}function Ur(t){Ft.call(this),this.j=t,this.readyState=wl,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Dr("goog.net.FetchXmlHttp")}function jr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Br(t){Ft.call(this),this.headers=new qt,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.j=this.G=!1,this.g=0,this.s=null,this.o=xl,this.v=this.O=!1}function zr(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():pl.a(),t.B=Sr(t.D?t.D:pl),t.a.onreadystatechange=f(t.Db,t);try{kr(t.b,Zr(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return kr(t.b,Zr(t,"Error opening Xhr: "+e.message)),void Gr(t,e)}e=r||"";var o=new qt(t.headers);i&&Wt(i,function(t,e){o.set(e,t)}),i=M(o.U()),r=du.FormData&&e instanceof du.FormData,!C(Tl,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Xr(t),0<t.g&&(t.v=Vr(t.a),kr(t.b,Zr(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=f(t.Fa,t)):t.s=zt(t.Fa,t.g,t)),kr(t.b,Zr(t,"Sending request")),t.j=!0,t.a.send(e),t.j=!1}catch(e){kr(t.b,Zr(t,"Send error: "+e.message)),Gr(t,e)}}function Vr(t){return Xu&&gt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Hr(t){return"content-type"==t.toLowerCase()}function Gr(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Wr(t),Yr(t)}function Wr(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function qr(t){if(t.c&&void 0!==pu)if(t.B[1]&&4==$r(t)&&2==Qr(t))kr(t.b,Zr(t,"Local request error detected and ignored"));else if(t.j&&4==$r(t))zt(t.Db,0,t);else if(t.dispatchEvent("readystatechange"),4==$r(t)){kr(t.b,Zr(t,"Request complete")),t.c=!1;try{var e=Qr(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.l).match(mc)[1]||null;if(!o&&du.self&&du.self.location){var a=du.self.location.protocol;o=a.substr(0,a.length-1)}i=!El.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<$r(t)?t.a.statusText:""}catch(e){kr(t.b,"Can not get status: "+e.message),s=""}t.h=s+" ["+Qr(t)+"]",Wr(t)}}finally{Yr(t)}}}function Yr(t,e){if(t.a){Xr(t);var n=t.a,i=t.B[0]?r:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(vl,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Xr(t){t.a&&t.v&&(t.a.ontimeout=null),t.s&&(du.clearTimeout(t.s),t.s=null)}function $r(t){return t.a?t.a.readyState:0}function Qr(t){try{return 2<$r(t)?t.a.status:-1}catch(t){return-1}}function Kr(t){try{return t.a?t.a.responseText:""}catch(e){return kr(t.b,"Can not get responseText: "+e.message),""}}function Zr(t,e){return e+" ["+t.N+" "+t.l+" "+Qr(t)+"]"}function Jr(t,e){this.g=[],this.v=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.j=!1,this.h=0,this.b=null,this.l=0}function ti(t,e,n){t.a=!0,t.c=n,t.f=!e,oi(t)}function ei(t){if(t.a){if(!t.u)throw new ai(t);t.u=!1}}function ni(t,e){ri(t,null,e,void 0)}function ri(t,e,n,r){t.g.push([e,n,r]),t.a&&oi(t)}function ii(t){return Eu(t.g,function(t){return u(t[1])})}function oi(t){if(t.h&&t.a&&ii(t)){var e=t.h,n=Sl[e];n&&(du.clearTimeout(n.a),delete Sl[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.j;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(m(e)||"function"==typeof du.Promise&&e instanceof du.Promise)&&(r=!0,t.j=!0)}catch(r){e=r,t.f=!0,ii(t)||(n=!0)}}t.c=e,r&&(s=f(t.o,t,!0),r=f(t.o,t,!1),e instanceof Jr?(ri(e,s,r),e.B=!0):e.then(s,r)),n&&(e=new ui(e),Sl[e.a]=e,t.h=e.a)}function ai(){g.call(this)}function si(){g.call(this)}function ui(t){this.a=du.setTimeout(f(this.c,this),0),this.b=t}function ci(t){var e={},n=e.document||document,r=_e(t),i=document.createElement("SCRIPT"),o={Fb:i,Fa:void 0},a=new Jr(hi,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){fi(i,!0);var t=new pi(Cl,"Timeout reached for loading script "+r);ei(a),ti(a,!1,t)},u),o.Fa=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fi(i,e.bd||!1,s),a.D())},i.onerror=function(){fi(i,!0,s);var t=new pi(Ml,"Error while loading script "+r);ei(a),ti(a,!1,t)},o=e.attributes||{},B(o,{type:"text/javascript",charset:"UTF-8"}),Oe(i,o),i.src=_e(t),li(n).appendChild(i),a}function li(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function hi(){if(this&&this.Fb){var t=this.Fb;t&&"SCRIPT"==t.tagName&&fi(t,!0,this.Fa)}}function fi(t,e,n){null!=n&&du.clearTimeout(n),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function pi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),g.call(this,n),this.code=t}function di(t){this.f=t}function vi(t,e,n){if(this.b=t,t=e||{},this.j=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Ol,this.f=j(t.secureTokenHeaders||Nl),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Rl,this.a=j(t.firebaseHeaders||Pl),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==Ze(),!(n=du.XMLHttpRequest||n&&fu.INTERNAL.node&&fu.INTERNAL.node.XMLHttpRequest)&&!Ke())throw new An("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Ke()?this.c=new Fr(self):Je()?this.c=new di(n):this.c=new Ar}function mi(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function gi(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function yi(t,e,n,r,i,o,a){Ve()||Ke()?t=f(t.o,t):(Al||(Al=new q(function(t,e){_i(t,e)})),t=f(t.u,t)),t(e,n,r,i,o,a)}function _i(t,e){if(((window.gapi||{}).client||{}).request)t();else{du[Dl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};ni(ci(be(Ll,{onload:Dl})),function(){e(Error("CORS_UNSUPPORTED"))})}}function bi(t,e){return new q(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?yi(t,t.j+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(ji(t)):t.access_token&&t.refresh_token?n(t):r(new An("internal-error")):r(new An("network-request-failed"))},"POST",ce(e).toString(),t.f,t.l.get()):r(new An("internal-error"))})}function wi(t,e,n,r,i,o){var a=ne(t.g+e);te(a,"key",t.b),o&&te(a,"cb",gu().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&te(a,u,r[u]);return new q(function(e,o){yi(t,a.toString(),function(t){t?t.error?o(ji(t,i||{})):e(t):o(new An("network-request-failed"))},n,s?void 0:Le(hn(r)),t.a,t.h.get())})}function xi(t){if(!fl.test(t.email))throw new An("invalid-email")}function Ei(t){"email"in t&&xi(t)}function Ti(t,e){return Fi(t,zl,{identifier:e,continueUri:sn()?je():"http://localhost"}).then(function(t){return t.allProviders||[]})}function Si(t,e){return Fi(t,zl,{identifier:e,continueUri:sn()?je():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Mi(t){return Fi(t,Ql,{}).then(function(t){return t.authorizedDomains||[]})}function Ci(t){if(!t[Il])throw new An("internal-error")}function Ai(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new An("internal-error")}else{if(!t.sessionInfo)throw new An("missing-verification-id");if(!t.code)throw new An("missing-verification-code")}}function Ii(t,e){return Fi(t,Jl,e)}function Oi(t,e,n){return Fi(t,Hl,{idToken:e,deleteProvider:n})}function Ni(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new An("internal-error")}function Ri(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Er(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Er(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Er(t)):t.errorMessage&&(e=Ui(t.errorMessage)),e)throw e;if(!t[Il])throw new An("internal-error")}function Pi(t,e){return e.returnIdpCredential=!0,Fi(t,rh,e)}function Li(t,e){return e.returnIdpCredential=!0,Fi(t,oh,e)}function Di(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Fi(t,ih,e)}function ki(t){if(!t.oobCode)throw new An("invalid-action-code")}function Fi(t,e,n){if(!Sn(n,e.T))return Q(new An("internal-error"));var r,i=e.Cb||"POST";return $(n).then(e.A).then(function(){return e.R&&(n.returnSecureToken=!0),wi(t,e.endpoint,i,n,e.Tb,e.pb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.ba)return r;if(!(e.ba in r))throw new An("internal-error");return r[e.ba]})}function Ui(t){return ji({error:{errors:[{message:t}],code:400,message:t}})}function ji(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new An(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},B(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new An(r[i],e);return!e&&t&&(e=ln(t)),new An("internal-error",e)}function Bi(t){for(var e in hh)if(hh[e].id===t)return t=hh[e],{firebaseEndpoint:t.Ya,secureTokenEndpoint:t.eb};return null}function zi(t){this.b=t,this.a=null,this.ab=Vi(this)}function Vi(t){return Wi().then(function(){return new q(function(e,n){rn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},dh.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function Hi(t,e){return t.ab.then(function(){return new q(function(n){t.a.send(e.type,e,n,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Gi(t,e){t.ab.then(function(){t.a.register("authEvent",e,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Wi(){return vh||(vh=new q(function(t,e){function n(){vn(),rn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){vn(),e(Error("Network Error"))},timeout:ph.get()})}if(rn("gapi.iframes.Iframe"))t();else if(rn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();du[r]=function(){rn("gapi.load")?n():e(Error("Network Error"))},r=be(fh,{onload:r}),$(ci(r)).m(function(){e(Error("Network Error"))})}}).m(function(t){throw vh=null,t}))}function qi(t,e,n){this.j=t,this.g=e,this.h=n,this.f=null,this.a=re(this.j,"/__/auth/iframe"),te(this.a,"apiKey",this.g),te(this.a,"appName",this.h),this.b=null,this.c=[]}function Yi(t,e,n,r,i){this.o=t,this.u=e,this.c=n,this.l=r,this.h=this.g=this.j=null,this.a=i,this.f=null}function Xi(t){try{return fu.app(t).auth().Ka()}catch(t){return[]}}function $i(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.s=this.v=null,this.g=[],this.l=this.a=null}function Qi(t){var e=je();return Mi(t).then(function(t){t:{var n=ne(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=ne(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Pc.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new wr(je())})}function Ki(t){return t.l?t.l:(t.l=Ye().then(function(){if(!t.s){var e=t.c,n=t.h,r=Xi(t.b),i=new qi(t.u,t.f,t.b);i.f=e,i.b=n,i.c=N(r||[]),t.s=i.toString()}t.j=new zi(t.s),to(t)}),t.l)}function Zi(t){return t.o||(t.v=t.c?en(t.c,Xi(t.b)):null,t.o=new vi(t.f,Bi(t.h),t.v)),t.o}function Ji(t,e,n,r,i,o,a,s,u,c){return t=new Yi(t,e,n,r,i),t.j=o,t.g=a,t.h=s,t.b=j(u||null),t.f=c,t.toString()}function to(t){if(!t.j)throw Error("IfcHandler must be initialized!");Gi(t.j,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=_r(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",$(n)}return n.status="ERROR",$(n)})}function eo(t){var e={type:"webStorageSupport"};return Ki(t).then(function(){return Hi(t.j,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function no(t){if(this.a=t||fu.INTERNAL.reactNative&&fu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new An("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ro(){if(!so())throw new An("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=du.indexedDB,this.type="indexedDB"}function io(t){return new q(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function oo(t){return new q(function(e,n){var r=t.g.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):io(t).then(function(){return oo(t)}).then(function(t){e(t)}).m(function(t){n(t)})}})}function ao(t){return t.h||(t.h=oo(t)),t.h}function so(){try{return!!du.indexedDB}catch(t){return!1}}function uo(t){return t.objectStore("firebaseLocalStorage")}function co(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function lo(t){return new q(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function ho(t){function e(){return t.c=Vt(800).then(f(t.Jc,t)).then(function(e){0<e.length&&wu(t.a,function(t){t(e)})}).then(e).m(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}t.c&&t.c.cancel("STOP_EVENT"),e()}function fo(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=$().then(function(){return so()?(mh||(mh=new ro),n=mh,n.set("__sak","!").then(function(){return n.get("__sak")}).then(function(t){if("!"!==t)throw Error("indexedDB not supported!");return n.P("__sak")}).then(function(){return n}).m(function(){return e.c})):e.c}).then(function(t){return e.type=t.type,t.Y(function(t){wu(e.a,function(e){e(t)})}),t})}function po(){this.a={},this.type="inMemory"}function vo(){if(!go()){if("Node"==Ze())throw new An("internal-error","The LocalStorage compatibility library was not found.");throw new An("web-storage-unsupported")}this.a=mo()||fu.INTERNAL.node.localStorage,this.type="localStorage"}function mo(){try{var t=du.localStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function go(){var t="Node"==Ze();if(!(t=mo()||t&&fu.INTERNAL.node&&fu.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function yo(){this.type="nullStorage"}function _o(){if(!wo()){if("Node"==Ze())throw new An("internal-error","The SessionStorage compatibility library was not found.");throw new An("web-storage-unsupported")}this.a=bo()||fu.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function bo(){try{var t=du.sessionStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function wo(){var t="Node"==Ze();if(!(t=bo()||t&&fu.INTERNAL.node&&fu.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function xo(){var t={};t.Browser=_h,t.Node=bh,t.ReactNative=wh,t.Worker=xh,this.a=t[Ze()]}function Eo(t){var e=new An("invalid-persistence-type"),n=new An("unsupported-persistence-type");t:{for(r in Eh)if(Eh[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ze()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!on()&&"none"!==t)throw n}}function To(){var t=!(dn(nn())||!Qe()),e=cn(),n=on();this.o=t,this.h=e,this.l=n,this.a={},gh||(gh=new xo),t=gh;try{this.g=!Ue()&&bn()||!du.indexedDB?new t.a.w:new fo(Ke()?new po:new t.a.w)}catch(t){this.g=new po,this.h=!0}try{this.j=new t.a.Pa}catch(t){this.j=new po}this.u=new po,this.f=f(this.Kb,this),this.b={}}function So(){return yh||(yh=new To),yh}function Mo(t,e){switch(e){case"session":return t.j;case"none":return t.u;default:return t.g}}function Co(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ao(t,e,n){var r=Co(e,n),i=Mo(t,e.w);return t.get(e,n).then(function(o){var a=null;try{a=fn(du.localStorage.getItem(r))}catch(t){}if(a&&!o)return du.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&du.localStorage.removeItem(r)})}function Io(t,e,n){return n=Co(e,n),"local"==e.w&&(t.b[n]=null),Mo(t,e.w).P(n)}function Oo(t){No(t),t.c=setInterval(function(){for(var e in t.a){var n=du.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new _t({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Kb(n))}},1e3)}function No(t){t.c&&(clearInterval(t.c),t.c=null)}function Ro(t){this.a=t,this.b=So()}function Po(t){return t.b.get(Sh,t.a).then(function(t){return _r(t)})}function Lo(){this.a=So()}function Do(){this.b=-1}function ko(t,e){this.b=-1,this.b=Mh,this.f=du.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.j=t,this.h=e,this.l=du.Int32Array?new Int32Array(64):Array(64),void 0!==Th||(Th=du.Int32Array?new Int32Array(Nh):Nh),this.reset()}function Fo(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Th[e])|0,a=o+(a+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Uo(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if(t(n))for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(Fo(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(Fo(e),o=0)}}e.c=o,e.g+=r}function jo(){ko.call(this,8,Rh)}function Bo(t,e,n,r,i){this.u=t,this.j=e,this.l=n,this.o=r||null,this.s=i||null,this.h=e+":"+n,this.v=new Lo,this.g=new Ro(this.h),this.f=null,this.b=[],this.a=this.c=null}function zo(t){return new An("invalid-cordova-configuration",t)}function Vo(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Ho(t){var e=new jo;Uo(e,t),t=[];var n=8*e.g;56>e.c?Uo(e,Oh,56-e.c):Uo(e,Oh,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Fo(e),r=n=0;r<e.j;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Rn(t)}function Go(t,e,n,r){var i=Vo(),o=new yr(e,r,null,i,new An("no-auth-event")),a=rn("BuildInfo.packageName",du);if("string"!=typeof a)throw new An("invalid-cordova-configuration");var s=rn("BuildInfo.displayName",du),u={};if(nn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!nn().toLowerCase().match(/android/))return Q(new An("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=Ho(i),u.sessionId=i;var c=Ji(t.u,t.j,t.l,e,n,null,r,t.o,u,t.s);return t.ea().then(function(){var e=t.h;return t.v.a.set(Sh,o.C(),e)}).then(function(){var e=rn("cordova.plugins.browsertab.isAvailable",du);if("function"!=typeof e)throw new An("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=rn("cordova.plugins.browsertab.openUrl",du)))throw new An("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=rn("cordova.InAppBrowser.open",du)))throw new An("invalid-cordova-configuration");e=nn(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function Wo(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function qo(t){return t.f||(t.f=t.ea().then(function(){return new q(function(e){function n(r){return e(r),t.Ja(n),!1}t.va(n),Xo(t)})})),t.f}function Yo(t){var e=null;return Po(t.g).then(function(n){return e=n,n=t.g,Io(n.b,Sh,n.a)}).then(function(){return e})}function Xo(t){function e(e){r=!0,i&&i.cancel(),Yo(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;i=Xn(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ne(i),o=fn(ee(o,"firebaseError")||null),o=(o="object"==typeof o?In(o):null)?new yr(r.b,r.c,null,null,o):new yr(r.b,r.c,i,r.g)),i=o||n}Wo(t,i)})}var n=new yr("unknown",null,null,null,new An("no-auth-event")),r=!1,i=Vt(500).then(function(){return Yo(t).then(function(){r||Wo(t,n)})}),o=du.handleOpenURL;du.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(rn("BuildInfo.packageName",du).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},hl||(hl=new br),hl.subscribe(e)}function $o(t){this.a=t,this.b=So()}function Qo(t){return t.b.set(Ph,"pending",t.a)}function Ko(t){return Io(t.b,Ph,t.a)}function Zo(t){return t.b.get(Ph,t.a).then(function(t){return"pending"==t})}function Jo(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.j=f(this.o,this),this.c=new aa,this.s=new pa,this.g=new $o(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=ta(this.v,this.l,this.u,Fl)}function ta(t,e,n,r){var i=fu.SDK_VERSION||null;return $e()?new Bo(t,e,n,i,r):new $i(t,e,n,i,r)}function ea(t){t.f||(t.f=!0,t.a.va(t.j));var e=t.a;return t.a.ea().m(function(n){throw t.a==e&&t.reset(),n})}function na(t){t.a.Gb()&&ea(t).m(function(e){var n=new yr("unknown",null,null,null,new An("operation-not-supported-in-this-environment"));ia(e)&&t.o(n)}),t.a.Bb()||sa(t.c)}function ra(t,e,n,r,i,o){return t.a.xb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.j))},function(){t.reset()},i,o)}function ia(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function oa(t,e,n){var r=e+":"+n;return kh[r]||(kh[r]=new Jo(t,e,n)),kh[r]}function aa(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function sa(t){t.g||(t.g=!0,ha(t,!1,null,null))}function ua(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){ha(t,o,e,null)}).m(function(e){ha(t,o,null,e)})}function ca(t,e){if(t.b=function(){return Q(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function la(t,e){if(t.b=function(){return $(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ha(t,e,n,r){e?r?ca(t,r):la(t,n):la(t,{user:null}),t.f=[],t.c=[]}function fa(t){var e=new An("timeout");t.a&&t.a.cancel(),t.a=Vt(Dh.get()).then(function(){t.b||ha(t,!0,null,e)})}function pa(){}function da(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ga(r,t,null,n)}).m(function(t){e.ga(r,null,t,n)})}function va(t,e){this.a=e,wn(this,"verificationId",t)}function ma(t,e,n,r){return new dr(t).Sa(e,n).then(function(t){return new va(t,r)})}function ga(t){var e=Un(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new An("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");xn(this,{token:t,expirationTime:_n(1e3*e.exp),authTime:_n(1e3*e.auth_time),issuedAtTime:_n(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function ya(t,e,n){if(this.h=t,this.j=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _a(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ba(t,e){t.stop(),t.b=Vt(_a(t,e)).then(function(){return yn()}).then(function(){return t.h()}).then(function(){ba(t,!0)}).m(function(e){t.j(e)&&ba(t,!1)})}function wa(t){this.f=t,this.b=this.a=null,this.c=0}function xa(t,e){var n=e[Il],r=e.refreshToken;e=Ea(e.expiresIn),t.b=n,t.c=e,t.a=r}function Ea(t){return gu()+1e3*parseInt(t,10)}function Ta(t,e){return bi(t.f,e).then(function(e){return t.b=e.access_token,t.c=Ea(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).m(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Sa(t,e){this.a=t||null,this.b=e||null,xn(this,{lastSignInTime:_n(e||null),creationTime:_n(t||null)})}function Ma(t){return new Sa(t.a,t.b)}function Ca(t,e,n,r,i,o){xn(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Aa(t,e){yt.call(this,t);for(var n in e)this[n]=e[n]}function Ia(t,e,n){this.D=[],this.G=t.apiKey,this.s=t.appName,this.B=t.authDomain||null,t=fu.SDK_VERSION?en(fu.SDK_VERSION):null,this.b=new vi(this.G,Bi(Fl),t),this.h=new wa(this.b),Fa(this,e[Il]),xa(this.h,e),wn(this,"refreshToken",this.h.a),za(this,n||{}),Ft.call(this),this.I=!1,this.B&&an()&&(this.a=oa(this.B,this.G,this.s)),this.N=[],this.j=null,this.l=La(this),this.V=f(this.Ga,this);var r=this;this.ia=null,this.sa=function(t){r.na(t.g)},this.X=null,this.O=[],this.ra=function(t){Na(r,t.c)},this.W=null}function Oa(t,e){t.X&&It(t.X,"languageCodeChanged",t.sa),(t.X=e)&&St(e,"languageCodeChanged",t.sa)}function Na(t,e){t.O=e,gi(t.b,fu.SDK_VERSION?en(fu.SDK_VERSION,t.O):null)}function Ra(t,e){t.W&&It(t.W,"frameworkChanged",t.ra),(t.W=e)&&St(e,"frameworkChanged",t.ra)}function Pa(t){try{return fu.app(t.s).auth()}catch(e){throw new An("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.s+"'!")}}function La(t){return new ya(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-gu()-3e5;return 0<e?e:0})}function Da(t){t.o||t.l.b||(t.l.start(),It(t,"tokenChanged",t.V),St(t,"tokenChanged",t.V))}function ka(t){It(t,"tokenChanged",t.V),t.l.stop()}function Fa(t,e){t.qa=e,wn(t,"_lat",e)}function Ua(t,e){I(t.N,function(t){return t==e})}function ja(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return J(e).then(function(){return t})}function Ba(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function za(t,e){xn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Sa(e.createdAt,e.lastLoginAt),providerData:[]})}function Va(){}function Ha(t){return $().then(function(){if(t.o)throw new An("app-deleted")})}function Ga(t){return xu(t.providerData,function(t){return t.providerId})}function Wa(t,e){e&&(qa(t,e.providerId),t.providerData.push(e))}function qa(t,e){I(t.providerData,function(t){return t.providerId==e})}function Ya(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&wn(t,e,n)}function Xa(t,e){t!=e&&(xn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?wn(t,"metadata",Ma(e.metadata)):wn(t,"metadata",new Sa),wu(e.providerData,function(e){Wa(t,e)}),t.h=e.h,wn(t,"refreshToken",t.h.a))}function $a(t){return t.F().then(function(e){var n=t.isAnonymous;return Ka(t,e).then(function(){return n||Ya(t,"isAnonymous",!1),e})})}function Qa(t,e){e[Il]&&t.qa!=e[Il]&&(xa(t.h,e),t.dispatchEvent(new Aa("tokenChanged")),Fa(t,e[Il]),Ya(t,"refreshToken",t.h.a))}function Ka(t,e){return Fi(t.b,ql,{idToken:e}).then(f(t.uc,t))}function Za(t){return(t=t.providerUserInfo)&&t.length?xu(t,function(t){return new Ca(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Ja(t,e){return $a(t).then(function(){if(C(Ga(t),e))return ja(t).then(function(){throw new An("provider-already-linked")})})}function ts(t,e,n){var r=mr(e);return e=Bn(e),En({user:t,credential:r,additionalUserInfo:e,operationType:n})}function es(t,e){return Qa(t,e),t.reload().then(function(){return t})}function ns(t,e,n,r,i){if(!an())return Q(new An("operation-not-supported-in-this-environment"));if(t.j&&!i)return Q(t.j);var o=jn(n.providerId),a=pn(t.uid+":::"),s=null;(!cn()||Qe())&&t.B&&n.isOAuthProvider&&(s=Ji(t.B,t.G,t.s,e,n,null,a,fu.SDK_VERSION||null));var u=We(s,o&&o.Aa,o&&o.za);return r=r().then(function(){if(is(t),!i)return t.F().then(function(){})}).then(function(){return ra(t.a,u,e,n,a,!!s)}).then(function(){return new q(function(n,r){t.ga(e,null,new An("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Da(t,e,u,a)})}).then(function(t){return u&&Ge(u),t?En(t):null}).m(function(t){throw u&&Ge(u),t}),os(t,r,i)}function rs(t,e,n,r,i){if(!an())return Q(new An("operation-not-supported-in-this-environment"));if(t.j&&!i)return Q(t.j);var o=null,a=pn(t.uid+":::");return r=r().then(function(){if(is(t),!i)return t.F().then(function(){})}).then(function(){return t.$=a,ja(t)}).then(function(e){return t.fa&&(e=t.fa,e=e.b.set(Fh,t.C(),e.a)),e}).then(function(){return t.a.Ba(e,n,a)}).m(function(e){if(o=e,t.fa)return ls(t.fa);throw o}).then(function(){if(o)throw o}),os(t,r,i)}function is(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new An("internal-error");throw new An("auth-domain-config-required")}}function os(t,e,n){var r=as(t,e,n);return t.D.push(r),r.ha(function(){A(t.D,r)}),r}function as(t,e,n){return t.j&&!n?(e.cancel(),Q(t.j)):e.m(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.j||t.dispatchEvent(new Aa("userInvalidated")),t.j=e),e})}function ss(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Il]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-gu())/1e3;var r=new Ia(e,n,t);return t.providerData&&wu(t.providerData,function(t){t&&Wa(r,En(t))}),t.redirectEventId&&(r.$=t.redirectEventId),r}function us(t,e,n,r){var i=new Ia(t,e);return n&&(i.fa=n),r&&Na(i,r),i.reload().then(function(){return i})}function cs(t){this.a=t,this.b=So()}function ls(t){return Io(t.b,Fh,t.a)}function hs(t,e){return t.b.get(Fh,t.a).then(function(t){return t&&e&&(t.authDomain=e),ss(t||{})})}function fs(t){this.a=t,this.b=So(),this.c=null,this.f=ds(this),this.b.addListener(vs("local"),this.a,f(this.g,this))}function ps(t,e){var n,r=[];for(n in Eh)Eh[n]!==e&&r.push(Io(t.b,vs(Eh[n]),t.a));return r.push(Io(t.b,Uh,t.a)),Z(r)}function ds(t){var e=vs("local"),n=vs("session"),r=vs("none");return Ao(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Uh,t.a).then(function(t){return t?vs(t):e})})})}).then(function(e){return t.c=e,ps(t,e.w)}).m(function(){t.c||(t.c=e)})}function vs(t){return{name:"authUser",w:t}}function ms(t){return bs(t,function(){return t.b.set(Uh,t.c.w,t.a)})}function gs(t,e){return bs(t,function(){return t.b.set(t.c,e.C(),t.a)})}function ys(t){return bs(t,function(){return Io(t.b,t.c,t.a)})}function _s(t,e){return bs(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),ss(t||{})})})}function bs(t,e){return t.f=t.f.then(e,e),t.f}function ws(t){if(this.l=!1,wn(this,"app",t),!Ps(this).options||!Ps(this).options.apiKey)throw new An("invalid-api-key");t=fu.SDK_VERSION?en(fu.SDK_VERSION):null,this.b=new vi(Ps(this).options&&Ps(this).options.apiKey,Bi(Fl),t),this.N=[],this.o=[],this.I=[],this.Ob=fu.INTERNAL.createSubscribe(f(this.ic,this)),this.O=void 0,this.Pb=fu.INTERNAL.createSubscribe(f(this.jc,this)),As(this,null),this.h=new fs(Ps(this).options.apiKey+":"+Ps(this).name),this.G=new cs(Ps(this).options.apiKey+":"+Ps(this).name),this.V=Us(this,Os(this)),this.j=Us(this,Ns(this)),this.X=!1,this.ia=f(this.Ic,this),this.Ga=f(this.ka,this),this.qa=f(this.Yb,this),this.ra=f(this.gc,this),this.sa=f(this.hc,this),Ms(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.qc,this),this.s=0,Ft.call(this),Ts(this),this.D=[]}function xs(t){yt.call(this,"languageCodeChanged"),this.g=t}function Es(t){yt.call(this,"frameworkChanged"),this.c=t}function Ts(t){Object.defineProperty(t,"lc",{get:function(){return this.ca()},set:function(t){this.na(t)},enumerable:!1}),t.W=null}function Ss(t){return t.Nb||Q(new An("auth-domain-config-required"))}function Ms(t){var e=Ps(t).options.authDomain,n=Ps(t).options.apiKey;e&&an()&&(t.Nb=t.V.then(function(){if(!t.l){if(t.a=oa(e,n,Ps(t).name),t.a.subscribe(t),Ls(t)&&Ba(Ls(t)),t.B){Ba(t.B);var r=t.B;r.na(t.ca()),Oa(r,t),r=t.B,Na(r,t.D),Ra(r,t),t.B=null}return t.a}}))}function Cs(t,e){var n={};return n.apiKey=Ps(t).options.apiKey,n.authDomain=Ps(t).options.authDomain,n.appName=Ps(t).name,t.V.then(function(){return us(n,e,t.G,t.Ka())}).then(function(e){return Ls(t)&&e.uid==Ls(t).uid?(Xa(Ls(t),e),t.ka(e)):(As(t,e),Ba(e),t.ka(e))}).then(function(){ks(t)})}function As(t,e){Ls(t)&&(Ua(Ls(t),t.Ga),It(Ls(t),"tokenChanged",t.qa),It(Ls(t),"userDeleted",t.ra),It(Ls(t),"userInvalidated",t.sa),ka(Ls(t))),e&&(e.N.push(t.Ga),St(e,"tokenChanged",t.qa),St(e,"userDeleted",t.ra),St(e,"userInvalidated",t.sa),0<t.s&&Da(e)),wn(t,"currentUser",e),e&&(e.na(t.ca()),Oa(e,t),Na(e,t.D),Ra(e,t))}function Is(t){var e=hs(t.G,Ps(t).options.authDomain).then(function(e){return(t.B=e)&&(e.fa=t.G),ls(t.G)});return Us(t,e)}function Os(t){var e=Ps(t).options.authDomain,n=Is(t).then(function(){return _s(t.h,e)}).then(function(e){return e?(e.fa=t.G,t.B&&(t.B.$||null)==(e.$||null)?e:e.reload().then(function(){return gs(t.h,e).then(function(){return e})}).m(function(n){return"auth/network-request-failed"==n.code?e:ys(t.h)})):null}).then(function(e){As(t,e||null)});return Us(t,n)}function Ns(t){return t.V.then(function(){return t.da()}).m(function(){}).then(function(){if(!t.l)return t.ia()}).m(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(vs("local"),e.a,t.ia)}})}function Rs(t,e){var n=null,r=null;return Us(t,e.then(function(e){return n=mr(e),r=Bn(e),Cs(t,e)}).then(function(){return En({user:Ls(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ps(t){return t.app}function Ls(t){return t.currentUser}function Ds(t){return Ls(t)&&Ls(t)._lat||null}function ks(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Ds(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Ds(t))}}function Fs(t,e){t.I.push(e),Us(t,t.j.then(function(){!t.l&&C(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Ds(t)))}))}function Us(t,e){return t.N.push(e),e.ha(function(){A(t.N,e)}),e}function js(t,e,n,r,i,o){if(wn(this,"type","recaptcha"),this.b=this.c=null,this.o=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[zh])throw new An("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Vh],!du.document)throw new An("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ie(e)||!this.h&&Ie(e).hasChildNodes())throw new An("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new vi(t,o||null,i||null),this.s=r||function(){return null};var a=this;this.j=[];var s=this.a[jh];this.a[jh]=function(t){if(Bs(a,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=rn(s,du);"function"==typeof e&&e(t)}};var u=this.a[Bh];this.a[Bh]=function(){if(Bs(a,null),"function"==typeof u)u();else if("string"==typeof u){var t=rn(u,du);"function"==typeof t&&t()}}}function Bs(t,e){for(var n=0;n<t.j.length;n++)try{t.j[n](e)}catch(t){}}function zs(t,e){I(t.j,function(t){return t==e})}function Vs(t,e){return t.g.push(e),e.ha(function(){A(t.g,e)}),e}function Hs(t){if(t.o)throw new An("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gs(){this.b=du.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Ws(t,e){return new q(function(n,r){var i=setTimeout(function(){r(new An("network-request-failed"))},Gh.get());if(!du.grecaptcha||e!==t.c&&!t.b){du[t.a]=function(){if(du.grecaptcha){t.c=e;var o=du.grecaptcha.render;du.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n()}else clearTimeout(i),r(new An("internal-error"));delete du[t.a]};$(ci(be(Hh,{onload:t.a,hl:e||""}))).m(function(){clearTimeout(i),r(new An("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n()})}function qs(){return Wh||(Wh=new Gs),Wh}function Ys(t,e,n){try{this.f=n||fu.app()}catch(t){throw new An("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new An("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(t){}i=fu.SDK_VERSION?en(fu.SDK_VERSION,i):null,js.call(this,n,t,e,function(){try{var t=r.f.auth().ca()}catch(e){t=null}return t},i,Bi(Fl))}function Xs(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new An("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=qh.length)throw new An("internal-error","Argument validator received an unsupported number of arguments.");n=qh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new An("argument-error",t+" failed: "+r)}function $s(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function Qs(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function Ks(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function Zs(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function Js(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function tu(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function eu(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ws)}}}function nu(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof fu.app.App)}}}function ru(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.xa||!n)}}}function iu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function ou(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function au(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function su(t,e){for(var n in e){var r=e[n].name;t[r]=cu(r,t[n],e[n].i)}}function uu(t,e,n,r){t[e]=cu(e,n,r)}function cu(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Xs(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=lu(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function lu(t){return t=t.split("."),t[t.length-1]}var hu,fu=n(63).default,pu=pu||{},du=this,vu="closure_uid_"+(1e9*Math.random()>>>0),mu=0,gu=Date.now||function(){return+new Date};d(g,Error),g.prototype.name="CustomError",d(y,g),y.prototype.name="AssertionError",b.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var yu=new b(function(){return new T},function(t){t.reset()});x.prototype.add=function(t,e){var n=yu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},T.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},T.prototype.reset=function(){this.next=this.b=this.a=null};var _u,bu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},wu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},xu=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=Array(r),o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=n.call(void 0,o[a],a,e));return i},Eu=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e))return!0;return!1},Tu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Su=/&/g,Mu=/</g,Cu=/>/g,Au=/"/g,Iu=/'/g,Ou=/\x00/g,Nu=/[\x00&<>"']/;t:{var Ru=du.navigator;if(Ru){var Pu=Ru.userAgent;if(Pu){_u=Pu;break t}}_u=""}var Lu,Du,ku="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Fu=!1,Uu=new x,ju=0,Bu=2,zu=3;Y.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Vu=new b(function(){return new Y},function(t){t.reset()});q.prototype.then=function(t,e,n){return nt(this,u(t)?t:null,u(e)?e:null,n)},v(q),hu=q.prototype,hu.ha=function(t,e){return t=X(t,t,e),t.c=!0,et(this,t),this},hu.m=function(t,e){return nt(this,null,t,e)},hu.cancel=function(t){this.a==ju&&H(function(){tt(this,new ht(t))},this)},hu.Kc=function(t){this.a=ju,rt(this,Bu,t)},hu.Lc=function(t){this.a=ju,rt(this,zu,t)},hu.Ub=function(){for(var t;t=st(this);)ut(this,t,this.a,this.j);this.h=!1};var Hu=z;d(ht,g),ht.prototype.name="cancel";var Gu=0,Wu={};ft.prototype.pa=!1,ft.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},dt[" "]=r;var qu,Yu=k("Opera"),Xu=k("Trident")||k("MSIE"),$u=k("Edge"),Qu=$u||Xu,Ku=k("Gecko")&&!(L(_u.toLowerCase(),"webkit")&&!k("Edge"))&&!(k("Trident")||k("MSIE"))&&!k("Edge"),Zu=L(_u.toLowerCase(),"webkit")&&!k("Edge");t:{var Ju="",tc=function(){var t=_u;return Ku?/rv:([^\);]+)(\)|;)/.exec(t):$u?/Edge\/([\d\.]+)/.exec(t):Xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zu?/WebKit\/(\S+)/.exec(t):Yu?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tc&&(Ju=tc?tc[1]:""),Xu){var ec=mt();if(null!=ec&&ec>parseFloat(Ju)){qu=String(ec);break t}}qu=Ju}var nc,rc={},ic=du.document;nc=ic&&Xu?mt()||("CSS1Compat"==ic.compatMode?parseInt(qu,10):5):void 0;var oc=Object.freeze||function(t){return t},ac=!Xu||9<=Number(nc),sc=Xu&&!gt("9"),uc=function(){if(!du.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return du.addEventListener("test",r,e),du.removeEventListener("test",r,e),t}();yt.prototype.preventDefault=function(){this.Eb=!1},d(_t,yt);var cc=oc({2:"touch",3:"pen",4:"mouse"});_t.prototype.preventDefault=function(){_t.lb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},_t.prototype.f=function(){return this.a};var lc="closure_listenable_"+(1e6*Math.random()|0),hc=0;xt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Tt(t,e,r,i);return-1<a?(e=t[a],n||(e.Ha=!1)):(e=new bt(e,this.src,o,!!r,i),e.Ha=n,t.push(e)),e};var fc="closure_lm_"+(1e6*Math.random()|0),pc={},dc=0,vc="__closure_events_fn_"+(1e9*Math.random()>>>0);d(Ft,ft),Ft.prototype[lc]=!0,Ft.prototype.addEventListener=function(t,e,n,r){St(this,t,e,n,r)},Ft.prototype.removeEventListener=function(t,e,n,r){It(this,t,e,n,r)},Ft.prototype.dispatchEvent=function(e){var n,r=this.Ta;if(r)for(n=[];r;r=r.Ta)n.push(r);r=this.Mb;var i=e.type||e;if(t(e))e=new yt(e,r);else if(e instanceof yt)e.target=e.target||r;else{var o=e;e=new yt(i,r),B(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=e.b=n[a];o=Bt(s,i,!0,e)&&o}if(s=e.b=r,o=Bt(s,i,!0,e)&&o,o=Bt(s,i,!1,e)&&o,n)for(a=0;a<n.length;a++)s=e.b=n[a],o=Bt(s,i,!1,e)&&o;return o},Ft.prototype.ua=function(){if(Ft.lb.ua.call(this),this.u){var t,e=this.u,n=0;for(t in e.a){for(var r=e.a[t],i=0;i<r.length;i++)++n,wt(r[i]);delete e.a[t],e.b--}}this.Ta=null},hu=qt.prototype,hu.S=function(){Yt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},hu.U=function(){return Yt(this),this.a.concat()},hu.clear=function(){this.b={},this.c=this.a.length=0},hu.get=function(t,e){return Xt(this.b,t)?this.b[t]:e},hu.set=function(t,e){Xt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},hu.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var mc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Qt.prototype.toString=function(){var t=[],e=this.c;e&&t.push(oe(e,gc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(oe(e,gc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.j)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(oe(n,"/"==n.charAt(0)?_c:yc,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",oe(n,wc)),t.join("")};var gc=/[#\/\?@]/g,yc=/[#\?:]/g,_c=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;hu=se.prototype,hu.add=function(t,e){ue(this),this.c=null,t=pe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},hu.clear=function(){this.a=this.c=null,this.b=0},hu.forEach=function(t,e){ue(this),this.a.forEach(function(n,r){wu(n,function(n){t.call(e,n,r,this)},this)},this)},hu.U=function(){ue(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},hu.S=function(e){ue(this);var n=[];if(t(e))he(this,e)&&(n=O(n,this.a.get(pe(this,e))));else{e=this.a.S();for(var r=0;r<e.length;r++)n=O(n,e[r])}return n},hu.set=function(t,e){return ue(this),this.c=null,t=pe(this,t),he(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},hu.get=function(t,e){return t=t?this.S(t):[],0<t.length?String(t[0]):e},hu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var xc=!Xu||9<=Number(nc);ve.prototype.la=!0,ve.prototype.ja=function(){return this.a},ve.prototype.toString=function(){return"Const{"+this.a+"}"};var Ec={};ge(""),ye.prototype.la=!0,ye.prototype.ja=function(){return this.a},ye.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tc=/%{(\w+)}/g,Sc=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Mc={};xe.prototype.la=!0,xe.prototype.ja=function(){return this.a},xe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Cc=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Ac={};Se("about:blank"),Me.prototype.la=!0,Me.prototype.ja=function(){return this.a},Me.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ic={};Ae("<!DOCTYPE html>"),Ae(""),Ae("<br>");var Oc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Nc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rc=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Pc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lc="Firefox",Dc="Chrome",kc={Qc:"FirebaseCore-web",Sc:"FirebaseUI-web"};mn.prototype.get=function(){var t=du.navigator;return(t&&"boolean"==typeof t.onLine&&(sn()||"chrome-extension:"===un()||void 0!==t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var Fc,Uc={};try{var jc={};Object.defineProperty(jc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(jc,"abcd",{configurable:!0,enumerable:!0,value:2}),Fc=2==jc.abcd}catch(t){Fc=!1}var Bc="EMAIL_SIGNIN",zc="email",Vc="newEmail",Hc="requestType",Gc="email",Wc="fromEmail",qc="data",Yc="operation";d(An,Error),An.prototype.C=function(){return{code:this.code,message:this.message}},An.prototype.toJSON=function(){return this.C()};var Xc="auth/",$c={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Qc="android",Kc="handleCodeInApp",Zc="iOS",Jc="url",tl="installApp",el="minimumVersion",nl="packageName",rl="bundleId",il=null,ol=null;kn.prototype.f=function(){return this.b};var al="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),sl=["client_id","response_type","scope","redirect_uri","state"],ul={Rc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:sl},Tc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:sl},Uc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:sl},$c:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:al}},cl="idToken",ll="providerId";d(Vn,zn),d(Hn,Vn),d(Gn,Vn),d(Wn,Vn),d(qn,Vn),Qn.prototype.xa=function(t){return Pi(t,Kn(this))},Qn.prototype.c=function(t,e){var n=Kn(this);return n.idToken=e,Li(t,n)},Qn.prototype.f=function(t,e){return $n(Di(t,Kn(this)),e)},Qn.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Zn.prototype.Ca=function(t){return this.tb=j(t),this},d(Jn,Zn),Jn.prototype.ta=function(t){return C(this.a,t)||this.a.push(t),this},Jn.prototype.yb=function(){return N(this.a)},Jn.prototype.credential=function(t,e){if(!t&&!e)throw new An("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qn(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},d(tr,Jn),wn(tr,"PROVIDER_ID","facebook.com"),wn(tr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),d(nr,Jn),wn(nr,"PROVIDER_ID","github.com"),wn(nr,"GITHUB_SIGN_IN_METHOD","github.com"),d(ir,Jn),wn(ir,"PROVIDER_ID","google.com"),wn(ir,"GOOGLE_SIGN_IN_METHOD","google.com"),d(ar,Zn),wn(ar,"PROVIDER_ID","twitter.com"),wn(ar,"TWITTER_SIGN_IN_METHOD","twitter.com"),ur.prototype.xa=function(t){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Fi(t,Gl,{email:this.a,oobCode:this.b}):Fi(t,sh,{email:this.a,password:this.b})},ur.prototype.c=function(t,e){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Fi(t,Wl,{idToken:e,email:this.a,oobCode:this.b}):Fi(t,eh,{idToken:e,email:this.a,password:this.b})},ur.prototype.f=function(t,e){return $n(this.xa(t),e)},ur.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},xn(cr,{PROVIDER_ID:"password"}),xn(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),xn(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fr.prototype.xa=function(t){return t.Sa(pr(this))},fr.prototype.c=function(t,e){var n=pr(this);return n.idToken=e,Fi(t,ch,n)},fr.prototype.f=function(t,e){var n=pr(this);return n.operation="REAUTH",t=Fi(t,lh,n),$n(t,e)},fr.prototype.C=function(){var t={providerId:"phone"};return this.a.Ra&&(t.verificationId=this.a.Ra),this.a.Qa&&(t.verificationCode=this.a.Qa),this.a.Ea&&(t.temporaryProof=this.a.Ea),this.a.Z&&(t.phoneNumber=this.a.Z),t},dr.prototype.Sa=function(e,n){var r=this.a.b;return $(n.verify()).then(function(i){if(!t(i))throw new An("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Ii(r,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new An("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},xn(dr,{PROVIDER_ID:"phone"}),xn(dr,{PHONE_SIGN_IN_METHOD:"phone"}),yr.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var hl=null;br.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=rn("universalLinks.subscribe",du))&&t(null,this.b))},br.prototype.unsubscribe=function(t){I(this.a,function(e){return e==t})},d(wr,An),d(xr,An),xr.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&B(t,e),t},xr.prototype.toJSON=function(){return this.C()};var fl=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;Tr.prototype.c=null;var pl;d(Mr,Tr),Mr.prototype.a=function(){var t=Cr(this);return t?new ActiveXObject(t):new XMLHttpRequest},Mr.prototype.b=function(){var t={};return Cr(this)&&(t[0]=!0,t[1]=!0),t},pl=new Mr,d(Ar,Tr),Ar.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ir;throw Error("Unsupported browser")},Ar.prototype.b=function(){return{}},hu=Ir.prototype,hu.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},hu.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},hu.abort=function(){this.a.abort()},hu.setRequestHeader=function(){},hu.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},hu.bc=function(){this.status=200,this.responseText=this.a.responseText,Or(this,4)},hu.zb=function(){this.status=500,this.responseText="",Or(this,4)},hu.fc=function(){this.zb()},hu.cc=function(){this.status=200,Or(this,1)},hu.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Nr.prototype.a=null;var dl=0;Nr.prototype.reset=function(t,e,n,r,i){"number"==typeof i||dl++,r||gu(),delete this.a},Pr.prototype.toString=function(){return this.name};var vl=new Pr("SEVERE",1e3),ml=new Pr("WARNING",900),gl=new Pr("CONFIG",700),yl=new Pr("FINE",500);Rr.prototype.log=function(t,e,n){if(t.value>=Lr(this).value)for(u(e)&&(e=e()),t=new Nr(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var _l={},bl=null;d(Fr,Tr),Fr.prototype.a=function(){return new Ur(this.f)},Fr.prototype.b=function(t){return function(){return t}}({}),d(Ur,Ft);var wl=0;hu=Ur.prototype,hu.open=function(t,e){if(this.readyState!=wl)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,jr(this)},hu.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.j.fetch(new Request(this.c,e)).then(this.ec.bind(this),this.Ab.bind(this))},hu.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,jr(this)),this.readyState=wl},hu.ec=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,jr(this)),this.a&&(this.readyState=3,jr(this),this.a&&t.text().then(this.dc.bind(this,t),this.Ab.bind(this))))},hu.dc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,jr(this))},hu.Ab=function(t){var e=this.f;e&&e.log(ml,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,jr(this))},hu.setRequestHeader=function(t,e){this.g.append(t,e)},hu.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(ml,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},hu.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(ml,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},d(Br,Ft);var xl="";Br.prototype.b=Dr("goog.net.XhrIo");var El=/^https?$/i,Tl=["POST","PUT"];hu=Br.prototype,hu.Fa=function(){void 0!==pu&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",kr(this.b,Zr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},hu.abort=function(){this.a&&this.c&&(kr(this.b,Zr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yr(this))},hu.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Yr(this,!0)),Br.lb.ua.call(this)},hu.Db=function(){this.pa||(this.I||this.j||this.f?qr(this):this.tc())},hu.tc=function(){qr(this)},hu.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case xl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(vl,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return kr(this.b,"Can not get response: "+t.message),null}},Jr.prototype.cancel=function(t){if(this.a)this.c instanceof Jr&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.v?this.v.call(this.s,this):this.u=!0,this.a||(t=new si(this),ei(this),ti(this,!1,t))}},Jr.prototype.o=function(t,e){this.j=!1,ti(this,t,e)},Jr.prototype.D=function(){ei(this),ti(this,!0,null)},Jr.prototype.then=function(t,e,n){var r,i,o=new q(function(t,e){r=t,i=e});return ri(this,r,function(t){t instanceof si?o.cancel():i(t)}),o.then(t,e,n)},v(Jr),d(ai,g),ai.prototype.message="Deferred has already fired",ai.prototype.name="AlreadyCalledError",d(si,g),si.prototype.message="Deferred was canceled",si.prototype.name="CanceledError",ui.prototype.c=function(){throw delete Sl[this.a],this.b};var Sl={},Ml=0,Cl=1;d(pi,g),d(di,Tr),di.prototype.a=function(){return new this.f},di.prototype.b=function(){return{}};var Al,Il="idToken",Ol=new mn(3e4,6e4),Nl={"Content-Type":"application/x-www-form-urlencoded"},Rl=new mn(3e4,6e4),Pl={"Content-Type":"application/json"};vi.prototype.o=function(t,e,n,r,i,o){if(Ke()&&(void 0===du.fetch||void 0===du.Headers||void 0===du.Request))throw new An("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Br(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Ut(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(Kr(this))||null}catch(e){t=null}e&&e(t)}),jt(a,"ready",function(){s&&clearTimeout(s),pt(this)}),jt(a,"timeout",function(){s&&clearTimeout(s),pt(this),e&&e(null)}),zr(a,t,n,r,i)};var Ll=ge("https://apis.google.com/js/client.js?onload=%{onload}"),Dl="__fcb"+Math.floor(1e6*Math.random()).toString();vi.prototype.u=function(t,e,n,r,i){var o=this;Al.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).m(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},vi.prototype.jb=function(){return Fi(this,nh,{})},vi.prototype.mb=function(t,e){return Fi(this,th,{idToken:t,email:e})},vi.prototype.nb=function(t,e){return Fi(this,eh,{idToken:t,password:e})};var kl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};hu=vi.prototype,hu.ob=function(t,e){var n={idToken:t},r=[];return F(kl,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Fi(this,th,n)},hu.gb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},B(t,e),Fi(this,$l,t)},hu.hb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},B(t,e),Fi(this,Yl,t)},hu.fb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},B(t,e),Fi(this,Xl,t)},hu.Sa=function(t){return Fi(this,uh,t)},hu.Wa=function(t,e){return Fi(this,Zl,{oobCode:t,newPassword:e})},hu.Ia=function(t){return Fi(this,jl,{oobCode:t})},hu.Ua=function(t){return Fi(this,Ul,{oobCode:t})};var Fl,Ul={endpoint:"setAccountInfo",A:ki,ba:"email"},jl={endpoint:"resetPassword",A:ki,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new An("internal-error")}},Bl={endpoint:"signupNewUser",A:function(t){if(xi(t),!t.password)throw new An("weak-password")},J:Ci,R:!0},zl={endpoint:"createAuthUri"},Vl={endpoint:"deleteAccount",T:["idToken"]},Hl={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],A:function(t){if(!a(t.deleteProvider))throw new An("internal-error")}},Gl={endpoint:"emailLinkSignin",T:["email","oobCode"],A:xi,J:Ci,R:!0},Wl={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],A:xi,J:Ci,R:!0},ql={endpoint:"getAccountInfo"},Yl={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new An("internal-error");xi(t)},ba:"email"},Xl={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new An("internal-error")},ba:"email"},$l={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new An("internal-error");xi(t)},ba:"email"},Ql={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},Kl={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new An("internal-error")}},Zl={endpoint:"resetPassword",A:ki,ba:"email"},Jl={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],ba:"sessionInfo"},th={endpoint:"setAccountInfo",T:["idToken"],A:Ei,R:!0},eh={endpoint:"setAccountInfo",T:["idToken"],A:function(t){if(Ei(t),!t.password)throw new An("weak-password")},J:Ci,R:!0},nh={endpoint:"signupNewUser",J:Ci,R:!0},rh={endpoint:"verifyAssertion",A:Ni,J:Ri,R:!0},ih={endpoint:"verifyAssertion",A:Ni,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new An("user-not-found");if(t.errorMessage)throw Ui(t.errorMessage);if(!t[Il])throw new An("internal-error")},R:!0},oh={endpoint:"verifyAssertion",A:function(t){if(Ni(t),!t.idToken)throw new An("internal-error")},J:Ri,R:!0},ah={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new An("invalid-custom-token")},J:Ci,R:!0},sh={endpoint:"verifyPassword",A:function(t){if(xi(t),!t.password)throw new An("wrong-password")},J:Ci,R:!0},uh={endpoint:"verifyPhoneNumber",A:Ai,J:Ci},ch={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new An("internal-error");Ai(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Er(t);Ci(t)}},lh={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ai,J:Ci},hh={Wc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Yc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Zc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Fl=Bi("__EID__")?"__EID__":void 0;var fh=ge("https://apis.google.com/js/api.js?onload=%{onload}"),ph=new mn(3e4,6e4),dh=new mn(5e3,15e3),vh=null;qi.prototype.toString=function(){return this.f?te(this.a,"v",this.f):le(this.a.a,"v"),this.b?te(this.a,"eid",this.b):le(this.a.a,"eid"),this.c.length?te(this.a,"fw",this.c.join(",")):le(this.a.a,"fw"),this.a.toString()},Yi.prototype.toString=function(){var t=re(this.o,"/__/auth/handler");if(te(t,"apiKey",this.u),te(t,"appName",this.c),te(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=fu.app(this.c).auth().ca()}catch(t){n=null}e.Xa=n,te(t,"providerId",this.a.providerId),e=this.a,n=hn(e.tb);for(var r in n)n[r]=n[r].toString();r=e.Ac,n=j(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Za&&e.Xa&&!n[e.Za]&&(n[e.Za]=e.Xa),U(n)||te(t,"customParameters",ln(n))}if("function"==typeof this.a.yb&&(e=this.a.yb(),e.length&&te(t,"scopes",e.join(","))),this.j?te(t,"redirectUrl",this.j):le(t.a,"redirectUrl"),this.g?te(t,"eventId",this.g):le(t.a,"eventId"),this.h?te(t,"v",this.h):le(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!ee(t,a)&&te(t,a,this.b[a]);return this.f?te(t,"eid",this.f):le(t.a,"eid"),a=Xi(this.c),a.length&&te(t,"fw",a.join(",")),t.toString()},hu=$i.prototype,hu.Da=function(t,e,n){var r=new An("popup-closed-by-user"),i=new An("web-storage-unsupported"),o=this,a=!1;return this.ea().then(function(){eo(o).then(function(n){n||(t&&Ge(t),e(i),a=!0)})}).m(function(){}).then(function(){if(!a)return qe(t)}).then(function(){if(!a)return Vt(n).then(function(){e(r)})})},hu.Gb=function(){var t=nn();return!cn(t)&&!dn(t)},hu.Bb=function(){return!1},hu.xb=function(t,e,n,r,i,o,a){if(!t)return Q(new An("popup-blocked"));if(a&&!cn())return this.ea().m(function(e){Ge(t),i(e)}),r(),$();this.a||(this.a=Qi(Zi(this)));var s=this;return this.a.then(function(){var e=s.ea().m(function(e){throw Ge(t),i(e),e});return r(),e}).then(function(){if(gr(n),!a){Be(Ji(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}}).m(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},hu.Ba=function(t,e,n){this.a||(this.a=Qi(Zi(this)));var r=this;return this.a.then(function(){gr(e),Be(Ji(r.u,r.f,r.b,t,e,je(),n,r.c,void 0,r.h))}).m(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},hu.ea=function(){var t=this;return Ki(this).then(function(){return t.j.ab}).m(function(){throw t.a=null,new An("network-request-failed")})},hu.Lb=function(){return!0},hu.va=function(t){this.g.push(t)},hu.Ja=function(t){I(this.g,function(e){return e==t})},hu=no.prototype,hu.get=function(t){return $(this.a.getItem(t)).then(function(t){return t&&fn(t)})},hu.set=function(t,e){return $(this.a.setItem(t,ln(e)))},hu.P=function(t){return $(this.a.removeItem(t))},hu.Y=function(){},hu.aa=function(){};var mh;hu=ro.prototype,hu.set=function(t,e){var n,r=!1,i=this;return ao(this).then(function(e){return n=e,e=uo(co(n,!0)),lo(e.get(t))}).then(function(o){var a=uo(co(n,!0));return o?(o.value=e,lo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,lo(a.add(o)))}).then(function(){i.f[t]=e}).ha(function(){r&&i.b--})},hu.get=function(t){return ao(this).then(function(e){return lo(uo(co(e,!1)).get(t))}).then(function(t){return t&&t.value})},hu.P=function(t){var e=!1,n=this;return ao(this).then(function(r){return e=!0,n.b++,lo(uo(co(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ha(function(){e&&n.b--})},hu.Jc=function(){var t=this;return ao(this).then(function(t){var e=uo(co(t,!1));return e.getAll?lo(e.getAll()):new q(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=ze(t.f,n),t.f=n}return r})},hu.Y=function(t){0==this.a.length&&ho(this),this.a.push(t)},hu.aa=function(t){I(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},hu=fo.prototype,hu.get=function(t){return this.b.then(function(e){return e.get(t)})},hu.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},hu.P=function(t){return this.b.then(function(e){return e.P(t)})},hu.Y=function(t){this.a.push(t)},hu.aa=function(t){I(this.a,function(e){return e==t})},hu=po.prototype,hu.get=function(t){return $(this.a[t])},hu.set=function(t,e){return this.a[t]=e,$()},hu.P=function(t){return delete this.a[t],$()},hu.Y=function(){},hu.aa=function(){},hu=vo.prototype,hu.get=function(t){var e=this;return $().then(function(){return fn(e.a.getItem(t))})},hu.set=function(t,e){var n=this;return $().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},hu.P=function(t){var e=this;return $().then(function(){e.a.removeItem(t)})},hu.Y=function(t){du.window&&St(du.window,"storage",t)},hu.aa=function(t){du.window&&It(du.window,"storage",t)},hu=yo.prototype,hu.get=function(){return $(null)},hu.set=function(){return $()},hu.P=function(){return $()},hu.Y=function(){},hu.aa=function(){},hu=_o.prototype,hu.get=function(t){var e=this;return $().then(function(){return fn(e.a.getItem(t))})},hu.set=function(t,e){var n=this;return $().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},hu.P=function(t){var e=this;return $().then(function(){e.a.removeItem(t)})},hu.Y=function(){},hu.aa=function(){};var gh,yh,_h={w:vo,Pa:_o},bh={w:vo,Pa:_o},wh={w:no,Pa:yo},xh={w:vo,Pa:yo},Eh={Vc:"local",NONE:"none",Xc:"session"};hu=To.prototype,hu.get=function(t,e){return Mo(this,t.w).get(Co(t,e))},hu.set=function(t,e,n){var r=Co(t,n),i=this,o=Mo(this,t.w);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.w&&(i.b[r]=e)})},hu.addListener=function(t,e,n){t=Co(t,e),this.l&&(this.b[t]=du.localStorage.getItem(t)),U(this.a)&&(Mo(this,"local").Y(this.f),this.h||(Ue()||!bn())&&du.indexedDB||!this.l||Oo(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},hu.removeListener=function(t,e,n){t=Co(t,e),this.a[t]&&(I(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),U(this.a)&&(Mo(this,"local").aa(this.f),No(this))},hu.Kb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=du.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Va(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Mo(this,"local").aa(this.f):No(this),this.o)if(n=du.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?du.localStorage.setItem(e,r):du.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===du.localStorage.getItem(e)||(o.b[e]=du.localStorage.getItem(e),o.Va(e))},Xu&&nc&&10==nc&&du.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else wu(t,f(this.Va,this))},hu.Va=function(t){this.a[t]&&wu(this.a[t],function(t){t()})};var Th,Sh={name:"authEvent",w:"local"};d(ko,Do);for(var Mh=64,Ch=Mh-1,Ah=[],Ih=0;Ih<Ch;Ih++)Ah[Ih]=0;var Oh=O(128,Ah);ko.prototype.reset=function(){this.g=this.c=0,this.a=du.Int32Array?new Int32Array(this.h):N(this.h)};var Nh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(jo,ko);var Rh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];hu=Bo.prototype,hu.ea=function(){return this.ya?this.ya:this.ya=Xe().then(function(){if("function"!=typeof rn("universalLinks.subscribe",du))throw zo("cordova-universal-links-plugin is not installed");if(void 0===rn("BuildInfo.packageName",du))throw zo("cordova-plugin-buildinfo is not installed");if("function"!=typeof rn("cordova.plugins.browsertab.openUrl",du))throw zo("cordova-plugin-browsertab is not installed");if("function"!=typeof rn("cordova.InAppBrowser.open",du))throw zo("cordova-plugin-inappbrowser is not installed")},function(){throw new An("cordova-not-ready")})},hu.Da=function(t,e){return e(new An("operation-not-supported-in-this-environment")),$()},hu.xb=function(){return Q(new An("operation-not-supported-in-this-environment"))},hu.Lb=function(){return!1},hu.Gb=function(){return!0},hu.Bb=function(){return!0},hu.Ba=function(t,e,n){if(this.c)return Q(new An("redirect-operation-pending"));var r=this,i=du.document,o=null,a=null,s=null,u=null;return this.c=$().then(function(){return gr(e),qo(r)}).then(function(){return Go(r,t,e,n)}).then(function(){return new q(function(t,e){a=function(){var e=rn("cordova.plugins.browsertab.close",du);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),s=function(){o||(o=Vt(2e3).then(function(){e(new An("redirect-cancelled-by-user"))}))},u=function(){gn()&&s()},i.addEventListener("resume",s,!1),nn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).m(function(t){return Yo(r).then(function(){throw t})})}).ha(function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},hu.va=function(t){this.b.push(t),qo(this).m(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new yr("unknown",null,null,null,new An("no-auth-event")),t(e))})},hu.Ja=function(t){I(this.b,function(e){return e==t})};var Ph={name:"pendingRedirect",w:"session"};Jo.prototype.reset=function(){this.f=!1,this.a.Ja(this.j),this.a=ta(this.v,this.l,this.u)},Jo.prototype.subscribe=function(t){if(C(this.h,t)||this.h.push(t),!this.f){var e=this;Zo(this.g).then(function(t){t?Ko(e.g).then(function(){ea(e).m(function(t){var n=new yr("unknown",null,null,null,new An("operation-not-supported-in-this-environment"));ia(t)&&e.o(n)})}):na(e)}).m(function(){na(e)})}},Jo.prototype.unsubscribe=function(t){I(this.h,function(e){return e==t})},Jo.prototype.o=function(t){if(!t)throw new An("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.qb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return sa(this.c),e};var Lh=new mn(2e3,1e4),Dh=new mn(3e4,6e4);Jo.prototype.da=function(){return this.c.da()},Jo.prototype.Ba=function(t,e,n){var r,i=this;return Qo(this.g).then(function(){return i.a.Ba(t,e,n).m(function(t){if(ia(t))throw new An("operation-not-supported-in-this-environment");return r=t,Ko(i.g).then(function(){throw r})}).then(function(){return i.a.Lb()?new q(function(){}):Ko(i.g).then(function(){return i.da()}).then(function(){}).m(function(){})})})},Jo.prototype.Da=function(t,e,n,r){return this.a.Da(n,function(n){t.ga(e,null,n,r)},Lh.get())};var kh={};aa.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},aa.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;"unknown"!=n||i||o?t.a?(ha(this,!0,null,t.a),$()):e.wa(n,r)?ua(this,t,e):Q(new An("invalid-auth-event")):(ha(this,!1,null,null),$())}else Q(new An("invalid-auth-event"))},aa.prototype.da=function(){var t=this;return new q(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),fa(t))})},pa.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ga(t.b,null,t.a,t.c),$()):e.wa(n,r)?da(t,e):Q(new An("invalid-auth-event"))}else Q(new An("invalid-auth-event"))},va.prototype.confirm=function(t){return t=vr(this.verificationId,t),this.a(t)},ya.prototype.start=function(){this.a=this.c,ba(this,!0)},ya.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wa.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},wa.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Q(new An("user-token-expired")):t||!this.b||gu()>this.c-3e4?this.a?Ta(this,{grant_type:"refresh_token",refresh_token:this.a}):$(null):$({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Sa.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Aa,yt),d(Ia,Ft),Ia.prototype.na=function(t){this.ia=t,mi(this.b,t)},Ia.prototype.ca=function(){return this.ia},Ia.prototype.Ka=function(){return N(this.O)},Ia.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},wn(Ia.prototype,"providerId","firebase"),hu=Ia.prototype,hu.reload=function(){var t=this;return os(this,Ha(this).then(function(){return $a(t).then(function(){return ja(t)}).then(Va)}))},hu.ac=function(t){return this.F(t).then(function(t){return new ga(t)})},hu.F=function(t){var e=this;return os(this,Ha(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new An("internal-error");return t.accessToken!=e.qa&&(Fa(e,t.accessToken),e.dispatchEvent(new Aa("tokenChanged"))),Ya(e,"refreshToken",t.refreshToken),t.accessToken}))},hu.getToken=function(t){return Uc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Uc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},hu.uc=function(t){if(!(t=t.users)||!t.length)throw new An("internal-error");t=t[0],za(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Za(t),n=0;n<e.length;n++)Wa(this,e[n]);Ya(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},hu.bb=function(t){var e=this,n=null;return os(this,t.f(this.b,this.uid).then(function(t){return Qa(e,t),n=ts(e,t,"reauthenticate"),e.j=null,e.reload()}).then(function(){return n}),!0)},hu.vc=function(t){return this.bb(t).then(function(){})},hu.$a=function(t){var e=this,n=null;return os(this,Ja(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=ts(e,t,"link"),es(e,t)}).then(function(){return n}))},hu.mc=function(t){return this.$a(t).then(function(t){return t.user})},hu.nc=function(t,e){var n=this;return os(this,Ja(this,"phone").then(function(){return ma(Pa(n),t,e,f(n.$a,n))}))},hu.wc=function(t,e){var n=this;return os(this,$().then(function(){return ma(Pa(n),t,e,f(n.bb,n))}),!0)},hu.mb=function(t){var e=this;return os(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return Qa(e,t),e.reload()}))},hu.Nc=function(t){var e=this;return os(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Qa(e,t),e.reload()}))},hu.nb=function(t){var e=this;return os(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return Qa(e,t),e.reload()}))},hu.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ha(this);var e=this;return os(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Qa(e,t),Ya(e,"displayName",t.displayName||null),Ya(e,"photoURL",t.photoUrl||null),wu(e.providerData,function(t){"password"===t.providerId&&(wn(t,"displayName",e.displayName),wn(t,"photoURL",e.photoURL))}),ja(e)}).then(Va))},hu.Mc=function(t){var e=this;return os(this,$a(this).then(function(n){return C(Ga(e),t)?Oi(e.b,n,[t]).then(function(t){var n={};return wu(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),wu(Ga(e),function(t){n[t]||qa(e,t)}),n[dr.PROVIDER_ID]||wn(e,"phoneNumber",null),ja(e)}):ja(e).then(function(){throw new An("no-such-provider")})}))},hu.delete=function(){var t=this;return os(this,this.F().then(function(e){return Fi(t.b,Vl,{idToken:e})}).then(function(){t.dispatchEvent(new Aa("userDeleted"))})).then(function(){for(var e=0;e<t.D.length;e++)t.D[e].cancel("app-deleted");Oa(t,null),Ra(t,null),t.D=[],t.o=!0,ka(t),wn(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},hu.qb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.$||null)==e||"reauthViaRedirect"==t&&(this.$||null)==e)},hu.ga=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},hu.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?f(this.vb,this):"reauthViaPopup"==t&&e==(this.g||null)?f(this.wb,this):"linkViaRedirect"==t&&(this.$||null)==e?f(this.vb,this):"reauthViaRedirect"==t&&(this.$||null)==e?f(this.wb,this):null},hu.oc=function(t){var e=this;return ns(this,"linkViaPopup",t,function(){return Ja(e,t.providerId).then(function(){return ja(e)})},!1)},hu.xc=function(t){return ns(this,"reauthViaPopup",t,function(){return $()},!0)},hu.pc=function(t){var e=this;return rs(this,"linkViaRedirect",t,function(){return Ja(e,t.providerId)},!1)},hu.yc=function(t){return rs(this,"reauthViaRedirect",t,function(){return $()},!0)},hu.vb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return os(this,this.F().then(function(r){return Li(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=ts(n,t,"link"),es(n,t)}).then(function(){return r}))},hu.wb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return os(this,$().then(function(){return $n(Di(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=ts(n,t,"reauthenticate"),Qa(n,t),n.j=null,n.reload()}).then(function(){return r}),!0)},hu.fb=function(t){var e=this,n=null;return os(this,this.F().then(function(e){return n=e,void 0===t||U(t)?{}:Nn(new On(t))}).then(function(t){return e.b.fb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},hu.toJSON=function(){return this.C()},hu.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.B,stsTokenManager:this.h.C(),redirectEventId:this.$||null};return this.metadata&&B(t,this.metadata.C()),wu(this.providerData,function(e){t.providerData.push(Tn(e))}),t};var Fh={name:"redirectUser",w:"session"};fs.prototype.g=function(){var t=this,e=vs("local");bs(this,function(){return $().then(function(){return t.c&&"local"!=t.c.w?t.b.get(e,t.a):null}).then(function(n){if(n)return ps(t,"local").then(function(){t.c=e})})})};var Uh={name:"persistence",w:"session"};fs.prototype.ib=function(t){var e=null,n=this;return Eo(t),bs(this,function(){return t!=n.c.w?n.b.get(n.c,n.a).then(function(r){return e=r,ps(n,t)}).then(function(){if(n.c=vs(t),e)return n.b.set(n.c,e,n.a)}):$()})},d(ws,Ft),d(xs,yt),d(Es,yt),hu=ws.prototype,hu.ib=function(t){return t=this.h.ib(t),Us(this,t)},hu.na=function(t){this.W===t||this.l||(this.W=t,mi(this.b,this.W),this.dispatchEvent(new xs(this.ca())))},hu.ca=function(){return this.W},hu.Oc=function(){var t=du.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},hu.qc=function(t){this.D.push(t),gi(this.b,fu.SDK_VERSION?en(fu.SDK_VERSION,this.D):null),this.dispatchEvent(new Es(this.D))},hu.Ka=function(){return N(this.D)},hu.toJSON=function(){return{apiKey:Ps(this).options.apiKey,authDomain:Ps(this).options.authDomain,appName:Ps(this).name,currentUser:Ls(this)&&Ls(this).C()}},hu.qb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},hu.ga=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},hu.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?f(this.Xb,this):null},hu.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=Pi(n.b,t).then(function(t){return r=mr(t),i=Bn(t),t});return t=n.V.then(function(){return o}).then(function(t){return Cs(n,t)}).then(function(){return En({user:Ls(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),Us(this,t)},hu.Gc=function(t){if(!an())return Q(new An("operation-not-supported-in-this-environment"));var e=this,n=jn(t.providerId),r=pn(),i=null;(!cn()||Qe())&&Ps(this).options.authDomain&&t.isOAuthProvider&&(i=Ji(Ps(this).options.authDomain,Ps(this).options.apiKey,Ps(this).name,"signInViaPopup",t,null,r,fu.SDK_VERSION||null));var o=We(i,n&&n.Aa,n&&n.za);return n=Ss(this).then(function(e){return ra(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new q(function(t,n){e.ga("signInViaPopup",null,new An("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Da(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Ge(o),t?En(t):null}).m(function(t){throw o&&Ge(o),t}),Us(this,n)},hu.Hc=function(t){if(!an())return Q(new An("operation-not-supported-in-this-environment"));var e=this;return Us(this,Ss(this).then(function(){return ms(e.h)}).then(function(){return e.a.Ba("signInViaRedirect",t)}))},hu.da=function(){if(!an())return Q(new An("operation-not-supported-in-this-environment"));var t=this;return Us(this,Ss(this).then(function(){return t.a.da()}).then(function(t){return t?En(t):null}))},hu.kb=function(){var t=this;return Us(this,this.j.then(function(){return Ls(t)?(As(t,null),ys(t.h).then(function(){ks(t)})):$()}))},hu.Ic=function(){var t=this;return _s(this.h,Ps(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Ls(t)&&e){n=Ls(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Xa(Ls(t),e),Ls(t).F();(Ls(t)||e)&&(As(t,e),e&&(Ba(e),e.fa=t.G),t.a&&t.a.subscribe(t),ks(t))}})},hu.ka=function(t){return gs(this.h,t)},hu.Yb=function(){ks(this),this.ka(Ls(this))},hu.gc=function(){this.kb()},hu.hc=function(){this.kb()},hu.ic=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Ls(e))})},hu.jc=function(t){var e=this;Fs(this,function(){t.next(Ls(e))})},hu.sc=function(t,e,n){var r=this;return this.X&&fu.Promise.resolve().then(function(){u(t)?t(Ls(r)):u(t.next)&&t.next(Ls(r))}),this.Ob(t,e,n)},hu.rc=function(t,e,n){var r=this;return this.X&&fu.Promise.resolve().then(function(){r.O=r.getUid(),u(t)?t(Ls(r)):u(t.next)&&t.next(Ls(r))}),this.Pb(t,e,n)},hu.$b=function(t){var e=this;return Us(this,this.j.then(function(){return Ls(e)?Ls(e).F(t).then(function(t){return{accessToken:t}}):null}))},hu.Cc=function(t){return this.Hb(t).then(function(t){return t.user})},hu.Hb=function(t){var e=this;return this.j.then(function(){return Rs(e,Fi(e.b,ah,{token:t}))}).then(function(t){var n=t.user;return Ya(n,"isAnonymous",!1),e.ka(n),t})},hu.Ib=function(t,e){var n=this;return this.j.then(function(){return Rs(n,Fi(n.b,sh,{email:t,password:e}))})},hu.Dc=function(t,e){return this.Ib(t,e).then(function(t){return t.user})},hu.Sb=function(t,e){return this.sb(t,e).then(function(t){return t.user})},hu.sb=function(t,e){var n=this;return this.j.then(function(){return Rs(n,Fi(n.b,Bl,{email:t,password:e}))})},hu.Bc=function(t){return this.Oa(t).then(function(t){return t.user})},hu.Oa=function(t){var e=this;return this.j.then(function(){return Rs(e,t.xa(e.b))})},hu.jb=function(){return this.Jb().then(function(t){return t.user})},hu.Jb=function(){var t=this;return this.j.then(function(){var e=Ls(t);if(e&&e.isAnonymous){return En({user:e,credential:null,additionalUserInfo:En({providerId:null,isNewUser:!1}),operationType:"signIn"})}return Rs(t,t.b.jb()).then(function(e){var n=e.user;return Ya(n,"isAnonymous",!0),t.ka(n),e})})},hu.getUid=function(){return Ls(this)&&Ls(this).uid||null},hu.Qb=function(t){this.addAuthTokenListener(t),0<++this.s&&Ls(this)&&Da(Ls(this))},hu.zc=function(t){var e=this;wu(this.o,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&Ls(this)&&ka(Ls(this)),this.removeAuthTokenListener(t)},hu.addAuthTokenListener=function(t){var e=this;this.o.push(t),Us(this,this.j.then(function(){e.l||C(e.o,t)&&t(Ds(e))}))},hu.removeAuthTokenListener=function(t){I(this.o,function(e){return e==t})},hu.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(vs("local"),t.a,this.ia)),this.a&&this.a.unsubscribe(this),fu.Promise.resolve()},hu.Vb=function(t){return Us(this,Ti(this.b,t))},hu.Wb=function(t){return Us(this,Si(this.b,t))},hu.kc=function(t){return!!hr(t)},hu.hb=function(t,e){var n=this;return Us(this,$().then(function(){var t=new On(e);if(!t.c)throw new An("argument-error",Kc+" must be true when sending sign in link to email");return Nn(t)}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},hu.Pc=function(t){return this.Ia(t).then(function(t){return t.data.email})},hu.Wa=function(t,e){return Us(this,this.b.Wa(t,e).then(function(){}))},hu.Ia=function(t){return Us(this,this.b.Ia(t).then(function(t){return new Cn(t)}))},hu.Ua=function(t){return Us(this,this.b.Ua(t).then(function(){}))},hu.gb=function(t,e){var n=this;return Us(this,$().then(function(){return void 0===e||U(e)?{}:Nn(new On(e))}).then(function(e){return n.b.gb(t,e)}).then(function(){}))},hu.Fc=function(t,e){return Us(this,ma(this,t,e,f(this.Oa,this)))},hu.Ec=function(t,e){var n=this;return Us(this,$().then(function(){var r=lr(t,e||je());return n.Oa(r)}))};var jh="callback",Bh="expired-callback",zh="sitekey",Vh="size";hu=js.prototype,hu.ya=function(){var t=this;return this.c?this.c:this.c=Vs(this,$().then(function(){if(sn()&&!Ke())return Ye();throw new An("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Ws(qs(),t.s())}).then(function(){return Fi(t.u,Kl,{})}).then(function(e){t.a[zh]=e.recaptchaSiteKey}).m(function(e){throw t.c=null,e}))},hu.render=function(){Hs(this);var t=this;return Vs(this,this.ya().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=Ie(e);e=Ne("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},hu.verify=function(){Hs(this);var t=this;return Vs(this,this.render().then(function(e){return new q(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(zs(t,i),n(e))};t.j.push(i),t.h&&grecaptcha.execute(t.b)}})}))},hu.reset=function(){Hs(this),null!==this.b&&grecaptcha.reset(this.b)},hu.clear=function(){Hs(this),this.o=!0,qs().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=Ie(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var Hh=ge("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gh=new mn(3e4,6e4),Wh=null;d(Ys,js);var qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");su(ws.prototype,{Ua:{name:"applyActionCode",i:[$s("code")]},Ia:{name:"checkActionCode",i:[$s("code")]},Wa:{name:"confirmPasswordReset",i:[$s("code"),$s("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",i:[$s("email"),$s("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",i:[$s("email"),$s("password")]},Vb:{name:"fetchProvidersForEmail",i:[$s("email")]},Wb:{name:"fetchSignInMethodsForEmail",i:[$s("email")]},da:{name:"getRedirectResult",i:[]},kc:{name:"isSignInWithEmailLink",i:[$s("emailLink")]},rc:{name:"onAuthStateChanged",i:[au(Ks(),Zs(),"nextOrObserver"),Zs("opt_error",!0),Zs("opt_completed",!0)]},sc:{name:"onIdTokenChanged",i:[au(Ks(),Zs(),"nextOrObserver"),Zs("opt_error",!0),Zs("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",i:[$s("email"),au(Ks("opt_actionCodeSettings",!0),Js(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",i:[$s("email"),Ks("actionCodeSettings")]},ib:{name:"setPersistence",i:[$s("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",i:[ru()]},jb:{name:"signInAnonymously",i:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",i:[]},Bc:{name:"signInWithCredential",i:[ru()]},Cc:{name:"signInWithCustomToken",i:[$s("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",i:[$s("token")]},Dc:{name:"signInWithEmailAndPassword",i:[$s("email"),$s("password")]},Ec:{name:"signInWithEmailLink",i:[$s("email"),$s("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",i:[$s("email"),$s("password")]},Fc:{name:"signInWithPhoneNumber",i:[$s("phoneNumber"),ou()]},Gc:{name:"signInWithPopup",i:[iu()]},Hc:{name:"signInWithRedirect",i:[iu()]},kb:{name:"signOut",i:[]},toJSON:{name:"toJSON",i:[$s(null,!0)]},Oc:{name:"useDeviceLanguage",i:[]},Pc:{name:"verifyPasswordResetCode",i:[$s("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Rb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Xs(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(ws.prototype,{lc:{name:"languageCode",Rb:au($s(),Js(),"languageCode")}}),ws.Persistence=Eh,ws.Persistence.LOCAL="local",ws.Persistence.SESSION="session",ws.Persistence.NONE="none",su(Ia.prototype,{delete:{name:"delete",i:[]},ac:{name:"getIdTokenResult",i:[Qs()]},F:{name:"getIdToken",i:[Qs()]},getToken:{name:"getToken",i:[Qs()]},$a:{name:"linkAndRetrieveDataWithCredential",i:[ru()]},mc:{name:"linkWithCredential",i:[ru()]},nc:{name:"linkWithPhoneNumber",i:[$s("phoneNumber"),ou()]},oc:{name:"linkWithPopup",i:[iu()]},pc:{name:"linkWithRedirect",i:[iu()]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",i:[ru()]},vc:{name:"reauthenticateWithCredential",i:[ru()]},wc:{name:"reauthenticateWithPhoneNumber",i:[$s("phoneNumber"),ou()]},xc:{name:"reauthenticateWithPopup",i:[iu()]},yc:{name:"reauthenticateWithRedirect",i:[iu()]},reload:{name:"reload",i:[]},fb:{name:"sendEmailVerification",i:[au(Ks("opt_actionCodeSettings",!0),Js(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",i:[$s(null,!0)]},Mc:{name:"unlink",i:[$s("provider")]},mb:{name:"updateEmail",i:[$s("email")]},nb:{name:"updatePassword",i:[$s("password")]},Nc:{name:"updatePhoneNumber",i:[ru("phone")]},ob:{name:"updateProfile",i:[Ks("profile")]}}),su(q.prototype,{ha:{name:"finally"},m:{name:"catch"},then:{name:"then"}}),su(va.prototype,{confirm:{name:"confirm",i:[$s("verificationCode")]}}),uu(cr,"credential",function(t,e){return new ur(t,e)},[$s("email"),$s("password")]),su(tr.prototype,{ta:{name:"addScope",i:[$s("scope")]},Ca:{name:"setCustomParameters",i:[Ks("customOAuthParameters")]}}),uu(tr,"credential",er,[au($s(),Ks(),"token")]),uu(cr,"credentialWithLink",lr,[$s("email"),$s("emailLink")]),su(nr.prototype,{ta:{name:"addScope",i:[$s("scope")]},Ca:{name:"setCustomParameters",i:[Ks("customOAuthParameters")]}}),uu(nr,"credential",rr,[au($s(),Ks(),"token")]),su(ir.prototype,{ta:{name:"addScope",i:[$s("scope")]},Ca:{name:"setCustomParameters",i:[Ks("customOAuthParameters")]}}),uu(ir,"credential",or,[au($s(),au(Ks(),Js()),"idToken"),au($s(),Js(),"accessToken",!0)]),su(ar.prototype,{Ca:{name:"setCustomParameters",i:[Ks("customOAuthParameters")]}}),uu(ar,"credential",sr,[au($s(),Ks(),"token"),$s("secret",!0)]),su(Jn.prototype,{ta:{name:"addScope",i:[$s("scope")]},credential:{name:"credential",i:[au($s(),Js(),"idToken",!0),au($s(),Js(),"accessToken",!0)]},Ca:{name:"setCustomParameters",i:[Ks("customOAuthParameters")]}}),uu(dr,"credential",vr,[$s("verificationId"),$s("verificationCode")]),su(dr.prototype,{Sa:{name:"verifyPhoneNumber",i:[$s("phoneNumber"),ou()]}}),su(An.prototype,{toJSON:{name:"toJSON",i:[$s(null,!0)]}}),su(xr.prototype,{toJSON:{name:"toJSON",i:[$s(null,!0)]}}),su(wr.prototype,{toJSON:{name:"toJSON",i:[$s(null,!0)]}}),su(Ys.prototype,{clear:{name:"clear",i:[]},render:{name:"render",i:[]},verify:{name:"verify",i:[]}}),function(){if(void 0===fu||!fu.INTERNAL||!fu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ws,Error:An};uu(t,"EmailAuthProvider",cr,[]),uu(t,"FacebookAuthProvider",tr,[]),uu(t,"GithubAuthProvider",nr,[]),uu(t,"GoogleAuthProvider",ir,[]),uu(t,"TwitterAuthProvider",ar,[]),uu(t,"OAuthProvider",Jn,[$s("providerId")]),uu(t,"PhoneAuthProvider",dr,[eu()]),uu(t,"RecaptchaVerifier",Ys,[au($s(),tu(),"recaptchaContainer"),Ks("recaptchaParameters",!0),nu()]),fu.INTERNAL.registerService("auth",function(t,e){return t=new ws(t),e({INTERNAL:{getUid:f(t.getUid,t),getToken:f(t.$b,t),addAuthTokenListener:f(t.Qb,t),removeAuthTokenListener:f(t.zc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),fu.INTERNAL.extendNamespace({User:Ia})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n(32))},function(t,e,n){"use strict";(function(r){function i(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}function o(t){var e={};t.startsWith("?")&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):F("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}function a(t,e){return H(t.name,e.name)}function s(t,e){return H(t,e)}function u(t,e){if(void 0===e&&(e=null),null===t)return $t.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),g.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t){return new Ft(t,u(e))}if(t instanceof Array||!Zt){var n=$t.EMPTY_NODE,r=t;return g.forEach(r,function(t,e){if(g.contains(r,t)&&"."!==t.substring(0,1)){var i=u(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(u(e))}var i=[],o=!1,c=t;if(g.forEach(c,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=u(c[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new Nt(t,n)))}}),0==i.length)return $t.EMPTY_NODE;var l=qt(i,a,function(t){return t.name},s);if(o){var h=qt(i,jt.getCompare());return new $t(l,u(e),new Xt({".priority":h},{".priority":jt}))}return new $t(l,u(e),Xt.Default)}function c(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Sn.getInstance().databaseFromApp(t,n)},{Reference:bn,Query:ce,Database:Mn,enableLogging:R,INTERNAL:kn,ServerValue:Wn,TEST_ACCESS:Gn},null,!0);g.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var l,h,f,p,d,v,m,g=n(102),y=n(232),_=n(155),b=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(63)),w=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),g.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:g.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),x=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return g.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),E=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w(e)}}catch(t){}return new x},T=E("localStorage"),S=E("sessionStorage"),M=new y.Logger("@firebase/database"),C=function(){var t=1;return function(){return t++}}(),A=function(t){var e=g.stringToByteArray(t),n=new g.Sha1;n.update(e);var r=n.digest();return g.base64.encodeByteArray(r)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=I.apply(null,t[r]):"object"==typeof t[r]?n+=g.stringify(t[r]):n+=t[r],n+=" ";return n},O=null,N=!0,R=function(t,e){g.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(M.logLevel=y.LogLevel.VERBOSE,O=M.log.bind(M),e&&S.set("logging_enabled",!0)):"function"==typeof t?O=t:(O=null,S.remove("logging_enabled"))},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===N&&(N=!1,null===O&&!0===S.get("logging_enabled")&&R(!0)),O){var n=I.apply(null,t);O(n)}},L=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];P.apply(void 0,[t].concat(e))}},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+I.apply(void 0,t);M.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+I.apply(void 0,t);throw M.error(n),new Error(n)},F=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+I.apply(void 0,t);M.warn(n)},U=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},j=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},B=function(t){if(g.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},z="[MIN_NAME]",V="[MAX_NAME]",H=function(t,e){if(t===e)return 0;if(t===z||e===V)return-1;if(e===z||t===V)return 1;var n=tt(t),r=tt(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},G=function(t,e){return t===e?0:t<e?-1:1},W=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+g.stringify(e))},q=function(t){if("object"!=typeof t||null===t)return g.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=g.stringify(e[i]),r+=":",r+=q(t[e[i]]);return r+="}"},Y=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},X=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else g.forEach(t,function(t,n){return e(n,t)})},$=function(t){g.assert(!j(t),"Invalid JSON number");var e,n,r,i,o,a,s;for(0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Q=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},K=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},Z=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},J=new RegExp("^-?\\d{1,10}$"),tt=function(t){if(J.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},et=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t},Math.floor(0))}},nt=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rt=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},it=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=H(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),ot=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=g.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=g.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=g.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),at="long_polling",st=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=T.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&T.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){g.assert("string"==typeof t,"typeof type must == string"),g.assert("object"==typeof e,"typeof params must == object");var n;if("websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==at)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return g.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),ut=function(t){var e=ct(t),n=e.subdomain;"firebase"===e.domain&&k(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||U();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new st(e.host,e.secure,n,r),path:new it(e.pathString)}},ct=function(t){var e="",n="",r="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(a=i(t.substring(h,f)));var p=o(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=t.length;var d=e.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,l).toLowerCase()&&(n="localhost"),""===r&&"ns"in p&&(r=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:a}},lt=/[\[\].#$\/\u0000-\u001F\u007F]/,ht=/[\[\].#$\u0000-\u001F\u007F]/,ft=function(t){return"string"==typeof t&&0!==t.length&&!lt.test(t)},pt=function(t){return"string"==typeof t&&0!==t.length&&!ht.test(t)},dt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pt(t)},vt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!j(t)||t&&"object"==typeof t&&g.contains(t,".sv")},mt=function(t,e,n,r,i){i&&void 0===n||gt(g.errorPrefix(t,e,i),n,r)},gt=function(t,e,n){var r=n instanceof it?new ot(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(j(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&g.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(g.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ft(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),gt(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},yt=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ft(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(it.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},_t=function(t,e,n,r,i){if(!i||void 0!==n){var o=g.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];g.forEach(n,function(t,e){var n=new it(t);if(gt(o,e,r.child(n)),".priority"===n.getBack()&&!vt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),yt(o,a)}},bt=function(t,e,n,r){if(!r||void 0!==n){if(j(n))throw new Error(g.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vt(n))throw new Error(g.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(g.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xt=function(t,e,n,r){if(!(r&&void 0===n||ft(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Et=function(t,e,n,r){if(!(r&&void 0===n||pt(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Et(t,e,n,r)},St=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Mt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ft(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!dt(r))throw new Error(g.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ct=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(g.errorPrefix(t,e,r)+"must be a boolean.")},At=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){g.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),g.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){g.validateArgCount("OnDisconnect.remove",0,1,arguments.length),St("OnDisconnect.remove",this.path_),g.validateCallback("OnDisconnect.remove",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){g.validateArgCount("OnDisconnect.set",1,2,arguments.length),St("OnDisconnect.set",this.path_),mt("OnDisconnect.set",1,t,this.path_,!1),g.validateCallback("OnDisconnect.set",2,e,!0);var n=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){g.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),St("OnDisconnect.setWithPriority",this.path_),mt("OnDisconnect.setWithPriority",1,t,this.path_,!1),bt("OnDisconnect.setWithPriority",2,e,!1),g.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new g.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(g.validateArgCount("OnDisconnect.update",1,2,arguments.length),St("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,F("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_t("OnDisconnect.update",1,t,this.path_,!1),g.validateCallback("OnDisconnect.update",2,e,!0);var i=new g.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),It=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return g.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ot=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(r%64),r=Math.floor(r/64);g.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=t.charAt(n[o]);return g.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),Nt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Rt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Nt(z,t),r=new Nt(z,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Nt.MIN},t}(),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return H(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw g.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(V,l)},e.prototype.makePost=function(t,e){return g.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,l)},e.prototype.toString=function(){return".key"},e}(Rt),Lt=new Pt,Dt=function(t){return"number"==typeof t?"number:"+$(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();g.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&g.contains(e,".sv"),"Priority must be a string or number.")}else g.assert(t===h||t.isEmpty(),"priority of unexpected type.");g.assert(t===h||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ft=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,g.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(g.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Dt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?$(this.value_):this.value_,this.lazyHash_=A(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(g.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return g.assert(i>=0,"Unknown leaf type: "+n),g.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?H(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(V,new Ft("[PRIORITY-POST]",d))},e.prototype.makePost=function(t,e){var n=p(t);return new Nt(e,new Ft("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Rt),jt=new Ut,Bt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),zt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ht.EMPTY_NODE,this.right=null!=o?o:Ht.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ht.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ht.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Vt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ht=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Bt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Bt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Vt,t}(),Gt=Math.log(2),Wt=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/Gt,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),qt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new zt(a,o.node,zt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new zt(a,o.node,zt.BLACK,c,l)},o=new Wt(t.length),a=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new zt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,zt.BLACK):(s(h,zt.BLACK),s(h,zt.RED))}return o}(o);return new Ht(r||e,a)},Yt={},Xt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return g.assert(Yt&&jt,"ChildrenNode.ts has not been loaded"),v=v||new t({".priority":Yt},{".priority":jt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=g.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Yt?null:e},t.prototype.hasIndex=function(t){return g.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){g.assert(e!==Lt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Nt.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?qt(r,e.getCompare()):Yt;var u=e.toString(),c=g.clone(this.indexSet_);c[u]=e;var l=g.clone(this.indexes_);return l[u]=s,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(g.map(this.indexes_,function(t,i){var o=g.safeGet(r.indexSet_,i);if(g.assert(o,"Missing index implementation for "+i),t===Yt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(Nt.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),qt(a,o.getCompare())}return Yt}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Nt(e.name,c))),l.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(g.map(this.indexes_,function(t){if(t===Yt)return t;var r=n.get(e.name);return r?t.remove(new Nt(e.name,r)):t}),this.indexSet_)},t}(),$t=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&g.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return m||(m=new t(new Ht(s),null,Xt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||m},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?m:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(g.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Nt(e,n),i=void 0,o=void 0,a=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),a=i.isEmpty()?m:this.priorityNode_,new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;g.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(jt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Dt(this.getPriority().val())+":"),this.forEachChild(jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":A(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Nt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Kt?-1:0},t.prototype.withIndex=function(e){if(e===Lt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Lt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(jt),r=e.getIterator(jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Lt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Qt=function(t){function e(){return t.call(this,new Ht(s),$t.EMPTY_NODE,Xt.Default)||this}return _.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return $t.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}($t),Kt=new Qt;Object.defineProperties(Nt,{MIN:{value:new Nt(z,$t.EMPTY_NODE)},MAX:{value:new Nt(V,Kt)}}),Pt.__EMPTY_NODE=$t.EMPTY_NODE,Ft.__childrenNodeConstructor=$t,function(t){h=t}(Kt),function(t){d=t}(Kt);var Zt=!0;!function(t){p=t}(u);var Jt,te,ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?H(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return Nt.MAX},e.prototype.makePost=function(t,e){var n=u(t);return new Nt(e,n)},e.prototype.toString=function(){return".value"},e}(Rt),ne=new ee,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,g.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return _.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?H(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=u(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nt(e,r)},e.prototype.maxPost=function(){var t=$t.EMPTY_NODE.updateChild(this.indexPath_,Kt);return new Nt(V,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Rt),ie=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return g.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return g.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return g.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return g.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){g.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),Et("DataSnapshot.child",1,e,!1);var n=new it(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,jt)},t.prototype.hasChild=function(t){g.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Et("DataSnapshot.hasChild",1,t,!1);var e=new it(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return g.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return g.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),g.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),jt))})},t.prototype.hasChildren=function(){return g.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return g.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return g.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),oe=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+g.stringify(this.snapshot.exportVal())},t}(),ae=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),se=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new oe("value",this,new ie(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ae(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ue=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,g.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ae(this,t,e):null},t.prototype.createEvent=function(t,e){g.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new oe(t.type,this,new ie(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=g.getCount(e.callbacks_);if(n===g.getCount(this.callbacks_)){if(1===n){var r=g.getAnyKey(e.callbacks_),i=g.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return g.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ce=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(Jt,"Reference.ts has not been loaded"),Jt},set:function(t){Jt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Lt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=z)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=V)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===jt){if(null!=e&&!vt(e)||null!=n&&!vt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(g.assert(t.getIndex()instanceof re||t.getIndex()===ne,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return g.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){g.validateArgCount("Query.on",2,4,arguments.length),wt("Query.on",1,e,!1),g.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new se(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ue(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){g.validateArgCount("Query.off",0,3,arguments.length),wt("Query.off",1,t,!0),g.validateCallback("Query.off",2,e,!0),g.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){r=new se(e||null,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new ue(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;g.validateArgCount("Query.once",1,4,arguments.length),wt("Query.once",1,e,!1),g.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new g.Deferred;u.promise.catch(function(){});var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(g.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(g.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(g.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Et("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new it(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new re(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){g.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Lt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){g.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(jt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){g.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ne);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.startAt",0,2,arguments.length),mt("Query.startAt",1,e,this.path,!0),xt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.endAt",0,2,arguments.length),mt("Query.endAt",1,e,this.path,!0),xt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(g.validateArgCount("Query.equalTo",1,2,arguments.length),mt("Query.equalTo",1,t,this.path,!1),xt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return g.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return g.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=q(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(g.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,g.validateCallback(t,3,r.cancel,!0),r.context=n,g.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(g.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),le=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return g.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return g.isEmpty(this.set)},t.prototype.count=function(){return g.getCount(this.set)},t.prototype.each=function(t){g.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return g.forEach(this.set,function(e){t.push(e)}),t},t}(),he=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){return this.children_.get(e).find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new le);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(jt,function(t,e){n.remember(new it(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();if(t=t.popFront(),this.children_.contains(r)){this.children_.get(r).forget(t)&&this.children_.remove(r)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new it(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),fe=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},pe=function(t,e){return t&&"object"==typeof t?(g.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},de=function(t,e){var n=new he;return t.forEachTree(new it(""),function(t,r){n.remember(t,ve(r,e))}),n},ve=function(t,e){var n,r=t.getPriority().val(),i=pe(r,e);if(t.isLeafNode()){var o=t,a=pe(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Ft(a,u(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new Ft(i))),s.forEachChild(jt,function(t,r){var i=ve(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(te||(te={}));var me,ge,ye=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,g.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),_e=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=te.ACK_USER_WRITE,this.source=ye.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return g.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new it(e));return new t(it.Empty,n,this.revert)}return g.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),be=function(){return me||(me=new Ht(G)),me},we=function(){function t(t,e){void 0===e&&(e=be()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return g.forEach(e,function(t,e){n=n.set(new it(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:it.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){return{path:new it(n).child(i.path),value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(it.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,it.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,it.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(it.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),xe=function(){function t(t,e){this.source=t,this.path=e,this.type=te.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,it.Empty):new t(this.source,this.path.popFront())},t}(),Ee=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=te.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,it.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Te=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=te.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new Ee(this.source,it.Empty,n.value):new t(this.source,it.Empty,n)}return g.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Se=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Me=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Se(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Se(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Se($t.EMPTY_NODE,!1,!1),new Se($t.EMPTY_NODE,!1,!1)),t}(),Ce=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Ae=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){g.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ce.childRemovedChange(e,a)):g.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ce.childAddedChange(e,n)):o.trackChildChange(Ce.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(jt,function(t,r){e.hasChild(t)||n.trackChildChange(Ce.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ce.childChangedChange(e,r,i))}else n.trackChildChange(Ce.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ie=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;g.assert(e==Ce.CHILD_ADDED||e==Ce.CHILD_CHANGED||e==Ce.CHILD_REMOVED,"Only child changes supported for tracking"),g.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=g.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==Ce.CHILD_ADDED&&i==Ce.CHILD_REMOVED)this.changeMap_[n]=Ce.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==Ce.CHILD_REMOVED&&i==Ce.CHILD_ADDED)delete this.changeMap_[n];else if(e==Ce.CHILD_REMOVED&&i==Ce.CHILD_CHANGED)this.changeMap_[n]=Ce.childRemovedChange(n,r.oldSnap);else if(e==Ce.CHILD_CHANGED&&i==Ce.CHILD_ADDED)this.changeMap_[n]=Ce.childAddedChange(n,t.snapshotNode);else{if(e!=Ce.CHILD_CHANGED||i!=Ce.CHILD_CHANGED)throw g.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=Ce.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return g.getValues(this.changeMap_)},t}(),Oe=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),Ne=new Oe,Re=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Se(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Pe=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),Le=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){g.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),g.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new Ie;if(n.type===te.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(g.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===te.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(g.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,s))}else if(n.type===te.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==te.LISTEN_COMPLETE)throw g.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new Pe(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ce.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(g.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof $t?u:$t.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"==f){g.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),m=void 0;if(o.isCompleteForChild(f)){s=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);m=null!=y?o.getNode().getImmediateChild(f).updateChild(v,y):o.getNode().getImmediateChild(f)}else m=n.calcCompleteChild(f,t.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),f,m,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h),d=p.updateChild(f,n);s=".priority"==h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Ne,null)}var v=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),m=new Re(r,v,i);return this.generateEventCacheAfterServerEvent_(v,e,r,m,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Re(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):$t.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:we.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new it(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new it(e),f,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=we.Empty;return s.getNode().forEachChild(Lt,function(t,e){u=u.set(new it(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=we.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ne,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new Re(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();g.assert(l instanceof $t,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,$t.EMPTY_NODE,e.popFront(),a,i):s,u.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(it.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),De=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===Ce.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ce.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,Ce.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ce.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ce.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ce.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ce.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw g.assertionError("Should only compare child_ events.");var n=new Nt(t.childName,t.snapshotNode),r=new Nt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ae(n.getIndex()),i=n.getNodeFilter();this.processor_=new Le(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode($t.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode($t.EMPTY_NODE,a.getNode(),null),c=new Se(s,o.isFullyInitialized(),r.filtersNodes()),l=new Se(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Me(l,c),this.eventGenerator_=new De(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){g.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===te.MERGE&&null!==t.source.queryId&&(g.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),g.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),g.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(jt,function(t,e){n.push(Ce.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(Ce.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Fe=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(ge,"Reference.ts has not been loaded"),ge},set:function(t){g.assert(!ge,"__referenceConstructor has already been defined"),ge=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return g.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=g.safeGet(this.views_,r);return g.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return g.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=g.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof $t?(s=n.calcCompleteEventChildren(r),u=!1):(s=$t.EMPTY_NODE,u=!1);var c=new Me(new Se(s,u,!1),new Se(r,i,!1));a=new ke(t,c),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;g.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var c=g.safeGet(this.views_,i);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return g.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return g.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return g.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Ue=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new we(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=it.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new we(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return g.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,we.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(it.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(jt,function(e,n){t.push(new Nt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Nt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new we(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(it.Empty,this.writeTree_,e)},t.Empty=new t(new we(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(g.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),je=function(){function t(){this.visibleWrites_=Ue.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Be(t,this)},t.prototype.addOverwrite=function(t,e,n,r){g.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){g.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});g.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;g.forEach(u,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(it.Empty)){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},s=t.layerTree_(this.allWrites_,a,e),u=n||$t.EMPTY_NODE;return s.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(e);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(it.Empty)){var u=n||$t.EMPTY_NODE;return l.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=$t.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(jt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(jt,function(t,e){var r=i.childCompoundWrite(new it(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){g.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(it.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!g.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,it.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ue.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=it.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=it.relativePath(a,n),r=r.addWrite(it.Empty,o.snap.getChild(s)));else{if(!o.children)throw g.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=it.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=it.relativePath(a,n),s.isEmpty())r=r.addWrites(it.Empty,o.children);else{var u=g.safeGet(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(it.Empty,c)}}}}}return r},t}(),Be=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ze=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=we.Empty,this.pendingWriteTree_=new je,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Ee(ye.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=we.fromObject(e);return this.applyOperationToSyncPoints_(new Te(ye.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=we.Empty;return null!=n.snap?r=r.set(it.Empty,!0):g.forEach(n.children,function(t,e){r=r.set(new it(t),e)}),this.applyOperationToSyncPoints_(new _e(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Ee(ye.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=we.fromObject(e);return this.applyOperationToSyncPoints_(new Te(ye.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new xe(ye.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=it.relativePath(a,e),c=new Ee(ye.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=it.relativePath(a,e),c=we.fromObject(n),l=new Te(ye.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=it.relativePath(o,e),u=new xe(ye.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=it.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(it.Empty)):(a=new Fe,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;if(null!=i)s=!0;else{s=!1,i=$t.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(it.Empty);n&&(i=i.updateImmediateChild(t,n))})}var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);g.assert(!(c in this.queryToTagMap_),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap_[c]=l,this.tagToQueryMap_["_"+l]=c}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=it.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var r=[];return e&&(r=e.getQueryViews()),g.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)g.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),g.forEach(n,function(t,e){r=r.concat(e)}),r}),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||$t.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=Z(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return g.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return g.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);g.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(it.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(it.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(it.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(it.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(it.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ve=function(){function t(){this.rootNode_=$t.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),He=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(t)},t}(),Ge=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),g.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return g.deepCopy(this.counters_)},t}(),We=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ge),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),qe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=g.clone(t);return this.last_&&g.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ye=1e4,Xe=3e4,$e=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qe(t);var n=Ye+(Xe-Ye)*Math.random();rt(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;g.forEach(e,function(e,i){i>0&&g.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),rt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ke(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ke=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();O&&P("event: "+e.toString()),et(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ze=function(){function t(t){this.allowedEvents_=t,this.listeners_={},g.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){g.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Je=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return _.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ze),tn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||g.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return _.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ze),en=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&et(function(){n.onMessage_(t[e])})}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},t}(),nn="pLPCommand",rn="pRTLPCB",on=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=L(t),this.stats_=We.getCollection(e),this.urlFn=function(t){return e.connectionURL(at,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new en(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),B(function(){if(!n.isClosed_){n.scriptTagHolder=new an(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={};t.start="t",t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!Q()&&!K()&&!g.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=g.base64Encode(e),r=Y(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!g.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=g.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),an=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new le,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,g.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C(),window[nn+this.uniqueCallbackIdentifier]=e,window[rn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){P("frame writing exception"),t.stack&&P(t.stack),P(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||P("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),g.isNodeSdk()&&this.myID){var n={};n.disconn="t",n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;g.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){P("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),sn=null;"undefined"!=typeof MozWebSocket?sn=MozWebSocket:"undefined"!=typeof WebSocket&&(sn=WebSocket);var un=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=L(this.connId),this.stats_=We.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={};return r.v="5",!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var i=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,T.set("previous_websocket_failure",!0);try{if(g.isNodeSdk()){var o=g.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+b.SDK_VERSION+"/"+r.platform+"/"+o}},s=n.i({NODE_ENV:"production"}),u=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new sn(this.connURL,[],a)}else this.mySock=new sn(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var c=t.message||t.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(t){i.handleIncomingFrame(t)},this.mySock.onerror=function(t){i.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&i.log_(e),i.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==sn&&!t.forceDisallow_},t.previouslyFailed=function(){return T.isInMemoryStorage||!0===T.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){T.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=g.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(g.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Y(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),cn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[on,un]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=un&&un.isAvailable(),r=n&&!un.previouslyFailed();if(e.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{var i=this.transports_=[];X(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ln=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=L("c:"+this.id+":"),this.transportManager_=new cn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rt(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=W("t",t),n=W("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=W("t",t),n=W("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=W("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?D("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rt(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rt(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(T.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),hn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),fn=1e3,pn=3e5,dn=function(t){function e(n,r,i,o,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=L("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=fn,u.maxReconnectDelay_=pn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!g.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Je.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&tn.getInstance().on("online",u.onOnline_,u),u}return _.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(g.stringify(i)),g.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),g.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&g.contains(t,"w")){var n=g.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();F("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||g.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=g.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+g.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):D("Unrecognized action received from server: "+g.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;g.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=fn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},l=function(t){g.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)};this.realtime_={close:c,sendRequest:l};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){s?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new ln(i,o.repoInfo_,t,n,r,function(t){F(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),s||(g.CONSTANTS.NODE_ADMIN&&F(t),c())})}},e.prototype.interrupt=function(t){P("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){P("Resuming connection for reason: "+t),delete this.interruptReasons_[t],g.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return q(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new it(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===g.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){P("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),g.forEach(this.listens_,function(e,n){g.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";g.CONSTANTS.NODE_ADMIN?e="admin_node":g.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+b.SDK_VERSION.replace(/\./g,"-")]=1,g.isMobileCordova()?t["framework.cordova"]=1:g.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=tn.getInstance().currentlyOnline();return g.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(hn),vn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=L("p:rest:"),i.listens_={},i}return _.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(g.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),g.safeGet(o.listens_,s)===u){var c;c=t?401==t?"permission_denied":"rest_error:"+t:"ok",i(c,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+g.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=g.jsonEval(s.responseText)}catch(t){F("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&F("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(hn),mn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new he,this.persistentConnection_=null;var i=new He(n);if(this.stats_=We.getCollection(t),e||nt())this.server_=new vn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{g.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new dn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=We.getOrCreateReporter(t,function(){return new $e(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Ve,this.infoSyncTree_=new ze({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new ze({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new it(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return fe({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new it(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=g.map(e,function(t){return u(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=u(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var c=g.map(e,function(t){return u(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=u(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;X(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new it("/.info/"+t),r=u(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=u(e,n),s=ve(a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||F("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(g.forEach(e,function(t,e){i=!1;var n=u(e);a[t]=ve(n,o)}),i)P("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||F("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),g.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=de(this.onDisconnect_,e),r=[];n.forEachTree(it.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new he,this.eventQueue_.raiseEventsForChangedPath(it.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=u(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=u(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(g.isEmpty(e))return P("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&g.forEach(e,function(e,n){var i=u(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new qe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);g.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),P.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&et(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Mn(this))},enumerable:!0,configurable:!0}),t}(),gn=function(){function t(e){this.indexedFilter_=new Ae(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Nt(e,n))||(n=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$t.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);var i=this;return e.forEachChild(jt,function(t,e){i.matches(new Nt(t,e))||(r=r.updateImmediateChild(t,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),yn=function(){function t(t){this.rangedFilter_=new gn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Nt(e,n))||(n=$t.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$t.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority($t.EMPTY_NODE);var u=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,f=!1;i.hasNext();){var a=i.getNext();!f&&l(u,a)<=0&&(f=!0);var s=f&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,$t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;g.assert(s.numChildren()==this.limit_,"");var u=new Nt(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name==e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ce.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ce.childRemovedChange(e,h));var d=s.updateImmediateChild(e,$t.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Ce.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Ce.childRemovedChange(c.name,c.node)),i.trackChildChange(Ce.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,$t.EMPTY_NODE)):t},t}(),_n=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:z},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return g.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==jt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==jt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ae(this.getIndex()):this.hasLimit()?new yn(this):new gn(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===jt?r=e.PRIORITY_INDEX:this.index_===ne?r=e.VALUE_INDEX:this.index_===Lt?r=e.KEY_INDEX:(g.assert(this.index_ instanceof re,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=g.stringify(r),this.startSet_&&(n[e.START_AT]=g.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+g.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=g.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+g.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),bn=function(t){function e(e,n){if(!(e instanceof mn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,_n.DEFAULT,!1)||this}return _.__extends(e,t),e.prototype.getKey=function(){return g.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return g.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof it||(null===this.path.getFront()?Tt("Reference.child",1,t,!1):Et("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){g.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){g.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){g.validateArgCount("Reference.set",1,2,arguments.length),St("Reference.set",this.path),mt("Reference.set",1,t,this.path,!1),g.validateCallback("Reference.set",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(g.validateArgCount("Reference.update",1,2,arguments.length),St("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,F("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_t("Reference.update",1,t,this.path,!1),g.validateCallback("Reference.update",2,e,!0);var i=new g.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(g.validateArgCount("Reference.setWithPriority",2,3,arguments.length),St("Reference.setWithPriority",this.path),mt("Reference.setWithPriority",1,t,this.path,!1),bt("Reference.setWithPriority",2,e,!1),g.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new g.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return g.validateArgCount("Reference.remove",0,1,arguments.length),St("Reference.remove",this.path),g.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(g.validateArgCount("Reference.transaction",1,3,arguments.length),St("Reference.transaction",this.path),g.validateCallback("Reference.transaction",1,t,!1),g.validateCallback("Reference.transaction",2,e,!0),Ct("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new g.Deferred;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new It(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){g.validateArgCount("Reference.setPriority",1,2,arguments.length),St("Reference.setPriority",this.path),bt("Reference.setPriority",1,t,!1),g.validateCallback("Reference.setPriority",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){g.validateArgCount("Reference.push",0,2,arguments.length),St("Reference.push",this.path),mt("Reference.push",1,t,this.path,!0),g.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ot(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return St("Reference.onDisconnect",this.path),new At(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ce);ce.__referenceConstructor=bn,Fe.__referenceConstructor=bn;var wn,xn=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),En=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new xn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof it?e:new it(e),i=this;null!==(n=r.getFront());){i=new t(n,i,g.safeGet(i.node_.children,n)||new xn),r=r.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){g.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;g.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new it(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=g.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(wn||(wn={})),mn.MAX_TRANSACTION_RETRIES_=25,mn.prototype.transactions_init_=function(){this.transactionQueueTree_=new En},mn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new bn(this,t);o.on("value",i);var a=function(){o.off("value",i)},s={path:t,update:e,onComplete:n,status:null,order:C(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var l=s.update(c.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var h=new ie(s.currentInputSnapshot,new bn(this,s.path),jt);s.onComplete(null,!1,h)}}else{gt("transaction failed: Data returned ",l,s.path),s.status=wn.RUN;var f=this.transactionQueueTree_.subTree(t),p=f.getValue()||[];p.push(s),f.setValue(p);var d=void 0;if("object"==typeof l&&null!==l&&g.contains(l,".priority"))d=g.safeGet(l,".priority"),g.assert(vt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{d=(this.serverSyncTree_.calcCompleteEventCache(t)||$t.EMPTY_NODE).getPriority().val()}d=d;var v=this.generateServerValues(),m=u(l,d),y=ve(m,v);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var _=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,_),this.sendReadyTransactions_()}},mn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||$t.EMPTY_NODE},mn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);g.assert(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===wn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},mn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];g.assert(u.status===wn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=wn.SENT,u.retryCount++;var c=it.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=wn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new bn(n,e[a].path),c=new ie(s,u,jt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(var a=0;a<o.length;a++)et(o[a])}else{if("datastale"===r)for(var a=0;a<e.length;a++)e[a].status===wn.SENT_NEEDS_ABORT?e[a].status=wn.NEEDS_ABORT:e[a].status=wn.RUN;else{F("transaction at "+h.toString()+" failed: "+r);for(var a=0;a<e.length;a++)e[a].status=wn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},a)},mn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},mn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===wn.RUN}),o=i.map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],c=it.relativePath(e,s.path),l=!1,h=void 0;if(g.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===wn.NEEDS_ABORT)l=!0,h=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===wn.RUN)if(s.retryCount>=mn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,o);s.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){gt("transaction failed: Data returned ",p,s.path);var d=u(p),v="object"==typeof p&&null!=p&&g.contains(p,".priority");v||(d=d.updatePriority(f.getPriority()));var m=s.currentWriteId,y=this.generateServerValues(),_=ve(d,y);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=_,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(m),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,_,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else l=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],l&&(t[a].status=wn.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[a].unwatcher),t[a].onComplete))if("nodata"===h){var b=new bn(this,t[a].path),w=t[a].currentInputSnapshot,x=new ie(w,b,jt);n.push(t[a].onComplete.bind(null,null,!1,x))}else n.push(t[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)et(n[a]);this.sendReadyTransactions_()}},mn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},mn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},mn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},mn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==wn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},mn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},mn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===wn.SENT_NEEDS_ABORT);else if(e[o].status===wn.SENT)g.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=wn.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(g.assert(e[o].status===wn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var o=0;o<n.length;o++)et(n[o])}};var Tn,Sn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Tn||(Tn=new t),Tn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&k("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=ut(n),i=r.repoInfo;return Mt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=g.safeGet(this.repos_,t.app.name);e&&g.safeGet(e,t.repoInfo_.toURLString())===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=g.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=g.safeGet(n,t.toURLString());return r&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new mn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Mn=function(){function t(t){this.repo_=t,t instanceof mn||k("Don't call new Database() directly - please use firebase.database()."),this.root_=new bn(t,it.Empty),this.INTERNAL=new Cn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),g.validateArgCount("database.ref",0,1,arguments.length),t instanceof bn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),g.validateArgCount(e,1,1,arguments.length);var n=ut(t);Mt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){g.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){g.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),Cn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return _.__awaiter(this,void 0,void 0,function(){return _.__generator(this,function(t){return this.database.checkDeleted_("delete"),Sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),An=function(){un.forceDisallow(),on.forceAllow()},In=function(){on.forceDisallow()},On=function(){return un.isAvailable()},Nn=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Rn=function(t,e){t.repo.stats(e)},Pn=function(t,e){t.repo.statsIncrementCounter(e)},Ln=function(t){return t.repo.dataUpdateCount},Dn=function(t,e){return t.repo.interceptServerData_(e)},kn=Object.freeze({forceLongPolling:An,forceWebSockets:In,isWebSocketsAvailable:On,setSecurityDebugCallback:Nn,stats:Rn,statsIncrementCounter:Pn,dataUpdateCount:Ln,interceptServerData:Dn}),Fn=dn;dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Un=ln,jn=function(t){var e=dn.prototype.put;return dn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){dn.prototype.put=e}},Bn=st,zn=function(t){return t.queryIdentifier()},Vn=function(t){return t.repo.persistentConnection_.listens_},Hn=function(t){Sn.getInstance().forceRestClient(t)},Gn=Object.freeze({DataConnection:Fn,RealTimeConnection:Un,hijackHash:jn,ConnectionTarget:Bn,queryIdentifier:zn,listens:Vn,forceRestClient:Hn}),Wn=Mn.ServerValue;c(b),e.registerDatabase=c,e.Database=Mn,e.Query=ce,e.Reference=bn,e.enableLogging=R,e.ServerValue=Wn,e.DataSnapshot=ie,e.OnDisconnect=At}).call(e,n(224))},function(t,e,n){"use strict";function r(t){o.forEach(function(e){e.logLevel=t})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setLogLevel",function(){return r}),n.d(e,"Logger",function(){return u}),n.d(e,"LogLevel",function(){return i});var i,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}()},function(t,e,n){"use strict";function r(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),i=0;i<t.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function i(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}function o(t){return i(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function s(t){if(t.objectStoreNames.contains(A)){var e=t.transaction(A),n=e.objectStore(A),r=new M,i=n.openCursor();i.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},i.onsuccess=function(){var e=i.result;if(e){var n=e.value;r.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase(C)}}}function u(){var t=indexedDB.open(C);t.onerror=function(t){},t.onsuccess=function(e){s(t.result)}}function c(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw x.create(b.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw x.create(b.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw x.create(b.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw x.create(b.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw x.create(b.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw x.create(b.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw x.create(b.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw x.create(b.BAD_PUSH_SET)}function h(t,e,n){if(!r(e.buffer,n.vapidKey.buffer))return!1;var i=t.endpoint===n.endpoint,o=r(t.getKey("auth"),n.auth),a=r(t.getKey("p256dh"),n.p256dh);return i&&o&&a}function f(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function p(t,e){return n={},n[m.TYPE_OF_MSG]=t,n[m.DATA]=e,n;var n}function d(t){var e=function(t){return self&&"ServiceWorkerGlobalScope"in self?new L(t):new D(t)},n={Messaging:D};t.INTERNAL.registerService("messaging",e,n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerMessaging",function(){return d});var v,m,g=n(102),y=(n.n(g),n(155)),_=n(63),b={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},w=(v={},v[b.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",v[b.AVAILABLE_IN_SW]="This method is available in a service worker context.",v[b.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",v[b.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",v[b.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",v[b.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",v[b.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",v[b.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",v[b.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",v[b.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",v[b.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",v[b.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",v[b.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",v[b.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",v[b.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",v[b.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",v[b.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",v[b.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",v[b.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",v[b.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",v[b.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",v[b.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",v[b.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",v[b.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",v[b.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",v[b.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",v[b.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",v[b.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",v[b.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",v[b.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",v[b.BAD_SCOPE]="The service worker scope must be a string with at least one character.",v[b.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",v[b.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",v[b.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",v[b.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",v[b.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",v[b.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",v[b.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",v),x=new g.ErrorFactory("messaging","Messaging",w),E=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),T="https://fcm.googleapis.com";!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(m||(m={}));var S;!function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(S||(S={}));var M=function(){function t(){}return t.prototype.getToken=function(t,e,r){return n.i(y.__awaiter)(this,void 0,void 0,function(){var i,a,s,u,c,l,h,f,p,d;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:i=o(e.getKey("p256dh")),a=o(e.getKey("auth")),s="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+a,r!==E&&(u=o(r),s+="&application_pub_key="+u),c=new Headers,c.append("Content-Type","application/x-www-form-urlencoded"),l={method:"POST",headers:c,body:s},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/subscribe",l)];case 2:return f=n.sent(),[4,f.json()];case 3:return h=n.sent(),[3,5];case 4:throw p=n.sent(),x.create(b.TOKEN_SUBSCRIBE_FAILED);case 5:if(h.error)throw d=h.error.message,x.create(b.TOKEN_SUBSCRIBE_FAILED,{message:d});if(!h.token)throw x.create(b.TOKEN_SUBSCRIBE_NO_TOKEN);if(!h.pushSet)throw x.create(b.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:h.token,pushSet:h.pushSet}]}})})},t.prototype.updateToken=function(t,e,r,i,a){return n.i(y.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,h,f,p,d,v,m;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:s=o(i.getKey("p256dh")),u=o(i.getKey("auth")),c="push_set="+r+"&token="+e+"&authorized_entity="+t+"&endpoint="+i.endpoint+"&encryption_key="+s+"&encryption_auth="+u,a!==E&&(l=o(a),c+="&application_pub_key="+l),h=new Headers,h.append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:h,body:c},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/subscribe",f)];case 2:return d=n.sent(),[4,d.json()];case 3:return p=n.sent(),[3,5];case 4:throw v=n.sent(),x.create(b.TOKEN_UPDATE_FAILED);case 5:if(p.error)throw m=p.error.message,x.create(b.TOKEN_UPDATE_FAILED,{message:m});if(!p.token)throw x.create(b.TOKEN_UPDATE_NO_TOKEN);return[2,p.token]}})})},t.prototype.deleteToken=function(t,e,r){return n.i(y.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:i="authorized_entity="+t+"&token="+e+"&pushSet="+r,o=new Headers,o.append("Content-Type","application/x-www-form-urlencoded"),a={method:"POST",headers:o,body:i},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/unsubscribe",a)];case 2:return s=n.sent(),[4,s.json()];case 3:if(u=n.sent(),u.error)throw c=u.error.message,x.create(b.TOKEN_UNSUBSCRIBE_FAILED,{message:c});return[3,5];case 4:throw l=n.sent(),x.create(b.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}(),C="undefined",A="fcm_token_object_Store",I=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){function n(n){return n.index(t).get(e)}return this.createTransaction(n)},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){var t;return n.i(y.__generator)(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t=e.sent(),t.close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return n.i(y.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getDb()];case 1:return r=n.sent(),i=r.transaction(this.objectStoreName,e),o=i.objectStore(this.objectStoreName),[4,c(t(o))];case 2:return a=n.sent(),[2,new Promise(function(t,e){i.oncomplete=function(){t(a)},i.onerror=function(){e(i.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}(),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return n.i(y.__extends)(e,t),e.prototype.onDbUpgrade=function(t,e){var r=t.result;switch(e.oldVersion){case 0:var i=r.createObjectStore(this.objectStoreName,{keyPath:"swScope"});i.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:u();case 2:var i=t.transaction.objectStore(this.objectStoreName),o=i.openCursor();o.onsuccess=function(){var t=o.result;if(t){var e=t.value,r=n.i(y.__assign)({},e);e.createTime||(r.createTime=Date.now()),"string"==typeof e.vapidKey&&(r.vapidKey=a(e.vapidKey)),"string"==typeof e.auth&&(r.auth=a(e.auth).buffer),"string"==typeof e.auth&&(r.p256dh=a(e.p256dh).buffer),t.update(r),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(e){if(!t)throw x.create(b.BAD_TOKEN);return l({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(e){if(!t)throw x.create(b.BAD_SCOPE);return l({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(e){if(!t.swScope)throw x.create(b.BAD_SCOPE);if(!t.vapidKey)throw x.create(b.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw x.create(b.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw x.create(b.BAD_SENDER_ID);if(!t.fcmToken)throw x.create(b.BAD_TOKEN);if(!t.fcmPushSet)throw x.create(b.BAD_PUSH_SET);return l(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(x.create(b.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw x.create(b.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(I),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return n.i(y.__extends)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw x.create(b.BAD_SCOPE);return[4,this.get(t)];case 1:return e=n.sent(),[2,e?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return n.i(y.__awaiter)(this,void 0,void 0,function(){var r;return n.i(y.__generator)(this,function(n){if("string"!=typeof t||0===t.length)throw x.create(b.BAD_SCOPE);if(null===e||65!==e.length)throw x.create(b.BAD_VAPID_KEY);return r={swScope:t,vapidKey:e},[2,this.put(r)]})})},e.prototype.deleteVapidDetails=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw x.create(b.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(I),R="messagingSenderId",P=function(){function t(t){var e=this;if(!t.options[R]||"string"!=typeof t.options[R])throw x.create(b.BAD_SENDER_ID);this.messagingSenderId=t.options[R],this.tokenDetailsModel=new O,this.vapidDetailsModel=new N,this.iidModel=new M,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){var t,e,r,i,o;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return t=this.getNotificationPermission_(),"granted"!==t?"denied"===t?[2,Promise.reject(x.create(b.NOTIFICATIONS_BLOCKED))]:[2,Promise.resolve(null)]:[4,this.getSWRegistration_()];case 1:return e=n.sent(),[4,this.getPublicVapidKey_()];case 2:return r=n.sent(),[4,this.getPushSubscription(e,r)];case 3:return i=n.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return o=n.sent(),o?[2,this.manageExistingToken(e,i,r,o)]:[2,this.getNewToken(e,i,r)]}})})},t.prototype.manageExistingToken=function(t,e,r,i){return n.i(y.__awaiter)(this,void 0,void 0,function(){var o,a;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return o=h(e,r,i),o?(a=Date.now(),a<i.createTime+6048e5?[2,i.fcmToken]:[2,this.updateToken(t,e,r,i)]):[4,this.deleteTokenFromDB(i.fcmToken)];case 1:return n.sent(),[2,this.getNewToken(t,e,r)]}})})},t.prototype.updateToken=function(t,e,r,i){return n.i(y.__awaiter)(this,void 0,void 0,function(){var o,a,s;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,i.fcmToken,i.fcmPushSet,e,r)];case 1:return o=n.sent(),a={swScope:t.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:o,fcmPushSet:i.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(a)];case 2:return n.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,r)];case 3:return n.sent(),[2,o];case 4:return s=n.sent(),[4,this.deleteToken(i.fcmToken)];case 5:throw n.sent(),s;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,r){return n.i(y.__awaiter)(this,void 0,void 0,function(){var i,o;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,r)];case 1:return i=n.sent(),o={swScope:t.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:i.token,fcmPushSet:i.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return n.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,r)];case 3:return n.sent(),[2,i.token]}})})},t.prototype.deleteToken=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e,r;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return n.sent(),[4,this.getSWRegistration_()];case 2:return e=n.sent(),e?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(r=n.sent())return[2,r.unsubscribe()];n.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw x.create(b.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw x.create(b.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw x.create(b.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw x.create(b.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw x.create(b.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw x.create(b.AVAILABLE_IN_SW)},t.prototype.delete=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIIDModel=function(){return this.iidModel},t}(),L=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return n.i(y.__extends)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,a;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return(r=n.sent())?e.notification||this.bgMessageHandler?[2,this.sendMessageToWindowClients_(e)]:[2]:(i=this.getNotificationData_(e))?(o=i.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return a=n.sent(),[2,a.showNotification(o,i)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return n.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var t,e,r,i,o;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=n.sent(),[3,3];case 2:throw e=n.sent(),x.create(b.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return n.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return n.sent(),[3,8];case 5:return r=n.sent(),i=this.getTokenDetailsModel(),[4,i.getTokenDetailsFromSWScope(t.scope)];case 6:if(!(o=n.sent()))throw r;return[4,this.deleteToken(o.fcmToken)];case 7:throw n.sent(),r;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e,r,i,o;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?(t.stopImmediatePropagation(),t.notification.close(),e=t.notification.data.FCM_MSG,e.notification?(r=e.notification.click_action,r?[4,this.getWindowClient_(r)]:[2]):[2]):[2];case 1:return i=n.sent(),i?[3,3]:[4,self.clients.openWindow(r)];case 2:return i=n.sent(),[3,5];case 3:return[4,i.focus()];case 4:i=n.sent(),n.label=5;case 5:return i?(delete e.notification,o=p(S.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(i,o)]):[2]}})})},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e=n.i(y.__assign)({},t.notification);return e.data=(r={},r.FCM_MSG=t,r),e;var r}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw x.create(b.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,a;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return e=new URL(t,self.location.href).href,[4,f()];case 1:for(r=n.sent(),i=null,o=0;o<r.length;o++)if((a=new URL(r[o].url,self.location.href).href)===e){i=r[o];break}return[2,i]}})})},e.prototype.attemptToMessageClient_=function(t,e){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(n){if(!t)throw x.create(b.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){var t;return n.i(y.__generator)(this,function(e){switch(e.label){case 0:return[4,f()];case 1:return t=e.sent(),[2,t.some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return n.i(y.__awaiter)(this,void 0,void 0,function(){var e,r,i=this;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,f()];case 1:return e=n.sent(),r=p(S.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return i.attemptToMessageClient_(t,r)}))];case 2:return n.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){var t,e;return n.i(y.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw x.create(b.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return e=n.sent(),null==e?[2,E]:[2,e]}})})},e}(P),D=function(t){function e(e){var r=t.call(this,e)||this;return r.registrationToUse=null,r.publicVapidKeyToUse=null,r.manifestCheckPromise=null,r.messageObserver=null,r.tokenRefreshObserver=null,r.onMessageInternal=n.i(g.createSubscribe)(function(t){r.messageObserver=t}),r.onTokenRefreshInternal=n.i(g.createSubscribe)(function(t){r.tokenRefreshObserver=t}),r.setupSWMessageListener_(),r}return n.i(y.__extends)(e,t),e.prototype.getToken=function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return t.prototype.getToken.call(e)}):Promise.reject(x.create(b.UNSUPPORTED_BROWSER))},e.prototype.manifestCheck_=function(){if(this.manifestCheckPromise)return this.manifestCheckPromise;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise=t?fetch(t.href).then(function(t){return t.json()}).catch(function(){}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw x.create(b.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise},e.prototype.requestPermission=function(){return n.i(y.__awaiter)(this,void 0,void 0,function(){return n.i(y.__generator)(this,function(t){return"granted"===Notification.permission?[2]:[2,new Promise(function(t,e){var n=function(n){return"granted"===n?t():e("denied"===n?x.create(b.PERMISSION_BLOCKED):x.create(b.PERMISSION_DEFAULT))},r=Notification.requestPermission(n);r&&r.then(n)})]})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw x.create(b.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw x.create(b.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw x.create(b.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw x.create(b.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=a(t);if(65!==e.length)throw x.create(b.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(!e)return void r(x.create(b.NO_SW_IN_REG));if("activated"===e.state)return void n(t);if("redundant"===e.state)return void r(x.create(b.SW_REG_REDUNDANT));var i=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(x.create(b.SW_REG_REDUNDANT))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw x.create(b.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse?Promise.resolve(this.publicVapidKeyToUse):Promise.resolve(E)},e.prototype.setupSWMessageListener_=function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[m.TYPE_OF_MSG]){var n=e.data;switch(n[m.TYPE_OF_MSG]){case S.PUSH_MSG_RECEIVED:case S.NOTIFICATION_CLICKED:var r=n[m.DATA];t.messageObserver&&t.messageObserver.next(r)}}},!1)},e.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},e}(P);d(_.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){function r(){}function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}function f(t,e){return e={exports:{}},t(e,e.exports),e.exports}var p=n(655),d=(n.n(p),setTimeout);o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(t,e)},n)}i[t]=a,0==--o&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){d(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var v=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();v.Promise||(v.Promise=o);var m=f(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=f(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),y=(g.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),_=function(t){if(!y(t))throw TypeError(t+" is not an object!");return t},b=function(t){try{return!!t()}catch(t){return!0}},w=!b(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),x=m.document,E=y(x)&&y(x.createElement),T=function(t){return E?x.createElement(t):{}},S=!w&&!b(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}),M=function(t,e){if(!y(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},C=Object.defineProperty,A=w?Object.defineProperty:function(t,e,n){if(_(t),e=M(e,!0),_(n),S)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},I={f:A},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},N=w?function(t,e,n){return I.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},R={}.hasOwnProperty,P=function(t,e){return R.call(t,e)},L=0,D=Math.random(),k=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++L+D).toString(36))},F=f(function(t){var e=k("src"),n=Function.toString,r=(""+n).split("toString");g.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(P(i,"name")||N(i,"name",n)),t[n]!==i&&(a&&(P(i,e)||N(i,e,t[n]?""+t[n]:r.join(String(n)))),t===m?t[n]=i:o?t[n]?t[n]=i:N(t,n,i):(delete t[n],N(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),U=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},j=function(t,e,n){if(U(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},B=function(t,e,n){var r,i,o,a,s=t&B.F,u=t&B.G,c=t&B.S,l=t&B.P,h=t&B.B,f=u?m:c?m[e]||(m[e]={}):(m[e]||{}).prototype,p=u?g:g[e]||(g[e]={}),d=p.prototype||(p.prototype={});u&&(n=e);for(r in n)i=!s&&f&&void 0!==f[r],o=(i?f:n)[r],a=h&&i?j(o,m):l&&"function"==typeof o?j(Function.call,o):o,f&&F(f,r,o,t&B.U),p[r]!=o&&N(p,r,a),l&&d[r]!=o&&(d[r]=o)};m.core=g,B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var z=B,V={}.toString,H=function(t){return V.call(t).slice(8,-1)},G=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==H(t)?t.split(""):Object(t)},W=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},q=function(t){return Object(W(t))},Y=Math.ceil,X=Math.floor,$=function(t){return isNaN(t=+t)?0:(t>0?X:Y)(t)},Q=Math.min,K=function(t){return t>0?Q($(t),9007199254740991):0},Z=Array.isArray||function(t){return"Array"==H(t)},J=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),tt=function(t){return J[t]||(J[t]={})},et=f(function(t){var e=tt("wks"),n=m.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:k)("Symbol."+t))}).store=e}),nt=et("species"),rt=function(t){var e;return Z(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!Z(e.prototype)||(e=void 0),y(e)&&null===(e=e[nt])&&(e=void 0)),void 0===e?Array:e},it=function(t,e){return new(rt(t))(e)},ot=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||it;return function(e,c,l){for(var h,f,p=q(e),d=G(p),v=j(c,l,3),m=K(d.length),g=0,y=n?u(e,m):r?u(e,0):void 0;m>g;g++)if((s||g in d)&&(h=d[g],f=v(h,g,p),t))if(n)y[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:y.push(h)}else if(o)return!1;return a?-1:i||o?o:y}},at=et("unscopables"),st=Array.prototype;void 0==st[at]&&N(st,at,{});var ut=function(t){st[at][t]=!0},ct=ot(5),lt=!0;"find"in[]&&Array(1).find(function(){lt=!1}),z(z.P+z.F*lt,"Array",{find:function(t){return ct(this,t,arguments.length>1?arguments[1]:void 0)}}),ut("find");var ht=(g.Array.find,ot(6)),ft=!0;"findIndex"in[]&&Array(1).findIndex(function(){ft=!1}),z(z.P+z.F*ft,"Array",{findIndex:function(t){return ht(this,t,arguments.length>1?arguments[1]:void 0)}}),ut("findIndex");var pt=(g.Array.findIndex,et("match")),dt=function(t){var e;return y(t)&&(void 0!==(e=t[pt])?!!e:"RegExp"==H(t))},vt=function(t,e,n){if(dt(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(W(t))},mt=et("match"),gt="".startsWith;z(z.P+z.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[mt]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=vt(this,t,"startsWith"),n=K(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return gt?gt.call(e,r,n):e.slice(n,n+r.length)===r}});g.String.startsWith}.call(e,n(225).setImmediate,n(32))},function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new te(ee.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(t){return new te(ee.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function a(t){return new te(ee.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new te(ee.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(t){return new te(ee.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c(){return new te(ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new te(ee.CANCELED,"User canceled the upload/download.")}function h(t){return new te(ee.INVALID_URL,"Invalid URL '"+t+"'.")}function f(t){return new te(ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p(){return new te(ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d(){return new te(ee.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v(){return new te(ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function m(t,e,n){return new te(ee.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function g(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?"argument":"arguments"):(i="between "+t+" and "+e,o="arguments"),new te(ee.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function y(){return new te(ee.APP_DELETED,"The Firebase app was deleted.")}function _(t){return new te(ee.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(t,e){return new te(ee.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new te(ee.INTERNAL_ERROR,"Internal error: "+t)}function x(t){switch(t){case ne.RAW:case ne.BASE64:case ne.BASE64URL:case ne.DATA_URL:return;default:throw"Expected one of the event types: ["+ne.RAW+", "+ne.BASE64+", "+ne.BASE64URL+", "+ne.DATA_URL+"]."}}function E(t,e){switch(t){case ne.RAW:return new re(T(e));case ne.BASE64:case ne.BASE64URL:return new re(M(t,e));case ne.DATA_URL:return new re(C(e),A(e))}throw i()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function S(t){var e;try{e=decodeURIComponent(t)}catch(t){throw b(ne.DATA_URL,"Malformed data URL.")}return T(e)}function M(t,e){switch(t){case ne.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw b(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case ne.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){var i=o?"+":"/";throw b(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw b(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function C(t){var e=new ie(t);return e.base64?M(ne.BASE64,e.rest):S(e.rest)}function A(t){return new ie(t).contentType}function I(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}function O(t){switch(t){case ae.RUNNING:case ae.PAUSING:case ae.CANCELING:return se.RUNNING;case ae.PAUSED:return se.PAUSED;case ae.SUCCESS:return se.SUCCESS;case ae.CANCELED:return se.CANCELED;case ae.ERROR:default:return se.ERROR}}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){for(var n in t)N(t,n)&&e(n,t[n])}function P(t){if(null==t)return{};var e={};return R(t,function(t,n){e[t]=n}),e}function L(t){return new Promise(t)}function D(t){return Promise.resolve(t)}function k(t){return Promise.reject(t)}function F(t){return null!=t}function U(t){return void 0!==t}function j(t){return"function"==typeof t}function B(t){return"object"==typeof t}function z(t){return B(t)&&null!==t}function V(t){return B(t)&&!Array.isArray(t)}function H(t){return"string"==typeof t||t instanceof String}function G(t){return"number"==typeof t||t instanceof Number}function W(t){return q()&&t instanceof Blob}function q(){return"undefined"!=typeof Blob}function Y(t){var e;try{e=JSON.parse(t)}catch(t){return null}return V(e)?e:null}function X(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function $(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function Q(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t){return Yt+$t+t}function Z(t){return Xt+$t+t}function J(t){return Yt+Qt+t}function tt(t){var e=encodeURIComponent,n="?";return R(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function et(t,e){return e}function nt(t){return!H(t)||t.length<2?t:(t=t,Q(t))}function rt(){function t(t,e){return nt(e)}function e(t,e){return F(e)?+e:e}function n(t,e){if(!(H(e)&&e.length>0))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.bucket,i=t.fullPath;return Z("/b/"+n(r)+"/o/"+n(i))+tt({alt:"media",token:e})})}if(fe)return fe;var r=[];r.push(new he("bucket")),r.push(new he("generation")),r.push(new he("metageneration")),r.push(new he("name","fullPath",!0));var i=new he("name");i.xform=t,r.push(i);var o=new he("size");return o.xform=e,r.push(o),r.push(new he("timeCreated")),r.push(new he("updated")),r.push(new he("md5Hash",null,!0)),r.push(new he("cacheControl",null,!0)),r.push(new he("contentDisposition",null,!0)),r.push(new he("contentEncoding",null,!0)),r.push(new he("contentLanguage",null,!0)),r.push(new he("contentType",null,!0)),r.push(new he("metadata","customMetadata",!0)),r.push(new he("downloadTokens","downloadURLs",!1,n)),fe=r}function it(t,e){function n(){var n=t.bucket,r=t.fullPath,i=new le(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function ot(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return it(r,t),r}function at(t,e,n){var r=Y(e);return null===r?null:ot(t,r,n)}function st(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ut(t){if(!t||!B(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!B(n))throw"Expected object for 'customMetadata' mapping."}else if(z(n))throw"Mapping for '"+e+"' cannot be an object."}}function ct(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw g(r,i,t,n.length);for(var o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?m(o,t,e.message):m(o,t,e)}}function lt(t,e){return function(n){t(n),e(n)}}function ht(t,e){function n(t){if(!H(t))throw"Expected string."}var r;return r=t?lt(n,t):n,new pe(r,e)}function ft(){function t(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||q()&&t instanceof Blob))throw"Expected Blob or File."}return new pe(t)}function pt(t){return new pe(ut,t)}function dt(){function t(t){if(!(G(t)&&t>=0))throw"Expected a number 0 or greater."}return new pe(t)}function vt(t,e){function n(e){if(!(null===e||F(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new pe(n,e)}function mt(t){function e(t){if(null!==t&&!j(t))throw"Expected a Function."}return new pe(e,t)}function gt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(q())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function _t(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function bt(t,e){return-1!==t.indexOf(e)}function wt(t){return Array.prototype.slice.call(t)}function xt(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function Et(t){if(!t)throw i()}function Tt(t,e){function n(n,r){var i=at(t,r,e);return Et(null!==i),i}return n}function St(t){function e(e,n){var r;return r=401===e.getStatus()?s():402===e.getStatus()?a(t.bucket):403===e.getStatus()?u(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function Mt(t){function e(e,r){var i=n(e,r);return 404===e.getStatus()&&(i=o(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=St(t);return e}function Ct(t,e,n){var r=e.fullServerUrl(),i=K(r),o=t.maxOperationRetryTime(),a=new ve(i,"GET",Tt(t,n),o);return a.errorHandler=Mt(e),a}function At(t,e,n,r){var i=e.fullServerUrl(),o=K(i),a=st(n,r),s={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime(),c=new ve(o,"PATCH",Tt(t,r),u);return c.headers=s,c.body=a,c.errorHandler=Mt(e),c}function It(t,e){function n(t,e){}var r=e.fullServerUrl(),i=K(r),o=t.maxOperationRetryTime(),a=new ve(i,"DELETE",n,o);return a.successCodes=[200,204],a.errorHandler=Mt(e),a}function Ot(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Nt(t,e,n){var r=P(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ot(null,e)),r}function Rt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Nt(e,r,i),c=st(u,n),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+s+"--",f=de.getBlob(l,r,h);if(null===f)throw p();var d={name:u.fullPath},v=J(o),m=t.maxUploadRetryTime(),g=new ve(v,"POST",Tt(t,n),m);return g.urlParams=d,g.headers=a,g.body=f.uploadData(),g.errorHandler=St(e),g}function Pt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Et(!1)}return Et(bt(e||["active"],n)),n}function Lt(t,e,n,r,i){function o(t,e){Pt(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Et(!1)}return Et(H(n)),n}var a=e.bucketOnlyServerUrl(),s=Nt(e,r,i),u={name:s.fullPath},c=J(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=st(s,n),f=t.maxUploadRetryTime(),p=new ve(c,"POST",o,f);return p.urlParams=u,p.headers=l,p.body=h,p.errorHandler=St(e),p}function Dt(t,e,n,r){function i(t,e){var n,i=Pt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Et(!1)}var o=parseInt(n,10);return Et(!isNaN(o)),new me(o,r.size(),"final"===i)}var o={"X-Goog-Upload-Command":"query"},a=t.maxUploadRetryTime(),s=new ve(n,"POST",i,a);return s.headers=o,s.errorHandler=St(e),s}function kt(t,e,n,r,i,o,a,s){function u(t,n){var i,a=Pt(t,["active","final"]),s=c.current+h,u=r.size();return i="final"===a?Tt(e,o)(t,n):null,new me(s,u,"final"===a,i)}var c=new me(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw d();var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var f=c.current,v=f+h,m=h===l?"upload, finalize":"upload",g={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":c.current},y=r.slice(f,v);if(null===y)throw p();var _=e.maxUploadRetryTime(),b=new ve(n,"POST",u,_);return b.headers=g,b.body=y.uploadData(),b.progressCallback=s||null,b.errorHandler=St(t),b}function Ft(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];D(!0).then(function(){t.apply(null,e)})}}function Ut(t,e,n){function r(){return 2===h}function i(){f||(f=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,r())},e)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!f){if(t)return void i.apply(null,arguments);if(r()||l)return void i.apply(null,arguments);u<64&&(u*=2);var a;1===h?(h=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(t){p||(p=!0,f||(null!==c?(t||(h=2),clearTimeout(c),o(0)):t||(h=1)))}var u=1,c=null,l=!1,h=0,f=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function jt(t){t(!1)}function Bt(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function zt(t){var e=void 0!==qt.default?qt.default.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function Vt(t,e,n){var r=tt(t.urlParams),i=t.url+r,o=P(t.headers);return Bt(o,e),zt(o),new Te(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}function Ht(t,e,n){return new Me(t,new ce,n)}function Gt(t){var e={TaskState:se,TaskEvent:oe,StringFormat:ne,Storage:Me,Reference:be};t.INTERNAL.registerService(Ae,Ht,e,void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerStorage",function(){return Gt});var Wt,qt=n(63),Yt="https://firebasestorage.googleapis.com",Xt="https://firebasestorage.googleapis.com",$t="/v0",Qt="/v0",Kt=12e4,Zt=6e4,Jt=-9007199254740991,te=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),ee={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ne={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},re=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),ie=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw b(ne.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=I(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),oe={STATE_CHANGED:"state_changed"},ae={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},se={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Wt||(Wt={}));var ue=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Wt.NO_ERROR,this.sendPromise_=L(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=Wt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=Wt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),F(r)){R(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())})}return F(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){F(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){F(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ce=function(){function t(){}return t.prototype.createXhrIo=function(){return new ue},t}(),le=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw f(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),a={bucket:1,path:3},s=new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),u={bucket:1,path:3},c=[{regex:o,indices:a,postModify:n},{regex:s,indices:u,postModify:r}],l=0;l<c.length;l++){var f=c[l],p=f.regex.exec(e);if(p){var d=p[f.indices.bucket],v=p[f.indices.path];v||(v=""),i=new t(d,v),f.postModify(i);break}}if(null==i)throw h(e);return i},t}(),he=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||et}return t}(),fe=null,pe=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!U(e)||t(e)},this.optional=!!e}return t}(),de=function(){function t(t,e){var n=0,r="";W(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(W(this.data_)){var r=this.data_,i=_t(r,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(q()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(yt.apply(null,r))}var i=e.map(function(t){return H(t)?E(ne.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ve=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),me=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),ge=function(){function t(t,e,n){if(j(t)||F(e)||F(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return t}(),ye=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(t.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null},enumerable:!0,configurable:!0}),t}(),_e=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ae.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(ee.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(ae.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(ee.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(ae.ERROR))},this.promise_=L(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ae.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case ae.RUNNING:t(n);break;case ae.CANCELING:e.transition_(ae.CANCELED);break;case ae.PAUSING:e.transition_(ae.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=Lt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=Dt(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new me(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=kt(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(ae.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ae.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Ct(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(ae.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=Rt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ae.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ae.CANCELING:case ae.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ae.RUNNING:var e=this.state_===ae.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ae.PAUSED:this.state_=t,this.notifyObservers_();break;case ae.CANCELED:this.error_=l(),this.state_=t,this.notifyObservers_();break;case ae.ERROR:case ae.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ae.PAUSING:this.transition_(ae.PAUSED);break;case ae.CANCELING:this.transition_(ae.CANCELED);break;case ae.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=O(this.state_);return new ye(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(e){if(t!==oe.STATE_CHANGED)throw"Expected one of the event types: ["+oe.STATE_CHANGED+"]."}function o(t){try{return void c(t)}catch(t){}try{l(t);if(!(U(t.next)||U(t.error)||U(t.complete)))throw"";return}catch(t){throw u}}function a(t){function e(e,n,i){null!==t&&ct("on",t,arguments);var o=new ge(e,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}return e}function s(t){if(null===t)throw u;o(t)}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=mt(!0).validator,l=vt(null,!0).validator;ct("on",[ht(i),vt(o,!0),mt(!0),mt(!0)],arguments);var h=this,f=[vt(s),mt(!0),mt(!0)];return U(e)||U(n)||U(r)?a(null)(e,n,r):a(f)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){xt(this.observers_,t)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),wt(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(O(this.state_)){case se.SUCCESS:Ft(this.resolve_.bind(null,this.snapshot))();break;case se.CANCELED:case se.ERROR:Ft(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(O(this.state_)){case se.RUNNING:case se.PAUSED:null!==t.next&&Ft(t.next.bind(t,this.snapshot))();break;case se.SUCCESS:null!==t.complete&&Ft(t.complete.bind(t))();break;case se.CANCELED:case se.ERROR:null!==t.error&&Ft(t.error.bind(t,this.error_))();break;default:null!==t.error&&Ft(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){ct("resume",[],arguments);var t=this.state_===ae.PAUSED||this.state_===ae.PAUSING;return t&&this.transition_(ae.RUNNING),t},t.prototype.pause=function(){ct("pause",[],arguments);var t=this.state_===ae.RUNNING;return t&&this.transition_(ae.PAUSING),t},t.prototype.cancel=function(){ct("cancel",[],arguments);var t=this.state_===ae.RUNNING||this.state_===ae.PAUSING;return t&&this.transition_(ae.CANCELING),t},t}(),be=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof le?e:le.makeFromUrl(e)}return t.prototype.toString=function(){return ct("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return rt()},t.prototype.child=function(t){ct("child",[ht()],arguments);var e=$(this.location.path,t),n=new le(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=X(this.location.path);if(null===t)return null;var e=new le(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new le(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Q(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),ct("put",[ft(),pt(!0)],arguments),this.throwIfRoot_("put"),new _e(this,this.authWrapper,this.location,this.mappings(),new de(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ne.RAW),ct("putString",[ht(),ht(x,!0),pt(!0)],arguments),this.throwIfRoot_("putString");var r=E(e,t),i=P(n);return!F(i.contentType)&&F(r.contentType)&&(i.contentType=r.contentType),new _e(this,this.authWrapper,this.location,this.mappings(),new de(r.data,!0),i)},t.prototype.delete=function(){ct("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=It(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){ct("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Ct(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){ct("updateMetadata",[pt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=At(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){return ct("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(F(e))return e;throw v()})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw _(t)},t}(),we=function(){function t(t){this.promise_=k(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),xe=function(){function t(){this.map_={},this.id_=Jt}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){R(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Ee=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;F(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Kt,this.maxUploadRetryTime_=Zt,this.requestMap_=new xe}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:le.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&F(this.app_.INTERNAL)&&F(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):D(null)},t.prototype.bucket=function(){if(this.deleted_)throw y();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new we(y());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Te=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=L(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new Se(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var i=e.getErrorCode()===Wt.NO_ERROR,o=e.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=e.getErrorCode()===Wt.ABORT;return void t(!1,new Se(!1,null,a))}var s=bt(n.successCodes_,o);t(!0,new Se(s,e))})}function e(t,e){var r=n.resolve_,o=n.reject_,a=e.xhr;if(e.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());U(s)?r(s):r()}catch(t){o(t)}else if(null!==a){var u=i();u.setServerResponseProp(a.getResponseText()),o(n.errorCallback_?n.errorCallback_(a,u):u)}else if(e.canceled){var u=n.appDelete_?y():l();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?e(!1,new Se(!1,null,!0)):this.backoffId_=Ut(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&jt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=bt(n,t),i=bt(this.additionalRetryCodes_,t);return e||r||i},t}(),Se=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Me=function(){function t(t,e,n){function r(t,e){return new be(t,e)}if(this.bucket_=null,this.authWrapper_=new Ee(t,r,Vt,this,e),this.app_=t,null!=n)this.bucket_=le.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new le(i,""))}this.internals_=new Ce(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(ct("ref",[ht(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new be(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{le.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ct("refFromURL",[ht(e,!1)],arguments),new be(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){ct("setMaxUploadRetryTime",[dt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){ct("setMaxOperationRetryTime",[dt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Ce=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),D(void 0)},t}(),Ae="storage";Gt(qt.default)},function(t,e,n){"use strict";function r(t){this.rules=null,this._messages=l.a,this.define(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(163),o=n.n(i),a=n(75),s=n.n(a),u=n(9),c=n(248),l=n(237);r.prototype={messages:function(t){return t&&(this._messages=n.i(u.a)(n.i(l.b)(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":s()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,n=void 0;for(e in t)t.hasOwnProperty(e)&&(n=t[e],this.rules[e]=Array.isArray(n)?n:[n])},validate:function(t){function e(t){var e=void 0,n=void 0,r=[],i={};for(e=0;e<t.length;e++)!function(t){Array.isArray(t)?r=r.concat.apply(r,t):r.push(t)}(t[e]);if(r.length)for(e=0;e<r.length;e++)n=r[e].field,i[n]=i[n]||[],i[n].push(r[e]);else r=null,i=null;p(r,i)}var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments[2],h=t,f=a,p=c;if("function"==typeof f&&(p=f,f={}),!this.rules||0===Object.keys(this.rules).length)return void(p&&p());if(f.messages){var d=this.messages();d===l.a&&(d=n.i(l.b)()),n.i(u.a)(d,f.messages),f.messages=d}else f.messages=this.messages();var v=void 0,m=void 0,g={};(f.keys||Object.keys(this.rules)).forEach(function(e){v=i.rules[e],m=h[e],v.forEach(function(n){var r=n;"function"==typeof r.transform&&(h===t&&(h=o()({},h)),m=h[e]=r.transform(m)),r="function"==typeof r?{validator:r}:o()({},r),r.validator=i.getValidationMethod(r),r.field=e,r.fullField=r.fullField||e,r.type=i.getType(r),r.validator&&(g[e]=g[e]||[],g[e].push({rule:r,value:m,source:h,field:e}))})});var y={};n.i(u.b)(g,f,function(t,e){function i(t,e){return o()({},e,{fullField:c.fullField+"."+t})}function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=a;if(Array.isArray(s)||(s=[s]),s.length&&n.i(u.c)("async-validator:",s),s.length&&c.message&&(s=[].concat(c.message)),s=s.map(n.i(u.d)(c)),f.first&&s.length)return y[c.field]=1,e(s);if(l){if(c.required&&!t.value)return s=c.message?[].concat(c.message).map(n.i(u.d)(c)):f.error?[f.error(c,n.i(u.e)(f.messages.required,c.field))]:[],e(s);var h={};if(c.defaultField)for(var p in t.value)t.value.hasOwnProperty(p)&&(h[p]=c.defaultField);h=o()({},h,t.rule.fields);for(var d in h)if(h.hasOwnProperty(d)){var v=Array.isArray(h[d])?h[d]:[h[d]];h[d]=v.map(i.bind(null,d))}var m=new r(h);m.messages(f.messages),t.rule.options&&(t.rule.options.messages=f.messages,t.rule.options.error=f.error),m.validate(t.value,t.rule.options||f,function(t){e(t&&t.length?s.concat(t):t)})}else e(s)}var c=t.rule,l=!("object"!==c.type&&"array"!==c.type||"object"!==s()(c.fields)&&"object"!==s()(c.defaultField));l=l&&(c.required||!c.required&&t.value),c.field=t.field;var h=c.validator(c,t.value,a,t.source,f);h&&h.then&&h.then(function(){return a()},function(t){return a(t)})},function(t){e(t)})},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!c.a.hasOwnProperty(t.type))throw new Error(n.i(u.e)("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?c.a.required:c.a[this.getType(t)]||!1}},r.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");c.a[t]=e},r.messages=l.a,e.default=r},function(t,e,n){"use strict";function r(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}e.b=r,n.d(e,"a",function(){return i});var i=r()},function(t,e,n){"use strict";function r(t,e,n,r,a){t[o]=Array.isArray(t[o])?t[o]:[],-1===t[o].indexOf(e)&&r.push(i.e(a.messages[o],t.fullField,t[o].join(", ")))}var i=n(9),o="enum";e.a=r},function(t,e,n){"use strict";function r(t,e,n,r,o){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(i.e(o.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){var a=new RegExp(t.pattern);a.test(e)||r.push(i.e(o.messages.pattern.mismatch,t.fullField,e,t.pattern))}}var i=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,n,r,o){var a="number"==typeof t.len,s="number"==typeof t.min,u="number"==typeof t.max,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=e,h=null,f="number"==typeof e,p="string"==typeof e,d=Array.isArray(e);if(f?h="number":p?h="string":d&&(h="array"),!h)return!1;d&&(l=e.length),p&&(l=e.replace(c,"_").length),a?l!==t.len&&r.push(i.e(o.messages[h].len,t.fullField,t.len)):s&&!u&&l<t.min?r.push(i.e(o.messages[h].min,t.fullField,t.min)):u&&!s&&l>t.max?r.push(i.e(o.messages[h].max,t.fullField,t.max)):s&&u&&(l<t.min||l>t.max)&&r.push(i.e(o.messages[h].range,t.fullField,t.min,t.max))}var i=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,i,u){if(t.required&&void 0===e)return void n.i(s.a)(t,e,r,i,u);var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=t.type;l.indexOf(h)>-1?c[h](e)||i.push(a.e(u.messages.types[h],t.fullField,t.type)):h&&(void 0===e?"undefined":o()(e))!==t.type&&i.push(a.e(u.messages.types[h],t.fullField,t.type))}var i=n(75),o=n.n(i),a=n(9),s=n(156),u={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},c={integer:function(t){return c.number(t)&&parseInt(t,10)===t},float:function(t){return c.number(t)&&!c.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":o()(t))&&!c.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(u.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(u.url)},hex:function(t){return"string"==typeof t&&!!t.match(u.hex)}};e.a=r},function(t,e,n){"use strict";function r(t,e,n,r,o){(/^\s+$/.test(e)||""===e)&&r.push(i.e(o.messages.whitespace,t.fullField))}var i=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e,"array")&&!t.required)return r();i.a.required(t,e,a,u,s,"array"),n.i(o.f)(e,"array")||(i.a.type(t,e,a,u,s),i.a.range(t,e,a,u,s))}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(i.f)(e)&&!t.required)return r();o.a.required(t,e,a,u,s),void 0!==e&&o.a.type(t,e,a,u,s)}r(u)}var i=n(9),o=n(13);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();if(i.a.required(t,e,a,u,s),!n.i(o.f)(e)){var c=void 0;c="number"==typeof e?new Date(e):e,i.a.type(t,c,a,u,s),c&&i.a.range(t,c.getTime(),a,u,s)}}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,s,u){var c=[];if(t.required||!t.required&&s.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,s,c,u),e&&i.a[a](t,e,s,c,u)}r(c)}var i=n(13),o=n(9),a="enum";e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),void 0!==e&&(i.a.type(t,e,a,u,s),i.a.range(t,e,a,u,s))}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";var r=n(256),i=n(250),o=n(251),a=n(244),s=n(254),u=n(249),c=n(247),l=n(243),h=n(252),f=n(246),p=n(253),d=n(245),v=n(255),m=n(257);e.a={string:r.a,method:i.a,number:o.a,boolean:a.a,regexp:s.a,integer:u.a,float:c.a,array:l.a,object:h.a,enum:f.a,pattern:p.a,date:d.a,url:m.a,hex:m.a,email:m.a,required:v.a}},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),void 0!==e&&(i.a.type(t,e,a,u,s),i.a.range(t,e,a,u,s))}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),void 0!==e&&i.a.type(t,e,a,u,s)}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),void 0!==e&&(i.a.type(t,e,a,u,s),i.a.range(t,e,a,u,s))}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),void 0!==e&&i.a.type(t,e,a,u,s)}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e,"string")&&!t.required)return r();i.a.required(t,e,a,u,s),n.i(o.f)(e,"string")||i.a.pattern(t,e,a,u,s)}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e)&&!t.required)return r();i.a.required(t,e,a,u,s),n.i(o.f)(e)||i.a.type(t,e,a,u,s)}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,n,r,i){var s=[],u=Array.isArray(e)?"array":void 0===e?"undefined":o()(e);a.a.required(t,e,r,s,i,u),n(s)}var i=n(75),o=n.n(i),a=n(13);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e,"string")&&!t.required)return r();i.a.required(t,e,a,u,s,"string"),n.i(o.f)(e,"string")||(i.a.type(t,e,a,u,s),i.a.range(t,e,a,u,s),i.a.pattern(t,e,a,u,s),!0===t.whitespace&&i.a.whitespace(t,e,a,u,s))}r(u)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e,r,a,s){var u=t.type,c=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(n.i(o.f)(e,u)&&!t.required)return r();i.a.required(t,e,a,c,s,u),n.i(o.f)(e,u)||i.a.type(t,e,a,c,s)}r(c)}var i=n(13),o=n(9);e.a=r},function(t,e,n){"use strict";function r(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&(t=Object.assign(t,e)),[t]})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(304),__esModule:!0}},function(t,e,n){t.exports={default:n(305),__esModule:!0}},function(t,e,n){t.exports={default:n(306),__esModule:!0}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";var t=window.requestAnimationFrame,e=function(e){var n=e.getTaskWrapperFunction,r=e.getFrameFunction,i=e.beforeFrame,o=e.afterFrame;this.tasks=[],this.subscribesTasks=[],this.frameTasks=[],this._getTaskWrapperFunction=n||function(){},this._getFrameFunction=r||function(){return t},this._beforeFrame=i,this._afterFrame=o,this._runner=this._runner.bind(this),this._performTasks=this._performTasks.bind(this),this._startNextFrame=this._startNextFrame.bind(this),this._stopScheduler=!1};return e.prototype.start=function(){this._stopScheduler=!1,this._runner()},e.prototype.stop=function(){this._stopScheduler=!0},e.prototype.clearFrameTasks=function(){this.frameTasks=[]},e.prototype.clearTasks=function(){this.tasks=[]},e.prototype.clearSubscribesTasks=function(){this.subscribesTasks=[]},e.prototype.addTask=function(t){this.tasks.push(t)},e.prototype.subscribeTask=function(t){this.subscribesTasks.push(t)},e.prototype.unsubscribeTask=function(t){for(var e=this,n=this.subscribesTasks.length;n--;)if(e.subscribesTasks[n].handler===t){e.subscribesTasks.splice(n,1);break}},e.prototype._startNextFrame=function(){this._afterFrame&&this._afterFrame.call(this),this._runner()},e.prototype._performTasks=function(){for(var t=this,e=this.frameTasks.length,n=0;++n<=e;){var r=t.frameTasks[n-1],i=t._getTaskWrapperFunction(r);i?i(r.handler):r.handler()}},e.prototype._runner=function(){if(!this._stopScheduler){var e=this.tasks.length,n=this.subscribesTasks.length;if(e+n===0)return void t(this._runner);this.frameTasks=[],e&&(this.frameTasks=this.frameTasks.concat(this.tasks),this.tasks=[]),n&&(this.frameTasks=this.frameTasks.concat(this.subscribesTasks)),this._beforeFrame&&this._beforeFrame.call(this),this._getFrameFunction(this.frameTasks)(this._startNextFrame),this._performTasks()}},e})},function(t,e,n){n(339),t.exports=n(22).RegExp.escape},function(t,e,n){n(326),t.exports=n(65).Object.assign},function(t,e,n){n(329),n(327),n(330),n(331),t.exports=n(65).Symbol},function(t,e,n){n(328),n(332),t.exports=n(122).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(57),i=n(324),o=n(323);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(307);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(78),i=n(114),o=n(79);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(35).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(164);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(169),i=n(80),o=n(115),a={};n(55)(a,n(58)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(81)("meta"),i=n(67),o=n(41),a=n(56).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(66)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},function(t,e,n){"use strict";var r=n(40),i=n(78),o=n(114),a=n(79),s=n(119),u=n(167),c=Object.assign;t.exports=!c||n(66)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,l=1,h=o.f,f=a.f;c>l;)for(var p,d=u(arguments[l++]),v=h?i(d).concat(h(d)):i(d),m=v.length,g=0;m>g;)p=v[g++],r&&!f.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e,n){var r=n(56),i=n(76),o=n(78);t.exports=n(40)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(79),i=n(80),o=n(57),a=n(120),s=n(41),u=n(166),c=Object.getOwnPropertyDescriptor;e.f=n(40)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(57),i=n(170).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(41),i=n(119),o=n(116)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(118),i=n(110);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(118),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(118),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(308),i=n(315),o=n(113),a=n(57);t.exports=n(168)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(112);r(r.S+r.F,"Object",{assign:n(317)})},function(t,e){},function(t,e,n){"use strict";var r=n(322)(!0);n(168)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(35),i=n(41),o=n(40),a=n(112),s=n(172),u=n(316).KEY,c=n(66),l=n(117),h=n(115),f=n(81),p=n(58),d=n(122),v=n(121),m=n(311),g=n(313),y=n(76),_=n(67),b=n(119),w=n(57),x=n(120),E=n(80),T=n(169),S=n(320),M=n(319),C=n(114),A=n(56),I=n(78),O=M.f,N=A.f,R=S.f,P=r.Symbol,L=r.JSON,D=L&&L.stringify,k=p("_hidden"),F=p("toPrimitive"),U={}.propertyIsEnumerable,j=l("symbol-registry"),B=l("symbols"),z=l("op-symbols"),V=Object.prototype,H="function"==typeof P&&!!C.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,q=o&&c(function(){return 7!=T(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(V,e);r&&delete V[e],N(t,e,n),r&&t!==V&&N(V,e,r)}:N,Y=function(t){var e=B[t]=T(P.prototype);return e._k=t,e},X=H&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},$=function(t,e,n){return t===V&&$(z,e,n),y(t),e=x(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=T(n,{enumerable:E(0,!1)})):(i(t,k)||N(t,k,E(1,{})),t[k][e]=!0),q(t,e,n)):N(t,e,n)},Q=function(t,e){y(t);for(var n,r=m(e=w(e)),i=0,o=r.length;o>i;)$(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?T(t):Q(T(t),e)},Z=function(t){var e=U.call(this,t=x(t,!0));return!(this===V&&i(B,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,k)&&this[k][t])||e)},J=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!i(B,e)||i(z,e)){var n=O(t,e);return!n||!i(B,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=R(w(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==k||e==u||r.push(e);return r},et=function(t){for(var e,n=t===V,r=R(n?z:w(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(V,e)||o.push(B[e]);return o};H||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(z,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),q(this,t,E(1,n))};return o&&W&&q(V,t,{configurable:!0,set:e}),Y(t)},s(P.prototype,"toString",function(){return this._k}),M.f=J,A.f=$,n(170).f=S.f=tt,n(79).f=Z,C.f=et,o&&!n(77)&&s(V,"propertyIsEnumerable",Z,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)p(nt[rt++]);for(var it=I(p.store),ot=0;it.length>ot;)v(it[ot++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=P(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:K,defineProperty:$,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=c(function(){C.f(1)});a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return C.f(b(t))}}),L&&a(a.S+a.F*(!H||c(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,D.apply(L,r)}}),P.prototype[F]||n(55)(P.prototype,F,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){n(121)("asyncIterator")},function(t,e,n){n(121)("observable")},function(t,e,n){n(325);for(var r=n(35),i=n(55),o=n(113),a=n(58)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},function(t,e,n){var r=n(4),i=n(85),o=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){"use strict";var r=n(1),i=n(30);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(46),i=n(89),o=n(70);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){t.exports=n(71)("native-function-to-string",Function.toString)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var r=n(0),i=n(338)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(174)}),n(36)("copyWithin")},function(t,e,n){"use strict";var r=n(0),i=n(27)(4);r(r.P+r.F*!n(24)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(124)}),n(36)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(27)(2);r(r.P+r.F*!n(24)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(27)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)(o)},function(t,e,n){"use strict";var r=n(0),i=n(27)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("find")},function(t,e,n){"use strict";var r=n(0),i=n(27)(0),o=n(24)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(23),i=n(0),o=n(10),a=n(185),s=n(132),u=n(6),c=n(126),l=n(148);i(i.S+i.F*!n(87)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,g=0,y=l(f);if(m&&(v=r(v,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=u(f.length),n=new p(e);e>g;g++)c(n,g,m?v(f[g],g):f[g]);else for(h=y.call(f),n=new p;!(i=h.next()).done;g++)c(n,g,m?a(h,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var r=n(0),i=n(82)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(24)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(85)})},function(t,e,n){"use strict";var r=n(0),i=n(20),o=[].join;r(r.P+r.F*(n(69)!=Object||!n(24)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(20),o=n(25),a=n(6),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(24)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){"use strict";var r=n(0),i=n(27)(1);r(r.P+r.F*!n(24)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(126);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(176);r(r.P+r.F*!n(24)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(176);r(r.P+r.F*!n(24)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(130),o=n(21),a=n(50),s=n(6),u=[].slice;r(r.P+r.F*n(3)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),h=new Array(l),f=0;f<l;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(0),i=n(27)(3);r(r.P+r.F*!n(24)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(10),a=n(3),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(24)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){n(49)("Array")},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){var r=n(0),i=n(334);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(30);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(14)(i,r,n(335))},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(15)(r,"toString",function(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(177)})},function(t,e,n){"use strict";var r=n(4),i=n(19),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(0),i=n(188),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(136);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(135);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(187)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(188)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(136)})},function(t,e,n){var r=n(0),i=n(135),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(135),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){"use strict";var r=n(2),i=n(17),o=n(21),a=n(131),s=n(30),u=n(3),c=n(45).f,l=n(18).f,h=n(8).f,f=n(62).trim,p=r.Number,d=p,v=p.prototype,m="Number"==o(n(44)(v)),g="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(m?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new d(y(e)),n,p):y(e)};for(var _,b=n(7)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(d,_=b[w])&&!i(p,_)&&h(p,_,l(d,_));p.prototype=v,v.constructor=p,n(15)(r,"Number",p)}},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(184)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(184),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(196);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(197);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){"use strict";var r=n(0),i=n(25),o=n(173),a=n(143),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),m="",g="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(e=v(u*d(2,69,1))-69,n=e<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(d(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),g=p()}else h(0,n),h(1<<-e,0),g=p()+a.call("0",c);return c>0?(s=g.length,g=m+(s<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c))):g=m+g,g}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(173),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(190)})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(44)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(191)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(4),i=n(38).onFreeze;n(29)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(20),i=n(18).f;n(29)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(29)("getOwnPropertyNames",function(){return n(192).f})},function(t,e,n){var r=n(10),i=n(19);n(29)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(4);n(29)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(4);n(29)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(29)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(200)})},function(t,e,n){var r=n(10),i=n(46);n(29)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(4),i=n(38).onFreeze;n(29)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4),i=n(38).onFreeze;n(29)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(140).set})},function(t,e,n){"use strict";var r=n(59),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(15)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0),i=n(196);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(0),i=n(197);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){"use strict";var r,i,o,a,s=n(37),u=n(2),c=n(23),l=n(59),h=n(0),f=n(4),p=n(11),d=n(42),v=n(43),m=n(72),g=n(145).set,y=n(137)(),_=n(138),b=n(198),w=n(95),x=n(199),E=u.TypeError,T=u.process,S=T&&T.versions,M=S&&S.v8||"",C=u.Promise,A="process"==l(T),I=function(){},O=i=_.f,N=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(I,I)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==M.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&k(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=R(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){g.call(u,function(){var e,n,r,i=t._v,o=D(t);if(o&&(e=b(function(){A?T.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=A||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){g.call(u,function(){var e;A?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=R(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};N||(C=function(t){d(this,C,"Promise","_h"),p(t),r.call(this);try{t(c(U,this,1),c(F,this,1))}catch(t){F.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(48)(C.prototype,{then:function(t,e){var n=O(m(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(F,t,1)},_.f=O=function(t){return t===C||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!N,{Promise:C}),n(61)(C,"Promise"),n(49)("Promise"),a=n(22).Promise,h(h.S+h.F*!N,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!N),"Promise",{resolve:function(t){return x(s&&this===a?C:this,t)}}),h(h.S+h.F*!(N&&n(87)(function(t){C.all(t).catch(I)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(0),i=n(11),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(44),o=n(11),a=n(1),s=n(4),u=n(3),c=n(177),l=(n(2).Reflect||{}).construct,h=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!u(function(){l(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(8),i=n(0),o=n(1),a=n(30);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(18).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(133)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(18),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(19),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){function r(t,e){var n,s,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(t))?r(s,e,l):void 0}var i=n(18),o=n(19),a=n(17),s=n(0),u=n(4),c=n(1);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(195)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(140);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,f,p=arguments.length<4?t:arguments[3],d=o.f(l(t),e);if(!d){if(h(f=a(t)))return r(f,e,n,p);d=c(0)}if(s(d,"value")){if(!1===d.writable||!h(p))return!1;if(u=o.f(p,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,i.f(p,e,u)}else i.f(p,e,c(0,n));return!0}return void 0!==d.set&&(d.set.call(p,n),!0)}var i=n(8),o=n(18),a=n(19),s=n(17),u=n(0),c=n(47),l=n(1),h=n(4);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(2),i=n(131),o=n(8).f,a=n(45).f,s=n(86),u=n(68),c=r.RegExp,l=c,h=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(n(7)&&(!d||n(3)(function(){return p[n(5)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:h,c)};for(var v=a(l),m=0;v.length>m;)!function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}(v[m++]);h.constructor=c,c.prototype=h,n(15)(r,"RegExp",c)}n(49)("RegExp")},function(t,e,n){"use strict";var r=n(1),i=n(6),o=n(123),a=n(90);n(84)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var h,f=[],p=0;null!==(h=a(u,c));){var d=String(h[0]);f[p]=d,""===d&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:f}]})},function(t,e,n){"use strict";var r=n(1),i=n(10),o=n(6),a=n(25),s=n(123),u=n(90),c=Math.max,l=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n(84)("replace",2,function(t,e,n,v){function m(t,e,r,o,a,s){var u=r+t.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=f),n.call(s,l,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var f=h(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s})}return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=v(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),p="function"==typeof e;p||(e=String(e));var g=h.global;if(g){var y=h.unicode;h.lastIndex=0}for(var _=[];;){var b=u(h,f);if(null===b)break;if(_.push(b),!g)break;""===String(b[0])&&(h.lastIndex=s(f,o(h.lastIndex),y))}for(var w="",x=0,E=0;E<_.length;E++){b=_[E];for(var T=String(b[0]),S=c(l(a(b.index),f.length),0),M=[],C=1;C<b.length;C++)M.push(d(b[C]));var A=b.groups;if(p){var I=[T].concat(M,S,f);void 0!==A&&I.push(A);var O=String(e.apply(void 0,I))}else O=m(T,f,S,M,A,e);S>=x&&(w+=f.slice(x,S)+O,x=S+T.length)}return w+f.slice(x)}]})},function(t,e,n){"use strict";var r=n(1),i=n(200),o=n(90);n(84)("search",1,function(t,e,n,a){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},function(t,e,n){"use strict";var r=n(86),i=n(1),o=n(72),a=n(123),s=n(6),u=n(90),c=n(139),l=n(3),h=Math.min,f=[].push,p="length",d=!l(function(){RegExp(4294967295,"y")});n(84)("split",2,function(t,e,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,l+"g");(o=c.call(v,i))&&!((a=v.lastIndex)>h&&(u.push(i.slice(h,o.index)),o[p]>1&&o.index<i[p]&&f.apply(u,o.slice(1)),s=o[0][p],h=a,u[p]>=d));)v.lastIndex===o.index&&v.lastIndex++;return h===i[p]?!s&&v.test("")||u.push(""):u.push(i.slice(h)),u[p]>d?u.slice(0,d):u}:"0".split(void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):v.call(String(i),n,r)},function(t,e){var r=l(v,t,this,e,v!==n);if(r.done)return r.value;var c=i(t),f=String(this),p=o(c,RegExp),m=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),y=new p(d?c:"^(?:"+c.source+")",g),_=void 0===e?4294967295:e>>>0;if(0===_)return[];if(0===f.length)return null===u(y,f)?[f]:[];for(var b=0,w=0,x=[];w<f.length;){y.lastIndex=d?w:0;var E,T=u(y,d?f:f.slice(w));if(null===T||(E=h(s(y.lastIndex+(d?0:w)),f.length))===b)w=a(f,w,m);else{if(x.push(f.slice(b,w)),x.length===_)return x;for(var S=1;S<=T.length-1;S++)if(x.push(T[S]),x.length===_)return x;w=b=E}}return x.push(f.slice(b)),x}]})},function(t,e,n){"use strict";n(206);var r=n(1),i=n(68),o=n(7),a=/./.toString,s=function(t){n(15)(RegExp.prototype,"toString",t,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(93)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(142),a="".endsWith;r(r.P+r.F*n(129)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";n(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){var r=n(0),i=n(50),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(0),i=n(142);r(r.P+r.F*n(129)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";var r=n(93)(!0);n(134)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){var r=n(0),i=n(20),o=n(6);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(143)})},function(t,e,n){"use strict";n(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(142),a="".startsWith;r(r.P+r.F*n(129)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(62)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(2),i=n(17),o=n(7),a=n(0),s=n(15),u=n(38).KEY,c=n(3),l=n(71),h=n(61),f=n(51),p=n(5),d=n(203),v=n(147),m=n(336),g=n(85),y=n(1),_=n(4),b=n(10),w=n(20),x=n(30),E=n(47),T=n(44),S=n(192),M=n(18),C=n(89),A=n(8),I=n(46),O=M.f,N=A.f,R=S.f,P=r.Symbol,L=r.JSON,D=L&&L.stringify,k=p("_hidden"),F=p("toPrimitive"),U={}.propertyIsEnumerable,j=l("symbol-registry"),B=l("symbols"),z=l("op-symbols"),V=Object.prototype,H="function"==typeof P&&!!C.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,q=o&&c(function(){return 7!=T(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(V,e);r&&delete V[e],N(t,e,n),r&&t!==V&&N(V,e,r)}:N,Y=function(t){var e=B[t]=T(P.prototype);return e._k=t,e},X=H&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},$=function(t,e,n){return t===V&&$(z,e,n),y(t),e=x(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=T(n,{enumerable:E(0,!1)})):(i(t,k)||N(t,k,E(1,{})),t[k][e]=!0),q(t,e,n)):N(t,e,n)},Q=function(t,e){y(t);for(var n,r=m(e=w(e)),i=0,o=r.length;o>i;)$(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?T(t):Q(T(t),e)},Z=function(t){var e=U.call(this,t=x(t,!0));return!(this===V&&i(B,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,k)&&this[k][t])||e)},J=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!i(B,e)||i(z,e)){var n=O(t,e);return!n||!i(B,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=R(w(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==k||e==u||r.push(e);return r},et=function(t){for(var e,n=t===V,r=R(n?z:w(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(V,e)||o.push(B[e]);return o};H||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(z,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),q(this,t,E(1,n))};return o&&W&&q(V,t,{configurable:!0,set:e}),Y(t)},s(P.prototype,"toString",function(){return this._k}),M.f=J,A.f=$,n(45).f=S.f=tt,n(70).f=Z,C.f=et,o&&!n(37)&&s(V,"propertyIsEnumerable",Z,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)p(nt[rt++]);for(var it=I(p.store),ot=0;it.length>ot;)v(it[ot++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=P(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:K,defineProperty:$,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=c(function(){C.f(1)});a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return C.f(b(t))}}),L&&a(a.S+a.F*(!H||c(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,D.apply(L,r)}}),P.prototype[F]||n(14)(P.prototype,F,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(0),i=n(94),o=n(146),a=n(1),s=n(50),u=n(6),c=n(4),l=n(2).ArrayBuffer,h=n(72),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&l.isView,v=f.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(h(this,f))(u(i-r)),c=new p(this),l=new p(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(49)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(94).ABV,{DataView:n(146).DataView})},function(t,e,n){n(34)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){"use strict";var r=n(180),i=n(52);n(83)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(181),o=n(10),a=n(6),s=n(11),u=n(125);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(36)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(181),o=n(10),a=n(6),s=n(25),u=n(125);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(36)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(82)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("includes")},function(t,e,n){var r=n(0),i=n(137)(),o=n(2).process,a="process"==n(21)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){var r=n(0),i=n(21);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){n(91)("Map")},function(t,e,n){n(92)("Map")},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(179)("Map")})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0),i=n(189),o=n(187);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(189)})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(11),a=n(8);n(7)&&r(r.P+n(88),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(11),a=n(8);n(7)&&r(r.P+n(88),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(194)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(195),o=n(20),a=n(18),s=n(126);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,c=i(r),l={},h=0;c.length>h;)void 0!==(n=u(r,e=c[h++]))&&s(l,e,n);return l}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(19),s=n(18).f;n(7)&&r(r.P+n(88),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(19),s=n(18).f;n(7)&&r(r.P+n(88),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(0),i=n(194)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(22),a=n(137)(),s=n(5)("observable"),u=n(11),c=n(1),l=n(42),h=n(48),f=n(14),p=n(43),d=p.RETURN,v=function(t){return null==t?void 0:u(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,m(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&m(this)};_.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var w=function(t){l(this,w,"Observable","_f")._f=u(t)};h(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),h(w,{from:function(t){var e="function"==typeof this?this:w,n=v(c(t)[s]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(49)("Observable")},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(2),a=n(72),s=n(199);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(138),o=n(198);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(33),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(33),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(207),i=n(175),o=n(33),a=n(1),s=n(19),u=o.keys,c=o.key,l=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=l(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(33),i=n(1),o=n(19),a=r.has,s=r.get,u=r.key,c=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?c(t,r,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(33),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(33),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(33),i=n(1),o=n(19),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(33),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(33),i=n(1),o=n(11),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){n(91)("Set")},function(t,e,n){n(92)("Set")},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(179)("Set")})},function(t,e,n){"use strict";var r=n(0),i=n(93)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(28),o=n(6),a=n(86),s=n(68),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(133)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new c(r,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(201),o=n(95),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(201),o=n(95),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";n(62)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(62)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(147)("asyncIterator")},function(t,e,n){n(147)("observable")},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){n(91)("WeakMap")},function(t,e,n){n(92)("WeakMap")},function(t,e,n){n(91)("WeakSet")},function(t,e,n){n(92)("WeakSet")},function(t,e,n){for(var r=n(149),i=n(46),o=n(15),a=n(2),s=n(14),u=n(60),c=n(5),l=c("iterator"),h=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var m,g=d[v],y=p[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,f),b[h]||s(b,h,g),u[g]=f,y))for(m in r)b[m]||o(b,m,r[m],!0)}},function(t,e,n){var r=n(0),i=n(145);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(2),i=n(0),o=n(95),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){n(459),n(398),n(400),n(399),n(402),n(404),n(409),n(403),n(401),n(411),n(410),n(406),n(407),n(405),n(397),n(408),n(412),n(413),n(365),n(367),n(366),n(415),n(414),n(385),n(395),n(396),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(446),n(451),n(458),n(449),n(441),n(442),n(447),n(452),n(454),n(437),n(438),n(439),n(440),n(443),n(444),n(445),n(448),n(450),n(453),n(455),n(456),n(457),n(360),n(362),n(361),n(364),n(363),n(349),n(347),n(353),n(350),n(356),n(358),n(346),n(352),n(343),n(357),n(341),n(355),n(354),n(348),n(351),n(340),n(342),n(345),n(344),n(359),n(149),n(431),n(205),n(436),n(206),n(432),n(433),n(434),n(435),n(416),n(204),n(207),n(208),n(471),n(460),n(461),n(466),n(469),n(470),n(464),n(467),n(465),n(468),n(462),n(463),n(417),n(418),n(419),n(420),n(421),n(424),n(422),n(423),n(425),n(426),n(427),n(428),n(430),n(429),n(474),n(472),n(473),n(515),n(518),n(517),n(519),n(520),n(516),n(521),n(522),n(496),n(499),n(495),n(493),n(494),n(497),n(498),n(480),n(514),n(479),n(513),n(525),n(527),n(478),n(512),n(524),n(526),n(477),n(523),n(476),n(481),n(482),n(483),n(484),n(485),n(487),n(486),n(488),n(489),n(490),n(492),n(491),n(501),n(502),n(503),n(504),n(506),n(505),n(508),n(507),n(509),n(510),n(511),n(475),n(500),n(530),n(529),n(528),t.exports=n(22)},function(t,e,n){"use strict";function r(t){return!!t&&"object"==typeof t}function i(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||o(t)}function o(t){return t.$$typeof===p}function a(t){return Array.isArray(t)?[]:{}}function s(t,e){return e&&!0===e.clone&&h(t)?l(a(t),t,e):t}function u(t,e,n){var r=t.slice();return e.forEach(function(e,i){void 0===r[i]?r[i]=s(e,n):h(e)?r[i]=l(t[i],e,n):-1===t.indexOf(e)&&r.push(s(e,n))}),r}function c(t,e,n){var r={};return h(t)&&Object.keys(t).forEach(function(e){r[e]=s(t[e],n)}),Object.keys(e).forEach(function(i){h(e[i])&&t[i]?r[i]=l(t[i],e[i],n):r[i]=s(e[i],n)}),r}function l(t,e,n){var r=Array.isArray(e),i=Array.isArray(t),o=n||{arrayMerge:u};if(r===i)return r?(o.arrayMerge||u)(t,e,n):c(t,e,n);return s(e,n)}var h=function(t){return r(t)&&!i(t)},f="function"==typeof Symbol&&Symbol.for,p=f?Symbol.for("react.element"):60103;l.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return l(t,n,e)})};var d=l;t.exports=d},function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(38)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},38:function(t,e,n){"use strict";e.__esModule=!0;var r=n(39),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},39:function(t,e,n){var r=n(3)(n(40),n(41),null,null,null);t.exports=r.exports},40:function(t,e){"use strict";e.__esModule=!0,e.default={name:"ElCard",props:["header","bodyStyle"]}},41:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-card"},[t.$slots.header||t.header?n("div",{staticClass:"el-card__header"},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),n("div",{staticClass:"el-card__body",style:t.bodyStyle},[t._t("default")],2)])},staticRenderFns:[]}}})},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(157)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},14:function(t,e){t.exports=n(213)},157:function(t,e,n){"use strict";e.__esModule=!0;var r=n(158),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},158:function(t,e,n){var r=n(3)(n(159),n(161),null,null,null);t.exports=r.exports},159:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){}function o(t,e){var n=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var r=e.split("."),i=0,o=r.length;i<o-1;++i){var a=r[i];if(!(a in n))throw new Error("please transfer a valid prop path to form item!");n=n[a]}return{o:n,k:r[i],v:n[r[i]]}}e.__esModule=!0;var a=n(160),s=r(a),u=n(14),c=r(u);e.default={name:"ElFormItem",componentName:"ElFormItem",mixins:[c.default],props:{label:String,labelWidth:String,prop:String,required:Boolean,rules:[Object,Array],error:String,validateStatus:String,showMessage:{type:Boolean,default:!0}},watch:{error:function(t){this.validateMessage=t,this.validateState=t?"error":""},validateStatus:function(t){this.validateState=t}},computed:{labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var n=this.labelWidth||this.form.labelWidth;return n&&(t.marginLeft=n),t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),t=t.$parent,e=t.$options.componentName;return t},fieldValue:{cache:!1,get:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),o(t,e).v}}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1}},methods:{validate:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;this.validateDisabled=!1;var r=this.getFilteredRule(t);if(!(r&&0!==r.length||this._props.hasOwnProperty("required")))return n(),!0;this.validateState="validating";var o={};o[this.prop]=r;var a=new s.default(o),u={};u[this.prop]=this.fieldValue,a.validate(u,{firstFields:!0},function(t,r){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",n(e.validateMessage)})},resetField:function(){this.validateState="",this.validateMessage="";var t=this.form.model,e=this.fieldValue,n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));var r=o(t,n);Array.isArray(e)?(this.validateDisabled=!0,r.o[r.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,r.o[r.k]=this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,n=this._props.hasOwnProperty("required")?{required:!!this.required}:[];return t=t?t[this.prop]:[],[].concat(e||t||[]).concat(n)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||-1!==e.trigger.indexOf(t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){if(this.validateDisabled)return void(this.validateDisabled=!1);this.validate("change")}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t});(this.getRules().length||this._props.hasOwnProperty("required"))&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}}},160:function(t,e){t.exports=n(236)},161:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-form-item",class:{"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-required":t.isRequired||t.required}},[t.label||t.$slots.label?n("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.prop}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e(),n("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),n("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?n("div",{staticClass:"el-form-item__error"},[t._v(t._s(t.validateMessage))]):t._e()])],2)])},staticRenderFns:[]}}})},function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(153)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},153:function(t,e,n){"use strict";e.__esModule=!0;var r=n(154),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},154:function(t,e,n){var r=n(3)(n(155),n(156),null,null,null);t.exports=r.exports},155:function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"ElForm",componentName:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,showMessage:{type:Boolean,default:!0}},watch:{rules:function(){this.validate()}},data:function(){return{fields:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model&&this.fields.forEach(function(t){t.resetField()})},validate:function(t){var e=this;if(!this.model)return void console.warn("[Element Warn][Form]model is required for validate to work!");var n=!0,r=0;0===this.fields.length&&t&&t(!0),this.fields.forEach(function(i,o){i.validate("",function(i){i&&(n=!1),"function"==typeof t&&++r===e.fields.length&&t(n)})})},validateField:function(t,e){var n=this.fields.filter(function(e){return e.prop===t})[0];if(!n)throw new Error("must call validateField with valid prop string!");n.validate("",e)}}}},156:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{staticClass:"el-form",class:[t.labelPosition?"el-form--label-"+t.labelPosition:"",{"el-form--inline":t.inline}]},[t._t("default")],2)},staticRenderFns:[]}}})},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(176)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},55:function(t,e){t.exports=n(12)},123:function(t,e){t.exports=n(96)},170:function(t,e){t.exports=n(97)},176:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(177),o=r(i),a=n(181),s=r(a);e.default={install:function(t){t.use(o.default),t.prototype.$loading=s.default},directive:o.default,service:s.default}},177:function(t,e,n){"use strict";var r=n(55),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(123),a=i.default.extend(n(178));e.install=function(t){if(!t.prototype.$isServer){var e=function(e,r){r.value?t.nextTick(function(){r.modifiers.fullscreen?(e.originalPosition=(0,o.getStyle)(document.body,"position"),e.originalOverflow=(0,o.getStyle)(document.body,"overflow"),(0,o.addClass)(e.mask,"is-fullscreen"),n(document.body,e,r)):((0,o.removeClass)(e.mask,"is-fullscreen"),r.modifiers.body?(e.originalPosition=(0,o.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var n="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),n(document.body,e,r)):(e.originalPosition=(0,o.getStyle)(e,"position"),n(e,e,r)))}):e.domVisible&&(e.instance.$on("after-leave",function(t){e.domVisible=!1,r.modifiers.fullscreen&&"hidden"!==e.originalOverflow&&(document.body.style.overflow=e.originalOverflow),r.modifiers.fullscreen||r.modifiers.body?document.body.style.position=e.originalPosition:e.style.position=e.originalPosition}),e.instance.visible=!1)},n=function(e,n,r){n.domVisible||"none"===(0,o.getStyle)(n,"display")||"hidden"===(0,o.getStyle)(n,"visibility")||(Object.keys(n.maskStyle).forEach(function(t){n.mask.style[t]=n.maskStyle[t]}),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&(e.style.position="relative"),r.modifiers.fullscreen&&r.modifiers.lock&&(e.style.overflow="hidden"),n.domVisible=!0,e.appendChild(n.mask),t.nextTick(function(){n.instance.visible=!0}),n.domInserted=!0)};t.directive("loading",{bind:function(t,n){var r=new a({el:document.createElement("div"),data:{text:t.getAttribute("element-loading-text"),fullscreen:!!n.modifiers.fullscreen}});t.instance=r,t.mask=r.$el,t.maskStyle={},e(t,n)},update:function(t,n){t.instance.setText(t.getAttribute("element-loading-text")),n.oldValue!==n.value&&e(t,n)},unbind:function(t,e){t.domInserted&&(e.modifiers.fullscreen||e.modifiers.body?document.body.removeChild(t.mask):t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask))}})}}},178:function(t,e,n){var r=n(3)(n(179),n(180),null,null,null);t.exports=r.exports},179:function(t,e){"use strict";e.__esModule=!0,e.default={data:function(){return{text:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}}},180:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}]},[n("div",{staticClass:"el-loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?n("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])},staticRenderFns:[]}},181:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(55),o=r(i),a=n(178),s=r(a),u=n(123),c=n(170),l=r(c),h=o.default.extend(s.default),f={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},p=void 0;h.prototype.originalPosition="",h.prototype.originalOverflow="",h.prototype.close=function(){var t=this;this.fullscreen&&(p=void 0),this.$on("after-leave",function(e){t.fullscreen&&"hidden"!==t.originalOverflow&&(document.body.style.overflow=t.originalOverflow),t.fullscreen||t.body?document.body.style.position=t.originalPosition:t.target.style.position=t.originalPosition,t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()}),this.visible=!1};var d=function(t,e,n){var r={};t.fullscreen?(n.originalPosition=(0,u.getStyle)(document.body,"position"),n.originalOverflow=(0,u.getStyle)(document.body,"overflow")):t.body?(n.originalPosition=(0,u.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var n="top"===e?"scrollTop":"scrollLeft";r[e]=t.target.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]+"px"}),["height","width"].forEach(function(e){r[e]=t.target.getBoundingClientRect()[e]+"px"})):n.originalPosition=(0,u.getStyle)(e,"position"),Object.keys(r).forEach(function(t){n.$el.style[t]=r[t]})},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.default.prototype.$isServer){if(t=(0,l.default)({},f,t),"string"==typeof t.target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&p)return p;var e=t.body?document.body:t.target,n=new h({el:document.createElement("div"),data:t});return d(t,e,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&(e.style.position="relative"),t.fullscreen&&t.lock&&(e.style.overflow="hidden"),e.appendChild(n.$el),o.default.nextTick(function(){n.visible=!0}),t.fullscreen&&(p=n),n}};e.default=v}})},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),t.replace(o,function(e,r,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=(0,i.hasOwn)(n,o)?n[o]:null,null===s||void 0===s?"":s)})}return e};var i=n(215),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},function(t,e,n){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"}}}},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}({0:function(t,e,n){t.exports=n(196)},3:function(t,e){t.exports=function(t,e,n,r,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:a,options:u}}},55:function(t,e){t.exports=n(12)},138:function(t,e){t.exports=n(214)},196:function(t,e,n){"use strict";e.__esModule=!0;var r=n(197),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},197:function(t,e,n){"use strict";e.__esModule=!0;var r=n(55),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(138),a=n(198),s=i.default.extend(n(199)),u=void 0,c=[],l=1,h=function t(e){if(!i.default.prototype.$isServer){e=e||{},"string"==typeof e&&(e={message:e});var n=e.onClose,r="message_"+l++;return e.onClose=function(){t.close(r,n)},u=new s({data:e}),u.id=r,(0,a.isVNode)(u.message)&&(u.$slots.default=[u.message],u.message=null),u.vm=u.$mount(),document.body.appendChild(u.vm.$el),u.vm.visible=!0,u.dom=u.vm.$el,u.dom.style.zIndex=o.PopupManager.nextZIndex(),c.push(u),u.vm}};["success","warning","info","error"].forEach(function(t){h[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,h(e)}}),h.close=function(t,e){for(var n=0,r=c.length;n<r;n++)if(t===c[n].id){"function"==typeof e&&e(c[n]),c.splice(n,1);break}},h.closeAll=function(){for(var t=c.length-1;t>=0;t--)c[t].close()},e.default=h},198:function(t,e){t.exports=n(216)},199:function(t,e,n){var r=n(3)(n(200),n(206),null,null,null);t.exports=r.exports},200:function(t,e,n){"use strict";e.__esModule=!0,e.default={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,timer:null}},computed:{typeImg:function(){return n(201)("./"+this.type+".svg")}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))}},mounted:function(){this.startTimer()}}},201:function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./error.svg":202,"./info.svg":203,"./success.svg":204,"./warning.svg":205};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=201},202:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbl9kYW5nZXI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iRWxlbWVudC1ndWlkZWxpbmUtdjAuMi40IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iTWVzc2FnZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwLjAwMDAwMCwgLTMzMi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IuW4puWAvuWQkV/kv6Hmga8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwLjAwMDAwMCwgMzMyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlJlY3RhbmdsZS0yIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbl9kYW5nZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTIiIGZpbGw9IiNGRjQ5NDkiIHg9IjAiIHk9IjAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjUuODE3MjYyNywxNi4zNDUxNzk2IEMyNS45MzkwOTAyLDE2LjIyMzM0ODMgMjYsMTYuMDc2MTQxOCAyNiwxNS45MDM1NTIzIEMyNiwxNS43MzA5NjI4IDI1LjkzOTA5MDIsMTUuNTgzNzU2MyAyNS44MTcyNjI3LDE1LjQ2MTkyODkgTDI0LjUwNzYxNTcsMTQuMTgyNzQxMSBDMjQuMzg1Nzg4MiwxNC4wNjA5MTM3IDI0LjI0MzY1NzUsMTQgMjQuMDgxMjE5NiwxNCBDMjMuOTE4NzgxNywxNCAyMy43NzY2NTEsMTQuMDYwOTEzNyAyMy42NTQ4MjM1LDE0LjE4Mjc0MTEgTDIwLDE3LjgzNzU2MzUgTDE2LjMxNDcyMTYsMTQuMTgyNzQxMSBDMTYuMTkyODkwMiwxNC4wNjA5MTM3IDE2LjA1MDc1OTUsMTQgMTUuODg4MzIxNiwxNCBDMTUuNzI1ODg3NiwxNCAxNS41ODM3NTY5LDE0LjA2MDkxMzcgMTUuNDYxOTI5NCwxNC4xODI3NDExIEwxNC4xNTIyODI0LDE1LjQ2MTkyODkgQzE0LjA1MDc1ODIsMTUuNTgzNzU2MyAxNCwxNS43MzA5NjI4IDE0LDE1LjkwMzU1MjMgQzE0LDE2LjA3NjE0MTggMTQuMDUwNzU4MiwxNi4yMjMzNDgzIDE0LjE1MjI4MjQsMTYuMzQ1MTc5NiBMMTcuODM3NTYwOCwyMC4wMDAwMDE5IEwxNC4xNTIyODI0LDIzLjY1NDgyNDMgQzE0LjA1MDc1ODIsMjMuNzc2NjUxNyAxNCwyMy45MjM4NTgyIDE0LDI0LjA5NjQ0NzcgQzE0LDI0LjI2OTAzNzIgMTQuMDUwNzU4MiwyNC40MTYyNDM3IDE0LjE1MjI4MjQsMjQuNTM4MDcxMSBMMTUuNDYxOTI5NCwyNS44MTcyNTg5IEMxNS41ODM3NTY5LDI1LjkzOTA4NjMgMTUuNzI1ODg3NiwyNiAxNS44ODgzMjE2LDI2IEMxNi4wNTA3NTk1LDI2IDE2LjE5Mjg5MDIsMjUuOTM5MDg2MyAxNi4zMTQ3MjE2LDI1LjgxNzI1ODkgTDIwLDIyLjE2MjQzNjUgTDIzLjY1NDgyMzUsMjUuODE3MjU4OSBDMjMuNzc2NjUxLDI1LjkzOTA4NjMgMjMuOTE4NzgxNywyNiAyNC4wODEyMTk2LDI2IEMyNC4yNDM2NTc1LDI2IDI0LjM4NTc4ODIsMjUuOTM5MDg2MyAyNC41MDc2MTU3LDI1LjgxNzI1ODkgTDI1LjgxNzI2MjcsMjQuNTM4MDcxMSBDMjUuOTM5MDkwMiwyNC40MTYyNDM3IDI2LDI0LjI2OTAzNzIgMjYsMjQuMDk2NDQ3NyBDMjYsMjMuOTIzODU4MiAyNS45MzkwOTAyLDIzLjc3NjY1MTcgMjUuODE3MjYyNywyMy42NTQ4MjQzIEwyMi4xMzE5ODA0LDIwLjAwMDAwMTkgTDI1LjgxNzI2MjcsMTYuMzQ1MTc5NiBaIiBpZD0iUGF0aCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},203:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbl9pbmZvPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IkVsZW1lbnQtZ3VpZGVsaW5lLXYwLjIuNCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ik1lc3NhZ2UiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MC4wMDAwMDAsIC0xNTIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLluKblgL7lkJFf5L+h5oGvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MC4wMDAwMDAsIDE1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtMiI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljb25faW5mbyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMiIgZmlsbD0iIzUwQkZGRiIgeD0iMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMS42MTUzODQ2LDI2LjU0MzIwOTkgQzIxLjYxNTM4NDYsMjYuOTQ3ODc1MSAyMS40NTgzMzQ4LDI3LjI5MTgzNjggMjEuMTQ0MjMwOCwyNy41NzUxMDI5IEMyMC44MzAxMjY4LDI3Ljg1ODM2ODkgMjAuNDQ4NzE5NCwyOCAyMCwyOCBDMTkuNTUxMjgwNiwyOCAxOS4xNjk4NzMyLDI3Ljg1ODM2ODkgMTguODU1NzY5MiwyNy41NzUxMDI5IEMxOC41NDE2NjUyLDI3LjI5MTgzNjggMTguMzg0NjE1NCwyNi45NDc4NzUxIDE4LjM4NDYxNTQsMjYuNTQzMjA5OSBMMTguMzg0NjE1NCwxOS43NDQ4NTYgQzE4LjM4NDYxNTQsMTkuMzQwMTkwNyAxOC41NDE2NjUyLDE4Ljk5NjIyOSAxOC44NTU3NjkyLDE4LjcxMjk2MyBDMTkuMTY5ODczMiwxOC40Mjk2OTY5IDE5LjU1MTI4MDYsMTguMjg4MDY1OCAyMCwxOC4yODgwNjU4IEMyMC40NDg3MTk0LDE4LjI4ODA2NTggMjAuODMwMTI2OCwxOC40Mjk2OTY5IDIxLjE0NDIzMDgsMTguNzEyOTYzIEMyMS40NTgzMzQ4LDE4Ljk5NjIyOSAyMS42MTUzODQ2LDE5LjM0MDE5MDcgMjEuNjE1Mzg0NiwxOS43NDQ4NTYgTDIxLjYxNTM4NDYsMjYuNTQzMjA5OSBaIE0yMCwxNS44MDQyOTgxIEMxOS40NDQ0NDI3LDE1LjgwNDI5ODEgMTguOTcyMjI0LDE1LjYxOTM2ODcgMTguNTgzMzMzMywxNS4yNDk1MDQ2IEMxOC4xOTQ0NDI3LDE0Ljg3OTY0MDYgMTgsMTQuNDMwNTI1NSAxOCwxMy45MDIxNDkxIEMxOCwxMy4zNzM3NzI2IDE4LjE5NDQ0MjcsMTIuOTI0NjU3NSAxOC41ODMzMzMzLDEyLjU1NDc5MzUgQzE4Ljk3MjIyNCwxMi4xODQ5Mjk1IDE5LjQ0NDQ0MjcsMTIgMjAsMTIgQzIwLjU1NTU1NzMsMTIgMjEuMDI3Nzc2LDEyLjE4NDkyOTUgMjEuNDE2NjY2NywxMi41NTQ3OTM1IEMyMS44MDU1NTczLDEyLjkyNDY1NzUgMjIsMTMuMzczNzcyNiAyMiwxMy45MDIxNDkxIEMyMiwxNC40MzA1MjU1IDIxLjgwNTU1NzMsMTQuODc5NjQwNiAyMS40MTY2NjY3LDE1LjI0OTUwNDYgQzIxLjAyNzc3NiwxNS42MTkzNjg3IDIwLjU1NTU1NzMsMTUuODA0Mjk4MSAyMCwxNS44MDQyOTgxIFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},204:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbl9zdWNjZXNzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IkVsZW1lbnQtZ3VpZGVsaW5lLXYwLjIuNCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ik1lc3NhZ2UiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MC4wMDAwMDAsIC0yMTIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLluKblgL7lkJFf5L+h5oGvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MC4wMDAwMDAsIDIxMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtMiI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljb25fc3VjY2VzcyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMiIgZmlsbD0iIzEzQ0U2NiIgeD0iMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNy44MjU1ODE0LDE3LjE0ODQzNTcgTDE5LjAxNzQ0LDI1LjgyODEyMTMgQzE4LjkwMTE2MDksMjUuOTQyNzA4MyAxOC43NjU1MDMzLDI2IDE4LjYxMDQ2NywyNiBDMTguNDU1NDI3LDI2IDE4LjMxOTc2OTMsMjUuOTQyNzA4MyAxOC4yMDM0ODY1LDI1LjgyODEyMTMgTDE4LjAyOTA3MTYsMjUuNjU2MjUgTDEzLjE3NDQxODYsMjAuODQzNzUgQzEzLjA1ODEzOTUsMjAuNzI5MTYzIDEzLDIwLjU5NTQ4MzcgMTMsMjAuNDQyNzA0NyBDMTMsMjAuMjg5OTI5MyAxMy4wNTgxMzk1LDIwLjE1NjI1IDEzLjE3NDQxODYsMjAuMDQxNjY2NyBMMTQuMzY2Mjc3MiwxOC44NjcxODU3IEMxNC40ODI1NiwxOC43NTI2MDIzIDE0LjYxODIxNzcsMTguNjk1MzEwNyAxNC43NzMyNTc3LDE4LjY5NTMxMDcgQzE0LjkyODI5NCwxOC42OTUzMTA3IDE1LjA2Mzk1MTYsMTguNzUyNjAyMyAxNS4xODAyMzA3LDE4Ljg2NzE4NTcgTDE4LjYxMDQ2NywyMi4yNzYwMzggTDI1LjgxOTc2OTMsMTUuMTcxODcxMyBDMjUuOTM2MDQ4NCwxNS4wNTcyODggMjYuMDcxNzA2LDE1IDI2LjIyNjc0MjMsMTUgQzI2LjM4MTc4MjMsMTUgMjYuNTE3NDQsMTUuMDU3Mjg4IDI2LjYzMzcyMjgsMTUuMTcxODcxMyBMMjcuODI1NTgxNCwxNi4zNDYzNTIzIEMyNy45NDE4NjA1LDE2LjQ2MDkzNTcgMjgsMTYuNTk0NjE1IDI4LDE2Ljc0NzM5NCBDMjgsMTYuOTAwMTczIDI3Ljk0MTg2MDUsMTcuMDMzODUyMyAyNy44MjU1ODE0LDE3LjE0ODQzNTcgTDI3LjgyNTU4MTQsMTcuMTQ4NDM1NyBaIiBpZD0iUGF0aCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},205:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbl93YXJuaW5nPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ik1lc3NhZ2UiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MC4wMDAwMDAsIC0yNzIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLluKblgL7lkJFf5L+h5oGvLWNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwLjAwMDAwMCwgMjcyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlJlY3RhbmdsZS0yIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbl93YXJuaW5nIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yIiBmaWxsPSIjRjdCQTJBIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIxLjYxNTM4NDYsMjYuNTQzMjA5OSBDMjEuNjE1Mzg0NiwyNi45NDc4NzUxIDIxLjQ1ODMzNDgsMjcuMjkxODM2OCAyMS4xNDQyMzA4LDI3LjU3NTEwMjkgQzIwLjgzMDEyNjgsMjcuODU4MzY4OSAyMC40NDg3MTk0LDI4IDIwLDI4IEMxOS41NTEyODA2LDI4IDE5LjE2OTg3MzIsMjcuODU4MzY4OSAxOC44NTU3NjkyLDI3LjU3NTEwMjkgQzE4LjU0MTY2NTIsMjcuMjkxODM2OCAxOC4zODQ2MTU0LDI2Ljk0Nzg3NTEgMTguMzg0NjE1NCwyNi41NDMyMDk5IEwxOC4zODQ2MTU0LDE5Ljc0NDg1NiBDMTguMzg0NjE1NCwxOS4zNDAxOTA3IDE4LjU0MTY2NTIsMTguOTk2MjI5IDE4Ljg1NTc2OTIsMTguNzEyOTYzIEMxOS4xNjk4NzMyLDE4LjQyOTY5NjkgMTkuNTUxMjgwNiwxOC4yODgwNjU4IDIwLDE4LjI4ODA2NTggQzIwLjQ0ODcxOTQsMTguMjg4MDY1OCAyMC44MzAxMjY4LDE4LjQyOTY5NjkgMjEuMTQ0MjMwOCwxOC43MTI5NjMgQzIxLjQ1ODMzNDgsMTguOTk2MjI5IDIxLjYxNTM4NDYsMTkuMzQwMTkwNyAyMS42MTUzODQ2LDE5Ljc0NDg1NiBMMjEuNjE1Mzg0NiwyNi41NDMyMDk5IFogTTIwLDE1LjgwNDI5ODEgQzE5LjQ0NDQ0MjcsMTUuODA0Mjk4MSAxOC45NzIyMjQsMTUuNjE5MzY4NyAxOC41ODMzMzMzLDE1LjI0OTUwNDYgQzE4LjE5NDQ0MjcsMTQuODc5NjQwNiAxOCwxNC40MzA1MjU1IDE4LDEzLjkwMjE0OTEgQzE4LDEzLjM3Mzc3MjYgMTguMTk0NDQyNywxMi45MjQ2NTc1IDE4LjU4MzMzMzMsMTIuNTU0NzkzNSBDMTguOTcyMjI0LDEyLjE4NDkyOTUgMTkuNDQ0NDQyNywxMiAyMCwxMiBDMjAuNTU1NTU3MywxMiAyMS4wMjc3NzYsMTIuMTg0OTI5NSAyMS40MTY2NjY3LDEyLjU1NDc5MzUgQzIxLjgwNTU1NzMsMTIuOTI0NjU3NSAyMiwxMy4zNzM3NzI2IDIyLDEzLjkwMjE0OTEgQzIyLDE0LjQzMDUyNTUgMjEuODA1NTU3MywxNC44Nzk2NDA2IDIxLjQxNjY2NjcsMTUuMjQ5NTA0NiBDMjEuMDI3Nzc2LDE1LjYxOTM2ODcgMjAuNTU1NTU3MywxNS44MDQyOTgxIDIwLDE1LjgwNDI5ODEgWiIgaWQ9IkNvbWJpbmVkLVNoYXBlIiBmaWxsPSIjRkZGRkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMC4wMDAwMDAsIDIwLjAwMDAwMCkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtMjAuMDAwMDAwLCAtMjAuMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},206:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-message-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message",class:t.customClass,on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?t._e():n("img",{staticClass:"el-message__img",attrs:{src:t.typeImg,alt:""}}),n("div",{staticClass:"el-message__group",class:{"is-with-icon":t.iconClass}},[t._t("default",[n("p",[t.iconClass?n("i",{staticClass:"el-message__icon",class:t.iconClass}):t._e(),t._v(t._s(t.message))])]),t.showClose?n("div",{staticClass:"el-message__closeBtn el-icon-close",on:{click:t.close}}):t._e()],2)])])},staticRenderFns:[]}}})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(211);e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.t.apply(this,e)}}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(12),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(96),a=!1,s=function(){if(!i.default.prototype.$isServer){var t=c.modalDom;return t?a=!0:(a=!1,t=document.createElement("div"),c.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){c.doOnModalClick&&c.doOnModalClick()})),t}},u={},c={zIndex:2e3,modalFade:!0,getInstance:function(t){return u[t]},register:function(t,e){t&&e&&(u[t]=e)},deregister:function(t){t&&(u[t]=null,delete u[t])},nextZIndex:function(){return c.zIndex++},modalStack:[],doOnModalClick:function(){var t=c.modalStack[c.modalStack.length-1];if(t){var e=c.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,n,r,u){if(!i.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=u;for(var c=this.modalStack,l=0,h=c.length;l<h;l++){if(c[l].id===t)return}var f=s();if((0,o.addClass)(f,"v-modal"),this.modalFade&&!a&&(0,o.addClass)(f,"v-modal-enter"),r){r.trim().split(/\s+/).forEach(function(t){return(0,o.addClass)(f,t)})}setTimeout(function(){(0,o.removeClass)(f,"v-modal-enter")},200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(f):document.body.appendChild(f),e&&(f.style.zIndex=e),f.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:r})}},closeModal:function(t){var e=this.modalStack,n=s();if(e.length>0){var r=e[e.length-1];if(r.id===t){if(r.modalClass){r.modalClass.trim().split(/\s+/).forEach(function(t){return(0,o.removeClass)(n,t)})}e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex)}else for(var i=e.length-1;i>=0;i--)if(e[i].id===t){e.splice(i,1);break}}0===e.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout(function(){0===e.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",c.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")},200))}},l=function(){if(!i.default.prototype.$isServer&&c.modalStack.length>0){var t=c.modalStack[c.modalStack.length-1];if(!t)return;return c.getInstance(t.id)}};i.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=l();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==o)return o;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),o=e-r};var r=n(12),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=void 0},,,,,,,,,,,,,,,,,,,,function(t,e,n){n(234),t.exports=n(63).default},function(t,e,n){n(230)},function(t,e,n){t.exports=n(231)},function(t,e,n){var r=n(562);n(563),n(564),n(566),n(567),t.exports=r},function(t,e,n){n(233)},function(t,e,n){n(235)},,function(t,e,n){(function(e){var n,n;/*!
    localForage -- Offline Storage, Improved
    Version 1.7.3
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
!function(e){t.exports=e()}(function(){return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof n&&n;if(!u&&c)return n(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,n,r){(function(t){"use strict";function e(){l=!0;for(var t,e,n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}l=!1}function r(t){1!==h.push(t)||l||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var a=0,s=new o(e),u=t.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var c=new t.MessageChannel;c.port1.onmessage=e,i=function(){c.port2.postMessage(0)}}var l,h=[];n.exports=r}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){d(function(){var r;try{r=e(n)}catch(e){return v.reject(t,e)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,v.reject(t,e))}function r(e){o||(o=!0,v.resolve(t,e))}function i(){e(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function h(t){var e=new this(r);return v.reject(e,t)}function f(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(r);++s<n;)!function(t,r){function s(t){o[r]=t,++a!==n||i||(i=!0,v.resolve(u,o))}e.resolve(t).then(s,function(t){i||(i=!0,v.reject(u,t))})}(t[s],s);return u}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(t){e.resolve(t).then(function(t){i||(i=!0,v.resolve(a,t))},function(t){i||(i=!0,v.reject(a,t))})}(t[o]);return a}var d=t(1),v={},m=["REJECTED"],g=["FULFILLED"],y=["PENDING"];e.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===g?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){v.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},v.reject=function(t,e){t.state=m,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=l,i.reject=h,i.all=f,i.race=p},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}function o(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function s(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function c(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function l(t){return new gt(function(e){var n=t.transaction(yt,Et),r=i([""]);n.objectStore(yt).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function h(t){return"boolean"==typeof _t?gt.resolve(_t):l(t).then(function(t){return _t=t})}function f(t){var e=bt[t.name],n={};n.promise=new gt(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function p(t){var e=bt[t.name],n=e.deferredOperations.pop();if(n)return n.resolve(),n.promise}function d(t,e){var n=bt[t.name],r=n.deferredOperations.pop();if(r)return r.reject(e),r.promise}function v(t,e){return new gt(function(n,r){if(bt[t.name]=bt[t.name]||S(),t.db){if(!e)return n(t.db);f(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var o=mt.open.apply(mt,i);e&&(o.onupgradeneeded=function(e){var n=o.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(yt)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(t){t.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),p(t)}})}function m(t){return v(t,!1)}function g(t){return v(t,!0)}function y(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function _(t){return new gt(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function b(t){return i([c(atob(t.data))],{type:t.type})}function w(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then(function(){var t=bt[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return a(n,t,t),n}function E(t){f(t);for(var e=bt[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,m(t).then(function(e){return t.db=e,y(t)?g(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw d(t,e),e})}function T(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return gt.resolve().then(function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),g(t)}).then(function(){return E(t).then(function(){T(t,e,n,r-1)})}).catch(n);n(i)}}function S(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(t){function e(){return gt.resolve()}var n=this,r={db:null};if(t)for(var i in t)r[i]=t[i];var o=bt[r.name];o||(o=S(),bt[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==n&&a.push(u._initReady().catch(e))}var c=o.forages.slice(0);return gt.all(a).then(function(){return r.db=o.db,m(r)}).then(function(t){return r.db=t,y(r,n._defaultConfig.version)?g(r):t}).then(function(t){r.db=o.db=t,n._dbInfo=r;for(var e=0;e<c.length;e++){var i=c[e];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})}function C(t,e){var n=this;t=s(t);var r=new gt(function(e,r){n.ready().then(function(){T(n._dbInfo,xt,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),w(t)&&(t=b(t)),e(t)},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return o(r,e),r}function A(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){T(n._dbInfo,xt,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.openCursor(),u=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;w(r)&&(r=b(r));var i=t(r,n.key,u++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return o(r,e),r}function I(t,e,n){var r=this;t=s(t);var i=new gt(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===wt.call(e)?h(o.db).then(function(t){return t?e:_(e)}):e}).then(function(e){T(r._dbInfo,Et,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(t){i(t)}})}).catch(i)});return o(i,n),i}function O(t,e){var n=this;t=s(t);var r=new gt(function(e,r){n.ready().then(function(){T(n._dbInfo,Et,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return o(r,e),r}function N(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){T(e._dbInfo,Et,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return o(n,t),n}function R(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){T(e._dbInfo,xt,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return o(n,t),n}function P(t,e){var n=this,r=new gt(function(e,r){if(t<0)return void e(null);n.ready().then(function(){T(n._dbInfo,xt,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;if(!n)return void e(null);0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t))},u.onerror=function(){r(u.error)}}catch(t){r(t)}})}).catch(r)});return o(r,e),r}function L(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){T(e._dbInfo,xt,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.openCursor(),s=[];a.onsuccess=function(){var e=a.result;if(!e)return void t(s);s.push(e.key),e.continue()},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return o(n,t),n}function D(t,e){e=u.apply(this,arguments);var n=this.config();t="function"!=typeof t&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;if(t.name){var a=t.name===n.name&&i._dbInfo.db,s=a?gt.resolve(i._dbInfo.db):m(t).then(function(e){var n=bt[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e});r=t.storeName?s.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;f(t);var r=bt[t.name],i=r.forages;e.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}return new gt(function(e,r){var i=mt.open(t.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,p(n._dbInfo)}}).catch(function(e){throw(d(t,e)||gt.resolve()).catch(function(){}),e})}}):s.then(function(e){f(t);var n=bt[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++){r[i]._dbInfo.db=null}return new gt(function(e,n){var r=mt.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)p(r[e]._dbInfo)}).catch(function(e){throw(d(t,e)||gt.resolve()).catch(function(){}),e})})}else r=gt.reject("Invalid arguments");return o(r,e),r}function k(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<s;e+=4)n=St.indexOf(t[e]),r=St.indexOf(t[e+1]),i=St.indexOf(t[e+2]),o=St.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function F(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=St[n[e]>>2],r+=St[(3&n[e])<<4|n[e+1]>>4],r+=St[(15&n[e+1])<<2|n[e+2]>>6],r+=St[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function U(t,e){var n="";if(t&&(n=Vt.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Vt.call(t.buffer))){var r,i=At;t instanceof ArrayBuffer?(r=t,i+=Ot):(r=t.buffer,"[object Int8Array]"===n?i+=Rt:"[object Uint8Array]"===n?i+=Pt:"[object Uint8ClampedArray]"===n?i+=Lt:"[object Int16Array]"===n?i+=Dt:"[object Uint16Array]"===n?i+=Ft:"[object Int32Array]"===n?i+=kt:"[object Uint32Array]"===n?i+=Ut:"[object Float32Array]"===n?i+=jt:"[object Float64Array]"===n?i+=Bt:e(new Error("Failed to get type for BinaryArray"))),e(i+F(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=Mt+t.type+"~"+F(this.result);e(At+Nt+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}}function j(t){if(t.substring(0,It)!==At)return JSON.parse(t);var e,n=t.substring(zt),r=t.substring(It,zt);if(r===Nt&&Ct.test(n)){var o=n.match(Ct);e=o[1],n=n.substring(o[0].length)}var a=k(n);switch(r){case Ot:return a;case Nt:return i([a],{type:e});case Rt:return new Int8Array(a);case Pt:return new Uint8Array(a);case Lt:return new Uint8ClampedArray(a);case Dt:return new Int16Array(a);case Ft:return new Uint16Array(a);case kt:return new Int32Array(a);case Ut:return new Uint32Array(a);case jt:return new Float32Array(a);case Bt:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function B(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function z(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new gt(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(i){B(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Ht,i}function V(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,s){s.rows.length?o(t,a):B(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,a)},o)}function H(t,e){var n=this;t=s(t);var r=new gt(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){V(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return o(r,e),r}function G(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){V(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,s+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return o(r,e),r}function W(t,e,n,r){var i=this;t=s(t);var a=new gt(function(o,a){i.ready().then(function(){void 0===e&&(e=null);var s=e,u=i._dbInfo;u.serializer.serialize(e,function(e,c){c?a(c):u.db.transaction(function(n){V(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){o(s)},function(t,e){a(e)})},function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(W.apply(i,[t,s,n,r-1]));a(e)}})})}).catch(a)});return o(a,n),a}function q(t,e,n){return W.apply(this,[t,e,n,1])}function Y(t,e){var n=this;t=s(t);var r=new gt(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){V(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return o(r,e),r}function X(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){V(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return o(n,t),n}function $(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){V(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return o(n,t),n}function Q(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){V(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return o(r,e),r}function K(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){V(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return o(n,t),n}function Z(t){return new gt(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}function J(t,e){e=u.apply(this,arguments);var n=this.config();t="function"!=typeof t&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return r=t.name?new gt(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:Z(r))}).then(function(t){return new gt(function(e,n){t.db.transaction(function(r){for(var i=[],o=0,a=t.storeNames.length;o<a;o++)i.push(function(t){return new gt(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}(t.storeNames[o]));gt.all(i).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):gt.reject("Invalid arguments"),o(r,e),r}function tt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function et(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}function nt(){return!et()||localStorage.length>0}function rt(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=tt(t,e._defaultConfig),nt()?(e._dbInfo=n,n.serializer=Ht,gt.resolve()):gt.reject()}function it(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return o(n,t),n}function ot(t,e){var n=this;t=s(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return o(r,e),r}function at(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),a++)))return c}}});return o(r,e),r}function st(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return o(r,e),r}function ut(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return o(n,t),n}function ct(t){var e=this,n=e.keys().then(function(t){return t.length});return o(n,t),n}function lt(t,e){var n=this;t=s(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return o(r,e),r}function ht(t,e,n){var r=this;t=s(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new gt(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}})})});return o(i,n),i}function ft(t,e){if(e=u.apply(this,arguments),t="function"!=typeof t&&t||{},!t.name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return r=t.name?new gt(function(e){e(t.storeName?tt(t,i._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):gt.reject("Invalid arguments"),o(r,e),r}function pt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Xt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();"undefined"==typeof Promise&&t(3);var gt=Promise,yt="local-forage-detect-blob-support",_t=void 0,bt={},wt=Object.prototype.toString,xt="readonly",Et="readwrite",Tt={_driver:"asyncStorage",_initStorage:M,_support:function(){try{if(!mt)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:A,getItem:C,setItem:I,removeItem:O,clear:N,length:R,key:P,keys:L,dropInstance:D},St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mt="~~local_forage_type~",Ct=/^~~local_forage_type~([^~]+)~/,At="__lfsc__:",It=At.length,Ot="arbf",Nt="blob",Rt="si08",Pt="ui08",Lt="uic8",Dt="si16",kt="si32",Ft="ur16",Ut="ui32",jt="fl32",Bt="fl64",zt=It+Ot.length,Vt=Object.prototype.toString,Ht={serialize:U,deserialize:j,stringToBuffer:k,bufferToString:F},Gt={_driver:"webSQLStorage",_initStorage:z,_support:function(){return"function"==typeof openDatabase}(),iterate:G,getItem:H,setItem:q,removeItem:Y,clear:X,length:$,key:Q,keys:K,dropInstance:J},Wt={_driver:"localStorageWrapper",_initStorage:rt,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:at,getItem:ot,setItem:ht,removeItem:lt,clear:it,length:ct,key:st,keys:ut,dropInstance:ft},qt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},Yt=function(t,e){for(var n=t.length,r=0;r<n;){if(qt(t[r],e))return!0;r++}return!1},Xt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},$t={},Qt={},Kt={INDEXEDDB:Tt,WEBSQL:Gt,LOCALSTORAGE:Wt},Zt=[Kt.INDEXEDDB._driver,Kt.WEBSQL._driver,Kt.LOCALSTORAGE._driver],Jt=["dropInstance"],te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Jt),ee={description:"",driver:Zt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ne=function(){function t(e){r(this,t);for(var n in Kt)if(Kt.hasOwnProperty(n)){var i=Kt[n],o=i._driver;this[n]=o,$t[o]||this.defineDriver(i)}this._defaultConfig=dt({},ee),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":vt(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new gt(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var a=te.concat("_initStorage"),s=0,u=a.length;s<u;s++){var c=a[s];if((!Yt(Jt,c)||t[c])&&"function"!=typeof t[c])return void n(i)}!function(){for(var e=0,n=Jt.length;e<n;e++){var r=Jt[e];t[r]||(t[r]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=gt.reject(e);return o(n,arguments[arguments.length-1]),n}}(r))}}();var l=function(n){$t[r]&&console.info("Redefining LocalForage driver: "+r),$t[r]=t,Qt[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(l,n):l(!!t._support):l(!0)}catch(t){n(t)}});return a(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=$t[t]?gt.resolve($t[t]):gt.reject(new Error("Driver not found."));return a(r,e,n),r},t.prototype.getSerializer=function(t){var e=gt.resolve(Ht);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){function r(){s._config.driver=s.driver()}function i(t){return s._extend(t),r(),s._ready=s._initStorage(s._config),s._ready}function o(t){return function(){function e(){for(;n<t.length;){var o=t[n];return n++,s._dbInfo=null,s._ready=null,s.getDriver(o).then(i).catch(e)}r();var a=new Error("No available storage method found.");return s._driverSet=gt.reject(a),s._driverSet}var n=0;return e()}}var s=this;Xt(t)||(t=[t]);var u=this._getSupportedDrivers(t),c=null!==this._driverSet?this._driverSet.catch(function(){return gt.resolve()}):gt.resolve();return this._driverSet=c.then(function(){var t=u[0];return s._dbInfo=null,s._ready=null,s.getDriver(t).then(function(t){s._driver=t._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(u)})}).catch(function(){r();var t=new Error("No available storage method found.");return s._driverSet=gt.reject(t),s._driverSet}),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Qt[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=te.length;t<e;t++)pt(this,te[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),re=new ne;e.exports=re},{3:3}]},{},[4])(4)})}).call(e,n(32))},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(595),o=n(596),a=n(597),s=n(598),u=n(599);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(603),o=n(604),a=n(605),s=n(606),u=n(607);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(151),i=n(152),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(608),o=n(609),a=n(610),s=n(611),u=n(612);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(573),o=n(615),a=n(616);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&i(t,e,0)>-1}var i=n(582);t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e,n,r){var h=-1,f=o,p=!0,d=t.length,v=[],m=e.length;if(!d)return v;n&&(e=s(e,u(n))),r?(f=a,p=!1):e.length>=l&&(f=c,p=!1,e=new i(e));t:for(;++h<d;){var g=t[h],y=null==n?g:n(g);if(g=r||0!==g?g:0,p&&y===y){for(var _=m;_--;)if(e[_]===y)continue t;v.push(g)}else f(e,y,r)||v.push(g)}return v}var i=n(574),o=n(576),a=n(577),s=n(578),u=n(588),c=n(589),l=200;t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(581),o=n(584),a=n(619);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(220),o=n(153),a="[object Arguments]";t.exports=r},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?d:c).test(s(t))}var i=n(222),o=n(602),a=n(223),s=n(620),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,f=l.toString,p=h.hasOwnProperty,d=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(221),o=n(614),a=n(617);t.exports=r},function(t,e,n){var r=n(621),i=n(591),o=n(221),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){var r=n(152),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){var r=n(151),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(32))},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(150),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(100);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(100),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(100),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(100),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(150),o=n(625),a=n(626),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(590),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var i=n(98),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(98);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(98);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(98);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(570),o=n(571),a=n(572);t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(99);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(99);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(99);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(99);t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),i(t,this,c)}}var i=n(575),o=Math.max;t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var r=n(587),i=n(618),o=i(r);t.exports=o},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){var r=n(580),i=n(219),o=n(586),a=n(628),s=o(function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]});t.exports=s},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(219);t.exports=r},function(t,e,n){var r=n(583),i=n(153),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(222),o=n(629);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(627),o=n(153);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function c(t,e,n){var i=S;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===A){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===I)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?A:M,c.arg===I)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=A,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return I;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,I;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,I):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,I)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,g=Object.prototype,y=g.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",x=_.toStringTag||"@@toStringTag",E="object"==typeof t,T=e.regeneratorRuntime;if(T)return void(E&&(t.exports=T));T=e.regeneratorRuntime=E?t.exports:{},T.wrap=n;var S="suspendedStart",M="suspendedYield",C="executing",A="completed",I={},O={};O[b]=function(){return this};var N=Object.getPrototypeOf,R=N&&N(N(d([])));R&&R!==g&&y.call(R,b)&&(O=R);var P=a.prototype=i.prototype=Object.create(O);o.prototype=P.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(P),t},T.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},T.AsyncIterator=u,T.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return T.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(P),P[x]="Generator",P[b]=function(){return this},P.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,I):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),I},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),I}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),I}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(32))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var s,u=1,c={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(32),n(224))},function(t,e,n){(function(t){var r;/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20170601
 */
!function(i,o){"use strict";function a(t,e){function n(t){return gt.preferFlash&&ct&&!gt.ignoreFlash&&gt.flash[t]!==o&&gt.flash[t]}function r(t){return function(e){var n,r=this._s;return r&&r._a?n=t.call(this,e):(r&&r.id?gt._wD(r.id+": Ignoring "+e.type):gt._wD(xt+"Ignoring "+e.type),n=null),n}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=e||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var a,s,u,c,l,h,f,p,d,v,m,g,y,_,b,w,x,E,T,S,M,C,A,I,O,N,R,P,L,D,k,F,U,j,B,z,V,H,G,W,q,Y,X,$,Q,K,Z,J,tt,et,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,pt,dt,vt,mt,gt=this,yt=null,_t=null,bt="soundManager",wt=bt+": ",xt="HTML5::",Et=navigator.userAgent,Tt=i.location.href.toString(),St=document,Mt=[],Ct=!0,At=!1,It=!1,Ot=!1,Nt=!1,Rt=!1,Pt=0,Lt=["log","info","warn","error"],Dt=null,kt=null,Ft=!1,Ut=!1,jt=0,Bt=null,zt=[],Vt=null,Ht=Array.prototype.slice,Gt=!1,Wt=0,qt=Et.match(/(ipad|iphone|ipod)/i),Yt=Et.match(/android/i),Xt=Et.match(/msie|trident/i),$t=Et.match(/webkit/i),Qt=Et.match(/safari/i)&&!Et.match(/chrome/i),Kt=Et.match(/opera/i),Zt=Et.match(/(mobile|pre\/|xoom)/i)||qt||Yt,Jt=!Tt.match(/usehtml5audio/i)&&!Tt.match(/sm2-ignorebadua/i)&&Qt&&!Et.match(/silk/i)&&Et.match(/OS\sX\s10_6_([3-7])/i),te=i.console!==o&&console.log!==o,ee=St.hasFocus!==o?St.hasFocus():null,ne=Qt&&(St.hasFocus===o||!St.hasFocus()),re=!ne,ie=/(mp3|mp4|mpa|m4a|m4b)/i,oe=St.location?St.location.protocol.match(/http/i):null,ae=oe?"":"//",se=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ue=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ce=new RegExp("\\.("+ue.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!oe,V={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},nt=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(Kt&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(t){return!1}}(),this.setup=function(t){var e=!gt.url;return t!==o&&Ot&&Vt&&gt.ok()&&(t.flashVersion!==o||t.url!==o||t.html5Test!==o)&&q(j("setupLate")),m(t),Gt||(Zt?gt.setupOptions.ignoreMobileRestrictions&&!gt.setupOptions.forceUseGlobalHTML5Audio||(zt.push(M.globalHTML5),Gt=!0):gt.setupOptions.forceUseGlobalHTML5Audio&&(zt.push(M.globalHTML5),Gt=!0)),!mt&&Zt&&(gt.setupOptions.ignoreMobileRestrictions?zt.push(M.ignoreMobile):(gt.setupOptions.useHTML5Audio&&!gt.setupOptions.preferFlash||gt._wD(M.mobileUA),gt.setupOptions.useHTML5Audio=!0,gt.setupOptions.preferFlash=!1,qt?gt.ignoreFlash=!0:(Yt&&!Et.match(/android\s2\.3/i)||!Yt)&&(gt._wD(M.globalHTML5),Gt=!0))),t&&(e&&O&&t.url!==o&&gt.beginDelayedInit(),O||t.url===o||"complete"!==St.readyState||setTimeout(A,1)),mt=!0,gt},this.ok=function(){return Vt?Ot&&!Nt:gt.useHTML5Audio&&gt.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return s(t)||St[t]||i[t]},this.createSound=function(t,e){function n(){return s=G(s),gt.sounds[s.id]=new a(s),gt.soundIDs.push(s.id),gt.sounds[s.id]}var r,i,s,u=null;if(r=bt+".createSound(): ",i=r+j(Ot?"notOK":"notReady"),!Ot||!gt.ok())return q(i),!1;if(e!==o&&(t={id:t,url:e}),s=v(t),s.url=K(s.url),s.id===o&&(s.id=gt.setupOptions.idPrefix+Wt++),s.id.toString().charAt(0).match(/^[0-9]$/)&&gt._wD(r+j("badID",s.id),2),gt._wD(r+s.id+(s.url?" ("+s.url+")":""),1),Y(s.id,!0))return gt._wD(r+s.id+" exists",1),gt.sounds[s.id];if(tt(s))u=n(),gt.html5Only||gt._wD(s.id+": Using HTML5"),u._setup_html5(s);else{if(gt.html5Only)return gt._wD(s.id+": No HTML5 support for this sound, and no Flash. Exiting."),n();if(gt.html5.usingFlash&&s.url&&s.url.match(/data:/i))return gt._wD(s.id+": data: URIs not supported via Flash. Exiting."),n();h>8&&(null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||s.type&&s.type.match(se)||s.url&&s.url.match(ce))),s.isMovieStar&&(gt._wD(r+"using MovieStar handling"),s.loops>1&&p("noNSLoop"))),s=W(s,r),u=n(),8===h?_t._createSound(s.id,s.loops||1,s.usePolicyFile):(_t._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,!!s.isMovieStar&&s.bufferTime,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(u.connected=!0,s.onconnect&&s.onconnect.apply(u))),s.serverURL||!s.autoLoad&&!s.autoPlay||u.load(s)}return!s.serverURL&&s.autoPlay&&u.play(),u},this.destroySound=function(t,e){if(!Y(t))return!1;var n,r=gt.sounds[t];for(r.stop(),r._iO={},r.unload(),n=0;n<gt.soundIDs.length;n++)if(gt.soundIDs[n]===t){gt.soundIDs.splice(n,1);break}return e||r.destruct(!0),r=null,delete gt.sounds[t],!0},this.load=function(t,e){return!!Y(t)&&gt.sounds[t].load(e)},this.unload=function(t){return!!Y(t)&&gt.sounds[t].unload()},this.onPosition=function(t,e,n,r){return!!Y(t)&&gt.sounds[t].onposition(e,n,r)},this.onposition=this.onPosition,this.clearOnPosition=function(t,e,n){return!!Y(t)&&gt.sounds[t].clearOnPosition(e,n)},this.play=function(t,e){var n=null,r=e&&!(e instanceof Object);if(!Ot||!gt.ok())return q(bt+".play(): "+j(Ot?"notOK":"notReady")),!1;if(Y(t,r))r&&(e={url:e});else{if(!r)return!1;r&&(e={url:e}),e&&e.url&&(gt._wD(bt+'.play(): Attempting to create "'+t+'"',1),e.id=t,n=gt.createSound(e).play())}return null===n&&(n=gt.sounds[t].play(e)),n},this.start=this.play,this.setPlaybackRate=function(t,e,n){return!!Y(t)&&gt.sounds[t].setPlaybackRate(e,n)},this.setPosition=function(t,e){return!!Y(t)&&gt.sounds[t].setPosition(e)},this.stop=function(t){return!!Y(t)&&(gt._wD(bt+".stop("+t+")",1),gt.sounds[t].stop())},this.stopAll=function(){var t;gt._wD(bt+".stopAll()",1);for(t in gt.sounds)gt.sounds.hasOwnProperty(t)&&gt.sounds[t].stop()},this.pause=function(t){return!!Y(t)&&gt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=gt.soundIDs.length-1;t>=0;t--)gt.sounds[gt.soundIDs[t]].pause()},this.resume=function(t){return!!Y(t)&&gt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=gt.soundIDs.length-1;t>=0;t--)gt.sounds[gt.soundIDs[t]].resume()},this.togglePause=function(t){return!!Y(t)&&gt.sounds[t].togglePause()},this.setPan=function(t,e){return!!Y(t)&&gt.sounds[t].setPan(e)},this.setVolume=function(t,e){var n,r;if(t!==o&&!isNaN(t)&&e===o){for(n=0,r=gt.soundIDs.length;n<r;n++)gt.sounds[gt.soundIDs[n]].setVolume(t);return!1}return!!Y(t)&&gt.sounds[t].setVolume(e)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!Y(t)&&(gt._wD(bt+'.mute(): Muting "'+t+'"'),gt.sounds[t].mute());for(gt._wD(bt+".mute(): Muting all sounds"),e=gt.soundIDs.length-1;e>=0;e--)gt.sounds[gt.soundIDs[e]].mute();return gt.muted=!0,!0},this.muteAll=function(){gt.mute()},this.unmute=function(t){var e;if(t instanceof String&&(t=null),t)return!!Y(t)&&(gt._wD(bt+'.unmute(): Unmuting "'+t+'"'),gt.sounds[t].unmute());for(gt._wD(bt+".unmute(): Unmuting all sounds"),e=gt.soundIDs.length-1;e>=0;e--)gt.sounds[gt.soundIDs[e]].unmute();return gt.muted=!1,!0},this.unmuteAll=function(){gt.unmute()},this.toggleMute=function(t){return!!Y(t)&&gt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return _t&&8!==h&&(t=parseInt(_t._getMemoryUse(),10)),t},this.disable=function(t){var e;if(t===o&&(t=!1),Nt)return!1;for(Nt=!0,p("shutdown",1),e=gt.soundIDs.length-1;e>=0;e--)k(gt.sounds[gt.soundIDs[e]]);return k(gt),d(t),st.remove(i,"load",b),!0},this.canPlayMIME=function(t){var e;return gt.hasHTML5&&(e=et({type:t})),!e&&Vt&&(e=t&&gt.ok()?!!((h>8?t.match(se):null)||t.match(gt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return gt.hasHTML5&&(e=et({url:t})),!e&&Vt&&(e=t&&gt.ok()?!!t.match(gt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===o||!t.type||!gt.canPlayMIME(t.type))||gt.canPlayURL(t.href)},this.getSoundById=function(t,e){if(!t)return null;var n=gt.sounds[t];return n||e||gt._wD(bt+'.getSoundById(): Sound "'+t+'" not found.',2),n},this.onready=function(t,e){var n=!1;if("function"!=typeof t)throw j("needFunction","onready");return Ot&&gt._wD(j("queue","onready")),e||(e=i),y("onready",t,e),_(),n=!0,n},this.ontimeout=function(t,e){var n="ontimeout",r=!1;if("function"!=typeof t)throw j("needFunction",n);return Ot&&gt._wD(j("queue",n)),e||(e=i),y(n,t,e),_({type:n}),r=!0,r},this._writeDebug=function(t,e){var n,r;return!!gt.setupOptions.debugMode&&(!!(te&&gt.useConsole&&(e&&"object"==typeof e?console.log(t,e):Lt[e]!==o?console[Lt[e]](t):console.log(t),gt.consoleOnly))||!!(n=s("soundmanager-debug"))&&(r=St.createElement("div"),++Pt%2==0&&(r.className="sm2-alt"),e=e===o?0:parseInt(e,10),r.appendChild(St.createTextNode(t)),e&&(e>=2&&(r.style.fontWeight="bold"),3===e&&(r.style.color="#ff3333")),n.insertBefore(r,n.firstChild),n=null,!0))},-1!==Tt.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){i.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var t,e;for(p("currentObj",1),t=0,e=gt.soundIDs.length;t<e;t++)gt.sounds[gt.soundIDs[t]]._debug()},this.reboot=function(t,e){gt.soundIDs.length&&gt._wD("Destroying "+gt.soundIDs.length+" SMSound object"+(1!==gt.soundIDs.length?"s":"")+"...");var n,r,o;for(n=gt.soundIDs.length-1;n>=0;n--)gt.sounds[gt.soundIDs[n]].destruct();if(_t)try{Xt&&(kt=_t.innerHTML),Dt=_t.parentNode.removeChild(_t)}catch(t){p("badRemove",2)}if(kt=Dt=Vt=_t=null,gt.enabled=O=Ot=Ft=Ut=At=It=Nt=Gt=gt.swfLoaded=!1,gt.soundIDs=[],gt.sounds={},Wt=0,mt=!1,t)Mt=[];else for(n in Mt)if(Mt.hasOwnProperty(n))for(r=0,o=Mt[n].length;r<o;r++)Mt[n][r].fired=!1;return e||gt._wD(bt+": Rebooting..."),gt.html5={usingFlash:null},gt.flash={},gt.html5Only=!1,gt.ignoreFlash=!1,i.setTimeout(function(){e||gt.beginDelayedInit()},20),gt},this.reset=function(){return p("reset"),gt.reboot(!0,!0)},this.getMoviePercent=function(){return _t&&"PercentLoaded"in _t?_t.PercentLoaded():null},this.beginDelayedInit=function(){Rt=!0,A(),setTimeout(function(){return!Ut&&(R(),C(),Ut=!0,!0)},20),w()},this.destruct=function(){gt._wD(bt+".destruct()"),gt.disable(!0)},a=function(t){var e,n,r,i,a,s,u,c,l,d,m=this,g=!1,y=[],_=0,b=null;l={duration:null,time:null},this.id=t.id,this.sID=this.id,this.url=t.url,this.options=v(t),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,d=!this.url,this.id3={},this._debug=function(){gt._wD(m.id+": Merged options:",m.options)},this.load=function(t){var e,n=null;if(t!==o?m._iO=v(t,m.options):(t=m.options,m._iO=t,b&&b!==m.url&&(p("manURL"),m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=K(m._iO.url),m.instanceOptions=m._iO,e=m._iO,gt._wD(m.id+": load ("+e.url+")"),!e.url&&!m.url)return gt._wD(m.id+": load(): url is unassigned. Exiting.",2),m;if(m.isHTML5||8!==h||m.url||e.autoPlay||gt._wD(m.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),e.url===m.url&&0!==m.readyState&&2!==m.readyState)return p("onURL",1),3===m.readyState&&e.onload&&vt(m,function(){e.onload.apply(m,[!!m.duration])}),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},tt(e))n=m._setup_html5(e),n._called_load?gt._wD(m.id+": Ignoring request to load again"):(m._html5_canplay=!1,m.url!==e.url&&(gt._wD(p("manURL")+": "+e.url),m._a.src=e.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(gt.html5Only)return gt._wD(m.id+": No flash support. Exiting."),m;if(m._iO.url&&m._iO.url.match(/data:/i))return gt._wD(m.id+": data: URIs not supported via Flash. Exiting."),m;try{m.isHTML5=!1,m._iO=W(G(e)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(gt._wD(m.id+": Disabling autoPlay because of non-zero offset case"),m._iO.autoPlay=!1),e=m._iO,8===h?_t._load(m.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):_t._load(m.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(t){p("smError",2),f("onload",!1),P({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=e.url,m},this.unload=function(){return 0!==m.readyState&&(gt._wD(m.id+": unload()"),m.isHTML5?(i(),m._a&&(m._a.pause(),b=it(m._a))):8===h?_t._unload(m.id,"about:blank"):_t._unload(m.id),e()),m},this.destruct=function(t){gt._wD(m.id+": Destruct"),m.isHTML5?(i(),m._a&&(m._a.pause(),it(m._a),Gt||r(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,_t._destroySound(m.id)),t||gt.destroySound(m.id,!0)},this.play=function(t,e){var n,r,i,u,l,f,p=!0;if(n=m.id+": play(): ",e=e===o||e,t||(t={}),m.url&&(m._iO.url=m.url),m._iO=v(m._iO,m.options),m._iO=v(t,m._iO),m._iO.url=K(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||(gt._wD(n+" Netstream not connected yet - setting autoPlay"),m.setAutoPlay(!0)),m;if(tt(m._iO)&&(m._setup_html5(m._iO),a()),1===m.playState&&!m.paused){if(!m._iO.multiShot)return gt._wD(n+"Already playing (one-shot)",1),m.isHTML5&&m.setPosition(m._iO.position),m;gt._wD(n+"Already playing (multi-shot)",1)}if(t.url&&t.url!==m.url&&(m.readyState||m.isHTML5||8!==h||!d?m.load(m._iO):d=!1),m.loaded)gt._wD(n.substr(0,n.lastIndexOf(":")));else if(0===m.readyState){if(gt._wD(n+"Attempting to load"),m.isHTML5||gt.html5Only){if(!m.isHTML5)return gt._wD(n+"Unsupported type. Exiting."),m;m.load(m._iO)}else m._iO.autoPlay=!0,m.load(m._iO);m.instanceOptions=m._iO}else{if(2===m.readyState)return gt._wD(n+"Could not load - exiting",2),m;gt._wD(n+"Loading - attempting to play...")}return!m.isHTML5&&9===h&&m.position>0&&m.position===m.duration&&(gt._wD(n+"Sound at end, resetting to position: 0"),t.position=0),m.paused&&m.position>=0&&(!m._iO.serverURL||m.position>0)?(gt._wD(n+"Resuming from paused state",1),m.resume()):(m._iO=v(t,m._iO),(!m.isHTML5&&null!==m._iO.position&&m._iO.position>0||null!==m._iO.from&&m._iO.from>0||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL&&(i=function(){m._iO=v(t,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(gt._wD(n+"Beginning load for non-zero offset case"),m.load({_oncanplay:i})):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(gt._wD(n+"Preloading for non-zero offset case"),m.load({onload:i})),m._iO=c()),(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!Gt||!m.isHTML5&&h>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&s(m),m.playState=1,m.paused=!1,m.position=m._iO.position===o||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=W(G(m._iO))),m._iO.onplay&&e&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),1!==m._iO.playbackRate&&m.setPlaybackRate(m._iO.playbackRate),m.isHTML5?m.instanceCount<2?(a(),r=m._setup_html5(),m.setPosition(m._iO.position),r.play()):(gt._wD(m.id+": Cloning Audio() for instance #"+m.instanceCount+"..."),u=new Audio(m._iO.url),l=function(){st.remove(u,"ended",l),m._onfinish(m),it(u),u=null},f=function(){st.remove(u,"canplay",f);try{u.currentTime=m._iO.position/1e3}catch(t){q(m.id+": multiShot play() failed to apply position of "+m._iO.position/1e3)}u.play()},st.add(u,"ended",l),m._iO.volume!==o&&(u.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(u.muted=!0),m._iO.position?st.add(u,"canplay",f):u.play()):(p=_t._start(m.id,m._iO.loops||1,9===h?m.position:m.position/1e3,m._iO.multiShot||!1),9!==h||p||(gt._wD(n+"No sound hardware, or 32-sound ceiling hit",2),m._iO.onplayerror&&m._iO.onplayerror.apply(m)))),m},this.start=this.play,this.stop=function(t){var e,n=m._iO;return 1===m.playState&&(gt._wD(m.id+": stop()"),m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),u(),n.to&&m.clearOnPosition(n.to),m.isHTML5?m._a&&(e=m.position,m.setPosition(0),m.position=e,m._a.pause(),m.playState=0,m._onTimer(),i()):(_t._stop(m.id,t),n.serverURL&&m.unload()),m.instanceCount=0,m._iO={},n.onstop&&n.onstop.apply(m)),m},this.setAutoPlay=function(t){gt._wD(m.id+": Autoplay turned "+(t?"on":"off")),m._iO.autoPlay=t,m.isHTML5||(_t._setAutoPlay(m.id,t),t&&(m.instanceCount||1!==m.readyState||(m.instanceCount++,gt._wD(m.id+": Incremented instance count to "+m.instanceCount))))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPlaybackRate=function(t){var e=Math.max(.5,Math.min(4,t));if(e!==t&&gt._wD(m.id+": setPlaybackRate("+t+"): limiting rate to "+e,2),m.isHTML5)try{m._iO.playbackRate=e,m._a.playbackRate=e}catch(t){gt._wD(m.id+": setPlaybackRate("+e+") failed: "+t.message,2)}return m},this.setPosition=function(t){t===o&&(t=0);var e,n,r=m.isHTML5?Math.max(t,0):Math.min(m.duration||m._iO.duration,Math.max(t,0));if(m.position=r,n=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=r,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime.toFixed(3)!==n.toFixed(3)){gt._wD(m.id+": setPosition("+n+")");try{m._a.currentTime=n,(0===m.playState||m.paused)&&m._a.pause()}catch(t){gt._wD(m.id+": setPosition("+n+") failed: "+t.message,2)}}}else if(n)return gt._wD(m.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),m;m.paused&&m._onTimer(!0)}}else e=9===h?m.position:n,m.readyState&&2!==m.readyState&&_t._setPosition(m.id,e,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(t){return m.paused||0===m.playState&&1!==m.readyState?m:(gt._wD(m.id+": pause()"),m.paused=!0,m.isHTML5?(m._setup_html5().pause(),i()):(t||t===o)&&_t._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m),m)},this.resume=function(){var t=m._iO;return m.paused?(gt._wD(m.id+": resume()"),m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),a()):(t.isMovieStar&&!t.serverURL&&m.setPosition(m.position),_t._pause(m.id,t.multiShot)),!g&&t.onplay?(t.onplay.apply(m),g=!0):t.onresume&&t.onresume.apply(m),m):m},this.togglePause=function(){return gt._wD(m.id+": togglePause()"),0===m.playState?(m.play({position:9!==h||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(t,e){return t===o&&(t=0),e===o&&(e=!1),m.isHTML5||_t._setPan(m.id,t),m._iO.pan=t,e||(m.pan=t,m.options.pan=t),m},this.setVolume=function(t,e){return t===o&&(t=100),e===o&&(e=!1),m.isHTML5?m._a&&(gt.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,t/100))):_t._setVolume(m.id,gt.muted&&!m.muted||m.muted?0:t),m._iO.volume=t,e||(m.volume=t,m.options.volume=t),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):_t._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var t=m._iO.volume!==o;return m.isHTML5?m._a&&(m._a.muted=!1):_t._setVolume(m.id,t?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onPosition=function(t,e,n){return y.push({position:parseInt(t,10),method:e,scope:n!==o?n:m,fired:!1}),m},this.onposition=this.onPosition,this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),!isNaN(t))for(n=0;n<y.length;n++)t===y[n].position&&(e&&e!==y[n].method||(y[n].fired&&_--,y.splice(n,1)))},this._processOnPosition=function(){var t,e,n=y.length;if(!n||!m.playState||_>=n)return!1;for(t=n-1;t>=0;t--)e=y[t],!e.fired&&m.position>=e.position&&(e.fired=!0,_++,e.method.apply(e.scope,[e.position]),n=y.length);return!0},this._resetOnPosition=function(t){var e,n,r=y.length;if(!r)return!1;for(e=r-1;e>=0;e--)n=y[e],n.fired&&t<=n.position&&(n.fired=!1,_--);return!0},c=function(){var t,e,n=m._iO,r=n.from,i=n.to;return e=function(){gt._wD(m.id+': "To" time of '+i+" reached."),m.clearOnPosition(i,e),m.stop()},t=function(){gt._wD(m.id+': Playing "from" '+r),null===i||isNaN(i)||m.onPosition(i,e)},null===r||isNaN(r)||(n.position=r,n.multiShot=!1,t()),n},s=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.onPosition(parseInt(t,10),e[t])},u=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.clearOnPosition(parseInt(t,10))},a=function(){m.isHTML5&&X(m)},i=function(){m.isHTML5&&$(m)},e=function(t){t||(y=[],_=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}},e(),this._onTimer=function(t){var e,n,r=!1,i={};return(m._hasTimer||t)&&m._a&&(t||(m.playState>0||1===m.readyState)&&!m.paused)&&(e=m._get_html5_duration(),e!==l.duration&&(l.duration=e,m.duration=e,r=!0),m.durationEstimate=m.duration,n=1e3*m._a.currentTime||0,n!==l.time&&(l.time=n,r=!0),(r||t)&&m._whileplaying(n,i,i,i,i)),r},this._get_html5_duration=function(){var t=m._iO,e=m._a&&m._a.duration?1e3*m._a.duration:t&&t.duration?t.duration:null;return e&&!isNaN(e)&&e!==1/0?e:null},this._apply_loop=function(t,e){!t.loop&&e>1&&gt._wD("Note: Native HTML5 looping is infinite.",1),t.loop=e>1?"loop":""},this._setup_html5=function(t){var r,i=v(m._iO,t),o=Gt?yt:m._a,a=decodeURI(i.url);if(Gt?a===decodeURI(ut)&&(r=!0):a===decodeURI(b)&&(r=!0),o){if(o._s)if(Gt)o._s&&o._s.playState&&!r&&o._s.stop();else if(!Gt&&a===decodeURI(b))return m._apply_loop(o,i.loops),o;r||(b&&e(!1),o.src=i.url,m.url=i.url,b=i.url,ut=i.url,o._called_load=!1)}else i.autoLoad||i.autoPlay?(m._a=new Audio(i.url),m._a.load()):m._a=Kt&&opera.version()<10?new Audio(null):new Audio,o=m._a,o._called_load=!1,Gt&&(yt=o);return m.isHTML5=!0,m._a=o,o._s=m,n(),m._apply_loop(o,i.loops),i.autoLoad||i.autoPlay?m.load():(o.autobuffer=!1,o.preload="auto"),o},n=function(){if(m._a._added_events)return!1;var t;m._a._added_events=!0;for(t in ft)ft.hasOwnProperty(t)&&function(t,e,n){m._a&&m._a.addEventListener(t,e,n||!1)}(t,ft[t]);return!0},r=function(){var t;gt._wD(m.id+": Removing event listeners"),m._a._added_events=!1;for(t in ft)ft.hasOwnProperty(t)&&function(t,e,n){m._a&&m._a.removeEventListener(t,e,n||!1)}(t,ft[t])},this._onload=function(t){var e,n=!!t||!m.isHTML5&&8===h&&m.duration;return e=m.id+": ",gt._wD(e+(n?"onload()":"Failed to load / invalid sound?"+(m.duration?" -":" Zero-length duration reported.")+" ("+m.url+")"),n?1:2),n||m.isHTML5||(!0===gt.sandbox.noRemote&&gt._wD(e+j("noNet"),1),!0===gt.sandbox.noLocal&&gt._wD(e+j("noLocal"),1)),m.loaded=n,m.readyState=n?3:2,m._onbufferchange(0),n||m.isHTML5||m._onerror(),m._iO.onload&&vt(m,function(){m._iO.onload.apply(m,[n])}),!0},this._onerror=function(t,e){m._iO.onerror&&vt(m,function(){m._iO.onerror.apply(m,[t,e])})},this._onbufferchange=function(t){return 0!==m.playState&&(!(t&&m.isBuffering||!t&&!m.isBuffering)&&(m.isBuffering=1===t,m._iO.onbufferchange&&(gt._wD(m.id+": Buffer state change: "+t),m._iO.onbufferchange.apply(m,[t])),!0))},this._onsuspend=function(){return m._iO.onsuspend&&(gt._wD(m.id+": Playback suspended"),m._iO.onsuspend.apply(m)),!0},this._onfailure=function(t,e,n){m.failures++,gt._wD(m.id+": Failure ("+m.failures+"): "+t),m._iO.onfailure&&1===m.failures?m._iO.onfailure(t,e,n):gt._wD(m.id+": Ignoring failure")},this._onwarning=function(t,e,n){m._iO.onwarning&&m._iO.onwarning(t,e,n)},this._onfinish=function(){var t=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(u(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},i(),m.isHTML5&&(m.position=0)),m.instanceCount&&!m._iO.multiShotEvents||t&&(gt._wD(m.id+": onfinish()"),vt(m,function(){t.apply(m)})))},this._whileloading=function(t,e,n,r){var i=m._iO;m.bytesLoaded=t,m.bytesTotal=e,m.duration=Math.floor(n),m.bufferLength=r,m.isHTML5||i.isMovieStar?m.durationEstimate=m.duration:i.duration?m.durationEstimate=m.duration>i.duration?m.duration:i.duration:m.durationEstimate=parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&i.whileloading&&i.whileloading.apply(m)},this._whileplaying=function(t,e,n,r,i){var a,s=m._iO;return!isNaN(t)&&null!==t&&(m.position=Math.max(0,t),m._processOnPosition(),!m.isHTML5&&h>8&&(s.usePeakData&&e!==o&&e&&(m.peakData={left:e.leftPeak,right:e.rightPeak}),s.useWaveformData&&n!==o&&n&&(m.waveformData={left:n.split(","),right:r.split(",")}),s.useEQData&&i!==o&&i&&i.leftEQ&&(a=i.leftEQ.split(","),m.eqData=a,m.eqData.left=a,i.rightEQ!==o&&i.rightEQ&&(m.eqData.right=i.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==h||m.position||!m.isBuffering||m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(t){gt._wD(m.id+": Caption data received."),m.captiondata=t,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[t])},this._onmetadata=function(t,e){gt._wD(m.id+": Metadata received.");var n,r,i={};for(n=0,r=t.length;n<r;n++)i[t[n]]=e[n];m.metadata=i,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(t,e){gt._wD(m.id+": ID3 data received.");var n,r,i=[];for(n=0,r=t.length;n<r;n++)i[t[n]]=e[n];m.id3=v(m.id3,i),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(t){t=1===t,gt._wD(m.id+": "+(t?"Connected.":"Failed to connect? - "+m.url),t?1:2),m.connected=t,t&&(m.failures=0,Y(m.id)&&(m.getAutoPlay()?m.play(o,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[t]))},this._ondataerror=function(t){m.playState>0&&(gt._wD(m.id+": Data error: "+t),m._iO.ondataerror&&m._iO.ondataerror.apply(m))},this._debug()},N=function(){return St.body||St.getElementsByTagName("div")[0]},s=function(t){return St.getElementById(t)},v=function(t,e){var n,r,i=t||{};n=e===o?gt.defaultOptions:e;for(r in n)n.hasOwnProperty(r)&&i[r]===o&&("object"!=typeof n[r]||null===n[r]?i[r]=n[r]:i[r]=v(i[r],n[r]));return i},vt=function(t,e){t.isHTML5||8!==h?e():i.setTimeout(e,0)},g={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},m=function(t,e){var n,r=!0,i=e!==o,a=gt.setupOptions,s=g;if(t===o){r=[];for(n in a)a.hasOwnProperty(n)&&r.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof gt[n]?r.push(n+": {...}"):gt[n]instanceof Function?r.push(n+": function() {...}"):r.push(n));return gt._wD(j("setup",r.join(", "))),!1}for(n in t)if(t.hasOwnProperty(n))if("object"!=typeof t[n]||null===t[n]||t[n]instanceof Array||t[n]instanceof RegExp)i&&s[e]!==o?gt[e][n]=t[n]:a[n]!==o?(gt.setupOptions[n]=t[n],gt[n]=t[n]):s[n]===o?(q(j(gt[n]===o?"setupUndef":"setupError",n),2),r=!1):gt[n]instanceof Function?gt[n].apply(gt,t[n]instanceof Array?t[n]:[t[n]]):gt[n]=t[n];else{if(s[n]!==o)return m(t[n],n);q(j(gt[n]===o?"setupUndef":"setupError",n),2),r=!1}return r},st=function(){function t(t){var e=Ht.call(t),n=e.length;return o?(e[1]="on"+e[1],n>3&&e.pop()):3===n&&e.push(!1),e}function e(t,e){var n=t.shift(),r=[a[e]];o?n[r](t[0],t[1]):n[r].apply(n,t)}function n(){e(t(arguments),"add")}function r(){e(t(arguments),"remove")}var o=i.attachEvent,a={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:n,remove:r}}(),ft={abort:r(function(){gt._wD(this._s.id+": abort")}),canplay:r(function(){var t,e=this._s;if(!e._html5_canplay){if(e._html5_canplay=!0,gt._wD(e.id+": canplay"),e._onbufferchange(0),t=e._iO.position===o||isNaN(e._iO.position)?null:e._iO.position/1e3,this.currentTime!==t){gt._wD(e.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(n){gt._wD(e.id+": canplay: Setting position of "+t+" failed: "+n.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}}),canplaythrough:r(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:r(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(gt._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:r(function(){var t=this._s;gt._wD(t.id+": ended"),t._onfinish()}),error:r(function(){var t=nt[this.error.code]||null;gt._wD(this._s.id+": HTML5 error, code "+this.error.code+(t?" ("+t+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,t)}),loadeddata:r(function(){var t=this._s;gt._wD(t.id+": loadeddata"),t._loaded||Qt||(t.duration=t._get_html5_duration())}),loadedmetadata:r(function(){gt._wD(this._s.id+": loadedmetadata")}),loadstart:r(function(){gt._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){gt._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:r(function(t){var e,n,r,i=this._s,o=0,a="progress"===t.type,s=t.target.buffered,u=t.loaded||0,c=t.total||1;if(i.buffered=[],s&&s.length){for(e=0,n=s.length;e<n;e++)i.buffered.push({start:1e3*s.start(e),end:1e3*s.end(e)});if(o=1e3*(s.end(0)-s.start(0)),u=Math.min(1,o/(1e3*t.target.duration)),a&&s.length>1){for(r=[],n=s.length,e=0;e<n;e++)r.push(1e3*t.target.buffered.start(e)+"-"+1e3*t.target.buffered.end(e));gt._wD(this._s.id+": progress, timeRanges: "+r.join(", "))}a&&!isNaN(u)&&gt._wD(this._s.id+": progress, "+Math.floor(100*u)+"% loaded")}isNaN(u)||(i._whileloading(u,c,i._get_html5_duration()),u&&c&&u===c&&ft.canplaythrough.call(this,t))}),ratechange:r(function(){gt._wD(this._s.id+": ratechange")}),suspend:r(function(t){var e=this._s;gt._wD(this._s.id+": suspend"),ft.progress.call(this,t),e._onsuspend()}),stalled:r(function(){gt._wD(this._s.id+": stalled")}),timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){var t=this._s;gt._wD(this._s.id+": waiting"),t._onbufferchange(1)})},tt=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&n(t.type))&&(t.type?et({type:t.type}):et({url:t.url})||gt.html5Only||t.url.match(/data:/i)))},it=function(t){var e;return t&&(e=Qt?"about:blank":gt.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=e,t._called_unload!==o&&(t._called_load=!1)),Gt&&(ut=null),e},et=function(t){if(!gt.useHTML5Audio||!gt.hasHTML5)return!1;var e,r,i,a,s=t.url||null,u=t.type||null,c=gt.audioFormats;if(u&&gt.html5[u]!==o)return gt.html5[u]&&!n(u);if(!rt){rt=[];for(a in c)c.hasOwnProperty(a)&&(rt.push(a),c[a].related&&(rt=rt.concat(c[a].related)));rt=new RegExp("\\.("+rt.join("|")+")(\\?.*)?$","i")}return i=s?s.toLowerCase().match(rt):null,i&&i.length?i=i[1]:u?(r=u.indexOf(";"),i=(-1!==r?u.substr(0,r):u).substr(6)):e=!1,i&&gt.html5[i]!==o?e=gt.html5[i]&&!n(i):(u="audio/"+i,e=gt.html5.canPlayType({type:u}),gt.html5[i]=e,e=e&&gt.html5[u]&&!n(u)),e},at=function(){function t(t){var e,n,r=!1,o=!1;if(!a||"function"!=typeof a.canPlayType)return r;if(t instanceof Array){for(i=0,n=t.length;i<n;i++)(gt.html5[t[i]]||a.canPlayType(t[i]).match(gt.html5Test))&&(o=!0,gt.html5[t[i]]=!0,gt.flash[t[i]]=!!t[i].match(ie));r=o}else e=!(!a||"function"!=typeof a.canPlayType)&&a.canPlayType(t),r=!(!e||!e.match(gt.html5Test));return r}if(!gt.useHTML5Audio||!gt.hasHTML5)return gt.html5.usingFlash=!0,Vt=!0,!1;var e,n,r,i,a=Audio!==o?Kt&&opera.version()<10?new Audio(null):new Audio:null,s={};r=gt.audioFormats;for(e in r)if(r.hasOwnProperty(e)&&(n="audio/"+e,s[e]=t(r[e].type),s[n]=s[e],e.match(ie)?(gt.flash[e]=!0,gt.flash[n]=!0):(gt.flash[e]=!1,gt.flash[n]=!1),r[e]&&r[e].related))for(i=r[e].related.length-1;i>=0;i--)s["audio/"+r[e].related[i]]=s[e],gt.html5[r[e].related[i]]=s[e],gt.flash[r[e].related[i]]=s[e];return s.canPlayType=a?t:null,gt.html5=v(gt.html5,s),gt.html5.usingFlash=J(),Vt=gt.html5.usingFlash,!0},M={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:bt+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:wt+"Verify that %s is a valid path.",tryDebug:"Try "+bt+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:wt+"Non-HTTP page ("+St.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:wt+"Special case: Waiting for SWF to load with window focus...",waitForever:wt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:wt+"Waiting for 100% SWF load...",needFunction:wt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:wt+"_debug(): Current sound objects",waitOnload:wt+"Waiting for window.onload()",docLoaded:wt+"Document already loaded",onload:wt+"initComplete(): calling soundManager.onload()",onloadOK:bt+".onload() complete",didInit:wt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:wt+"Failed to remove Flash node.",shutdown:bt+".disable(): Shutting down",queue:wt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+V.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:wt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:bt+".load(): current URL already assigned.",badFV:bt+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:wt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:wt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:bt+".setup(): allowed parameters: %s",setupError:bt+'.setup(): "%s" cannot be assigned with this method.',setupUndef:bt+'.setup(): Could not find option "%s"',setupLate:bt+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:wt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:bt+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},j=function(){var t,e,n,r,i;if(t=Ht.call(arguments),r=t.shift(),(i=M&&M[r]?M[r]:"")&&t&&t.length)for(e=0,n=t.length;e<n;e++)i=i.replace("%s",t[e]);return i},G=function(t){return 8===h&&t.loops>1&&t.stream&&(p("as2loop"),t.stream=!1),t},W=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(gt._wD((e||"")+j("policy")),t.usePolicyFile=!0),t},q=function(t){te&&console.warn!==o?console.warn(t):gt._wD(t)},u=function(){return!1},k=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=u);e=null},F=function(t){t===o&&(t=!1),(Nt||t)&&gt.disable(t)},U=function(t){var e;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return e=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+gt.movieURL,gt.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},T=function(){8!==(h=parseInt(gt.flashVersion,10))&&9!==h&&(gt._wD(j("badFV",h,8)),gt.flashVersion=h=8);var t=gt.debugMode||gt.debugFlash?"_debug.swf":".swf";gt.useHTML5Audio&&!gt.html5Only&&gt.audioFormats.mp4.required&&h<9&&(gt._wD(j("needfl9")),gt.flashVersion=h=9),gt.version=gt.versionNumber+(gt.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),h>8?(gt.defaultOptions=v(gt.defaultOptions,gt.flash9Options),gt.features.buffering=!0,gt.defaultOptions=v(gt.defaultOptions,gt.movieStarOptions),gt.filePatterns.flash9=new RegExp("\\.(mp3|"+ue.join("|")+")(\\?.*)?$","i"),gt.features.movieStar=!0):gt.features.movieStar=!1,gt.filePattern=gt.filePatterns[8!==h?"flash9":"flash8"],gt.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),gt.features.peakData=gt.features.waveformData=gt.features.eqData=h>8},L=function(t,e){_t&&_t._setPolling(t,e)},D=function(){if(gt.debugURLParam.test(Tt)&&(gt.setupOptions.debugMode=gt.debugMode=!0),!s(gt.debugID)){var t,e,n,r,i;if(gt.debugMode&&!s(gt.debugID)&&(!te||!gt.useConsole||!gt.consoleOnly)){t=St.createElement("div"),t.id=gt.debugID+"-toggle",r={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},t.appendChild(St.createTextNode("-")),t.onclick=H,t.title="Toggle SM2 debug console",Et.match(/msie 6/i)&&(t.style.position="absolute",t.style.cursor="hand");for(i in r)r.hasOwnProperty(i)&&(t.style[i]=r[i]);if(e=St.createElement("div"),e.id=gt.debugID,e.style.display=gt.debugMode?"block":"none",gt.debugMode&&!s(t.id)){try{n=N(),n.appendChild(t)}catch(t){throw new Error(j("domError")+" \n"+t.toString())}n.appendChild(e)}}n=null}},Y=this.getSoundById,p=function(t,e){return t?gt._wD(j(t),e):""},H=function(){var t=s(gt.debugID),e=s(gt.debugID+"-toggle");t&&(Ct?(e.innerHTML="+",t.style.display="none"):(e.innerHTML="-",t.style.display="block"),Ct=!Ct)},f=function(t,e,n){if(i.sm2Debugger!==o)try{sm2Debugger.handleEvent(t,e,n)}catch(t){return!1}return!0},z=function(){var t=[];return gt.debugMode&&t.push(V.sm2Debug),gt.debugFlash&&t.push(V.flashDebug),gt.useHighPerformance&&t.push(V.highPerf),t.join(" ")},B=function(){var t=j("fbHandler"),e=gt.getMoviePercent(),n=V,r={type:"FLASHBLOCK"};gt.html5Only||(gt.ok()?(gt.didFlashBlock&&gt._wD(t+": Unblocked"),gt.oMC&&(gt.oMC.className=[z(),n.swfDefault,n.swfLoaded+(gt.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Vt&&(gt.oMC.className=z()+" "+n.swfDefault+" "+(null===e?n.swfTimedout:n.swfError),gt._wD(t+": "+j("fbTimeout")+(e?" ("+j("fbLoaded")+")":""))),gt.didFlashBlock=!0,_({type:"ontimeout",ignoreInit:!0,error:r}),P(r)))},y=function(t,e,n){Mt[t]===o&&(Mt[t]=[]),Mt[t].push({method:e,scope:n||null,fired:!1})},_=function(t){if(t||(t={type:gt.ok()?"onready":"ontimeout"}),!Ot&&t&&!t.ignoreInit)return!1;if("ontimeout"===t.type&&(gt.ok()||Nt&&!t.ignoreInit))return!1;var e,n,r={success:t&&t.ignoreInit?gt.ok():!Nt},i=t&&t.type?Mt[t.type]||[]:[],o=[],a=[r],s=Vt&&!gt.ok();for(t.error&&(a[0].error=t.error),e=0,n=i.length;e<n;e++)!0!==i[e].fired&&o.push(i[e]);if(o.length)for(e=0,n=o.length;e<n;e++)o[e].scope?o[e].method.apply(o[e].scope,a):o[e].method.apply(this,a),s||(o[e].fired=!0);return!0},b=function(){i.setTimeout(function(){gt.useFlashBlock&&B(),_(),"function"==typeof gt.onload&&(p("onload",1),gt.onload.apply(i),p("onloadOK",1)),gt.waitForWindowLoad&&st.add(i,"load",b)},1)},lt=function(){if(ct!==o)return ct;var t,e,n,r,a=!1,s=navigator,u=i.ActiveXObject;try{r=s.plugins}catch(t){r=void 0}if(r&&r.length)e="application/x-shockwave-flash",(n=s.mimeTypes)&&n[e]&&n[e].enabledPlugin&&n[e].enabledPlugin.description&&(a=!0);else if(u!==o&&!Et.match(/MSAppHost/i)){try{t=new u("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}a=!!t,t=null}return ct=a,a},J=function(){var t,e,n=gt.audioFormats;if(qt&&!!Et.match(/os (1|2|3_0|3_1)\s/i)?(gt.hasHTML5=!1,gt.html5Only=!0,gt.oMC&&(gt.oMC.style.display="none")):gt.useHTML5Audio&&(gt.html5&&gt.html5.canPlayType||(gt._wD("SoundManager: No HTML5 Audio() support detected."),gt.hasHTML5=!1),Jt&&gt._wD(wt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ct?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),gt.useHTML5Audio&&gt.hasHTML5){Z=!0;for(e in n)n.hasOwnProperty(e)&&n[e].required&&(gt.html5.canPlayType(n[e].type)?gt.preferFlash&&(gt.flash[e]||gt.flash[n[e].type])&&(t=!0):(Z=!1,t=!0))}return gt.ignoreFlash&&(t=!1,Z=!0),gt.html5Only=gt.hasHTML5&&gt.useHTML5Audio&&!t,!gt.html5Only},K=function(t){var e,n,r,i=0;if(t instanceof Array){for(e=0,n=t.length;e<n;e++)if(t[e]instanceof Object){if(gt.canPlayMIME(t[e].type)){i=e;break}}else if(gt.canPlayURL(t[e])){i=e;break}t[i].url&&(t[i]=t[i].url),r=t[i]}else r=t;return r},X=function(t){t._hasTimer||(t._hasTimer=!0,!Zt&&gt.html5PollingInterval&&(null===Bt&&0===jt&&(Bt=setInterval(Q,gt.html5PollingInterval)),jt++))},$=function(t){t._hasTimer&&(t._hasTimer=!1,!Zt&&gt.html5PollingInterval&&jt--)},Q=function(){var t;if(null!==Bt&&!jt)return clearInterval(Bt),void(Bt=null);for(t=gt.soundIDs.length-1;t>=0;t--)gt.sounds[gt.soundIDs[t]].isHTML5&&gt.sounds[gt.soundIDs[t]]._hasTimer&&gt.sounds[gt.soundIDs[t]]._onTimer()},P=function(t){t=t!==o?t:{},"function"==typeof gt.onerror&&gt.onerror.apply(i,[{type:t.type!==o?t.type:null}]),t.fatal!==o&&t.fatal&&gt.disable()},ht=function(){if(Jt&&lt()){var t,e,n=gt.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(gt._wD(bt+": Using flash fallback for "+e+" format"),gt.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)gt.html5[n[e].related[t]]=!1}},this._setSandboxType=function(t){var e=gt.sandbox;e.type=t,e.description=e.types[e.types[t]!==o?t:"unknown"],"localWithFile"===e.type?(e.noRemote=!0,e.noLocal=!1,p("secNote",2)):"localWithNetwork"===e.type?(e.noRemote=!1,e.noLocal=!0):"localTrusted"===e.type&&(e.noRemote=!1,e.noLocal=!1)},this._externalInterfaceOK=function(t){if(!gt.swfLoaded){var e;if(f("swf",!0),f("flashtojs",!0),gt.swfLoaded=!0,ne=!1,Jt&&ht(),!t||t.replace(/\+dev/i,"")!==gt.versionNumber.replace(/\+dev/i,""))return e=bt+': Fatal: JavaScript file build "'+gt.versionNumber+'" does not match Flash SWF build "'+t+'" at '+gt.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(e)},0);setTimeout(l,Xt?100:1)}},R=function(t,e){function n(){var t,e=[],n=[];t="SoundManager "+gt.version+(!gt.html5Only&&gt.useHTML5Audio?gt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),gt.html5Only?gt.html5PollingInterval&&e.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"):(gt.preferFlash&&e.push("preferFlash"),gt.useHighPerformance&&e.push("useHighPerformance"),gt.flashPollingInterval&&e.push("flashPollingInterval ("+gt.flashPollingInterval+"ms)"),gt.html5PollingInterval&&e.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"),gt.wmode&&e.push("wmode ("+gt.wmode+")"),gt.debugFlash&&e.push("debugFlash"),gt.useFlashBlock&&e.push("flashBlock")),e.length&&(n=n.concat([e.join(" + ")])),gt._wD(t+(n.length?" + "+n.join(", "):""),1),pt()}function r(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(At&&It)return!1;if(gt.html5Only)return T(),n(),gt.oMC=s(gt.movieID),l(),At=!0,It=!0,!1;var i,a,u,c,h,f,p,d,v=e||gt.url,m=gt.altURL||v,g=N(),y=z(),_=null,b=St.getElementsByTagName("html")[0];if(_=b&&b.dir&&b.dir.match(/rtl/i),t=t===o?gt.id:t,T(),gt.url=U(oe?v:m),e=gt.url,gt.wmode=!gt.wmode&&gt.useHighPerformance?"transparent":gt.wmode,null!==gt.wmode&&(Et.match(/msie 8/i)||!Xt&&!gt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(zt.push(M.spcWmode),gt.wmode=null),i={name:t,id:t,src:e,quality:"high",allowScriptAccess:gt.allowScriptAccess,bgcolor:gt.bgColor,pluginspage:ae+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:gt.wmode,hasPriority:"true"},gt.debugFlash&&(i.FlashVars="debug=1"),gt.wmode||delete i.wmode,Xt)a=St.createElement("div"),c=['<object id="'+t+'" data="'+e+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',r("movie",e),r("AllowScriptAccess",gt.allowScriptAccess),r("quality",i.quality),gt.wmode?r("wmode",gt.wmode):"",r("bgcolor",gt.bgColor),r("hasPriority","true"),gt.debugFlash?r("FlashVars",i.FlashVars):"","</object>"].join("");else{a=St.createElement("embed");for(u in i)i.hasOwnProperty(u)&&a.setAttribute(u,i[u])}if(D(),y=z(),g=N())if(gt.oMC=s(gt.movieID)||St.createElement("div"),gt.oMC.id)d=gt.oMC.className,gt.oMC.className=(d?d+" ":V.swfDefault)+(y?" "+y:""),gt.oMC.appendChild(a),Xt&&(h=gt.oMC.appendChild(St.createElement("div")),h.className=V.swfBox,h.innerHTML=c),It=!0;else{if(gt.oMC.id=gt.movieID,gt.oMC.className=V.swfDefault+" "+y,f=null,h=null,gt.useFlashBlock||(gt.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},_&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),$t&&(gt.oMC.style.zIndex=1e4),!gt.debugFlash)for(p in f)f.hasOwnProperty(p)&&(gt.oMC.style[p]=f[p]);try{Xt||gt.oMC.appendChild(a),g.appendChild(gt.oMC),Xt&&(h=gt.oMC.appendChild(St.createElement("div")),h.className=V.swfBox,h.innerHTML=c),It=!0}catch(t){throw new Error(j("domError")+" \n"+t.toString())}}return At=!0,n(),!0},C=function(){return gt.html5Only?(R(),!1):!_t&&(gt.url?(_t=gt.getMovie(gt.id),_t||(Dt?(Xt?gt.oMC.innerHTML=kt:gt.oMC.appendChild(Dt),Dt=null,At=!0):R(gt.id,gt.url),_t=gt.getMovie(gt.id)),"function"==typeof gt.oninitmovie&&setTimeout(gt.oninitmovie,1),dt(),!0):(p("noURL"),!1))},w=function(){setTimeout(x,1e3)},E=function(){i.setTimeout(function(){q(wt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),gt.setup({preferFlash:!1}).reboot(),gt.didFlashBlock=!0,gt.beginDelayedInit()},1)},x=function(){var t,e=!1;if(gt.url&&!Ft){if(Ft=!0,st.remove(i,"load",w),ct&&ne&&!ee)return void p("waitFocus");Ot||(t=gt.getMoviePercent())>0&&t<100&&(e=!0),setTimeout(function(){if(t=gt.getMoviePercent(),e)return Ft=!1,gt._wD(j("waitSWF")),void i.setTimeout(w,1);Ot||(gt._wD(bt+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(gt.debugFlash?" "+j("checkSWF"):""),2),!oe&&t&&(p("localFail",2),gt.debugFlash||p("tryDebug",2)),0===t&&gt._wD(j("swf404",gt.url),1),f("flashtojs",!1,": Timed out"+(oe?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Ot&&re&&(null===t?gt.useFlashBlock||0===gt.flashLoadTimeout?(gt.useFlashBlock&&B(),p("waitForever")):!gt.useFlashBlock&&Z?E():(p("waitForever"),_({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===gt.flashLoadTimeout?p("waitForever"):!gt.useFlashBlock&&Z?E():F(!0))},gt.flashLoadTimeout)}},S=function(){function t(){st.remove(i,"focus",S)}return ee||!ne?(t(),!0):(re=!0,ee=!0,p("gotFocus"),Ft=!1,w(),t(),!0)},dt=function(){zt.length&&(gt._wD("SoundManager 2: "+zt.join(" "),1),zt=[])},pt=function(){dt();var t,e=[];if(gt.useHTML5Audio&&gt.hasHTML5){for(t in gt.audioFormats)gt.audioFormats.hasOwnProperty(t)&&e.push(t+" = "+gt.html5[t]+(!gt.html5[t]&&Vt&&gt.flash[t]?" (using flash)":gt.preferFlash&&gt.flash[t]&&Vt?" (preferring flash)":gt.html5[t]?"":" ("+(gt.audioFormats[t].required?"required, ":"")+"and no flash support)"));gt._wD("SoundManager 2 HTML5 support: "+e.join(", "),1)}},d=function(t){if(Ot)return!1;if(gt.html5Only)return p("sm2Loaded",1),Ot=!0,b(),f("onload",!0),!0;var e,n=gt.useFlashBlock&&gt.flashLoadTimeout&&!gt.getMoviePercent(),r=!0;return n||(Ot=!0),e={type:!ct&&Vt?"NO_FLASH":"INIT_TIMEOUT"},gt._wD("SoundManager 2 "+(Nt?"failed to load":"loaded")+" ("+(Nt?"Flash security/load error":"OK")+") "+String.fromCharCode(Nt?10006:10003),Nt?2:1),Nt||t?(gt.useFlashBlock&&gt.oMC&&(gt.oMC.className=z()+" "+(null===gt.getMoviePercent()?V.swfTimedout:V.swfError)),_({type:"ontimeout",error:e,ignoreInit:!0}),f("onload",!1),P(e),r=!1):f("onload",!0),Nt||(gt.waitForWindowLoad&&!Rt?(p("waitOnload"),st.add(i,"load",b)):(gt.waitForWindowLoad&&Rt&&p("docLoaded"),b())),r},c=function(){var t,e=gt.setupOptions;for(t in e)e.hasOwnProperty(t)&&(gt[t]===o?gt[t]=e[t]:gt[t]!==e[t]&&(gt.setupOptions[t]=gt[t]))},l=function(){function t(){st.remove(i,"load",gt.beginDelayedInit)}if(Ot)return p("didInit"),!1;if(gt.html5Only)return Ot||(t(),gt.enabled=!0,d()),!0;C();try{_t._externalInterfaceTest(!1),L(!0,gt.flashPollingInterval||(gt.useHighPerformance?10:50)),gt.debugMode||_t._disableDebug(),gt.enabled=!0,f("jstoflash",!0),gt.html5Only||st.add(i,"unload",u)}catch(t){return gt._wD("js/flash exception: "+t.toString()),f("jstoflash",!1),P({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),F(!0),d(),!1}return d(),t(),!0},A=function(){return!O&&(O=!0,c(),D(),!ct&&gt.hasHTML5&&(gt._wD("SoundManager 2: No Flash detected"+(gt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),gt.setup({useHTML5Audio:!0,preferFlash:!1})),at(),!ct&&Vt&&(zt.push(M.needFlash),gt.setup({flashLoadTimeout:1})),St.removeEventListener&&St.removeEventListener("DOMContentLoaded",A,!1),C(),!0)},ot=function(){return"complete"===St.readyState&&(A(),St.detachEvent("onreadystatechange",ot)),!0},I=function(){Rt=!0,A(),st.remove(i,"load",I)},lt(),st.add(i,"focus",S),st.add(i,"load",w),st.add(i,"load",I),St.addEventListener?St.addEventListener("DOMContentLoaded",A,!1):St.attachEvent?St.attachEvent("onreadystatechange",ot):(f("onload",!1),P({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!i||!i.document)throw new Error("SoundManager requires a browser with window and document objects.");var s=null;i.SM2_DEFER!==o&&SM2_DEFER||(s=new a),"object"==typeof t&&t&&"object"==typeof t.exports?(t.exports.SoundManager=a,t.exports.soundManager=s):void 0!==(r=function(){function t(t){if(!i.soundManager&&t instanceof Function){var e=t(a);e instanceof a&&(i.soundManager=e)}return i.soundManager}return{constructor:a,getInstance:t}}.call(e,n,e,t))&&(t.exports=r),i.SoundManager=a,i.soundManager=s}(window)}).call(e,n(227)(t))},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e,n){void 0===e&&(e={});var r,i=n||u;try{r=i(t||"")}catch(t){r={}}for(var o in e)r[o]=e[o];return r}function u(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=Bt(n.shift()),i=n.length>0?Bt(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}),e):e}function c(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return jt(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(jt(e)):r.push(jt(e)+"="+jt(t)))}),r.join("&")}return jt(e)+"="+jt(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function l(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=h(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:p(e,i),matched:t?f(t):[]};return n&&(a.redirectedFrom=p(n,i)),Object.freeze(a)}function h(t){if(Array.isArray(t))return t.map(h);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=h(t[n]);return e}return t}function f(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function p(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||c;return(n||"/")+o(r)+i}function d(t,e){return e===Vt?t===e:!!e&&(t.path&&e.path?t.path.replace(zt,"")===e.path.replace(zt,"")&&t.hash===e.hash&&v(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&v(t.query,e.query)&&v(t.params,e.params)))}function v(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){var r=t[n],i=e[n];return"object"==typeof r&&"object"==typeof i?v(r,i):String(r)===String(i)})}function m(t,e){return 0===t.path.replace(zt,"/").indexOf(e.path.replace(zt,"/"))&&(!e.hash||t.hash===e.hash)&&g(t.query,e.query)}function g(t,e){for(var n in e)if(!(n in t))return!1;return!0}function y(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){if(/\b_blank\b/i.test(t.currentTarget.getAttribute("target")))return}return t.preventDefault&&t.preventDefault(),!0}}function _(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=_(e.children)))return e}}function b(t){if(!b.installed||Lt!==t){b.installed=!0,Lt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",Dt),t.component("router-link",Wt);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}function w(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function x(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function E(t){return t.replace(/\/\//g,"/")}function T(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=Jt.exec(t));){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=t[o],f=n[2],p=n[3],d=n[4],v=n[5],m=n[6],g=n[7];a&&(r.push(a),a="");var y=null!=f&&null!=h&&h!==f,_="+"===m||"*"===m,b="?"===m||"*"===m,w=n[2]||s,x=d||v;r.push({name:p||i++,prefix:f||"",delimiter:w,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:x?O(x):g?".*":"[^"+I(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function S(t,e){return A(T(t,e))}function M(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function C(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function A(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=n||{},a=r||{},s=a.pretty?M:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!=typeof c){var l,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Yt(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(l=s(h[f]),!e[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?C(h):s(h),!e[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function I(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function O(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function N(t,e){return t.keys=e,t}function R(t){return t.sensitive?"":"i"}function P(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return N(t,e)}function L(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(F(t[i],e,n).source);return N(new RegExp("(?:"+r.join("|")+")",R(n)),e)}function D(t,e,n){return k(T(t,n),e,n)}function k(t,e,n){Yt(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=I(s);else{var u=I(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var l=I(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",N(new RegExp("^"+o,R(n)),e)}function F(t,e,n){return Yt(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?P(t,e):Yt(t)?L(t,e,n):D(t,e,n)}function U(t,e,n){try{return(te[t]||(te[t]=Xt.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function j(t,e,n,r){var i=e||[],o=n||Object.create(null),a=r||Object.create(null);t.forEach(function(t){B(i,o,a,t)});for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:o,nameMap:a}}function B(t,e,n,r,i,o){var a=r.path,s=r.name,u=r.pathToRegexpOptions||{},c=V(a,i,u.strict);"boolean"==typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:z(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var i=o?E(o+"/"+r.path):void 0;B(t,e,n,r,l,i)}),void 0!==r.alias){(Array.isArray(r.alias)?r.alias:[r.alias]).forEach(function(o){var a={path:o,children:r.children};B(t,e,n,a,i,l.path||"/")})}e[l.path]||(t.push(l.path),e[l.path]=l),s&&(n[s]||(n[s]=l))}function z(t,e){var n=Xt(t,[],e);return n}function V(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:E(e.path+"/"+t)}function H(t,e,n,r){var i="string"==typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){i=G({},i),i._normalized=!0;var o=G(G({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=U(a,o,"path "+e.path)}return i}var u=x(i.path||""),c=e&&e.path||"/",l=u.path?w(u.path,c,n||i.append):c,h=s(u.query,i.query,r&&r.options.parseQuery),f=i.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:l,query:h,hash:f}}function G(t,e){for(var n in e)t[n]=e[n];return t}function W(t,e){function n(t){j(t,u,c,h)}function r(t,n,r){var i=H(t,n,!1,e),o=i.name;if(o){var s=h[o];if(!s)return a(null,i);var l=s.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof i.params&&(i.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in i.params)&&l.indexOf(f)>-1&&(i.params[f]=n.params[f]);if(s)return i.path=U(s.path,i.params,'named route "'+o+'"'),a(s,i,r)}else if(i.path){i.params={};for(var p=0;p<u.length;p++){var d=u[p],v=c[d];if(q(v.regex,i.path,i.params))return a(v,i,r)}}return a(null,i)}function i(t,n){var i=t.redirect,o="function"==typeof i?i(l(t,n,null,e)):i;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return a(null,n);var s=o,u=s.name,c=s.path,f=n.query,p=n.hash,d=n.params;if(f=s.hasOwnProperty("query")?s.query:f,p=s.hasOwnProperty("hash")?s.hash:p,d=s.hasOwnProperty("params")?s.params:d,u){h[u];return r({_normalized:!0,name:u,query:f,hash:p,params:d},void 0,n)}if(c){var v=Y(c,t);return r({_normalized:!0,path:U(v,d,'redirect route with path "'+v+'"'),query:f,hash:p},void 0,n)}return a(null,n)}function o(t,e,n){var i=U(n,e.params,'aliased route with path "'+n+'"'),o=r({_normalized:!0,path:i});if(o){var s=o.matched,u=s[s.length-1];return e.params=o.params,a(u,e)}return a(null,e)}function a(t,n,r){return t&&t.redirect?i(t,r||n):t&&t.matchAs?o(t,n,t.matchAs):l(t,n,r,e)}var s=j(t),u=s.pathList,c=s.pathMap,h=s.nameMap;return{match:r,addRoutes:n}}function q(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];a&&(n[a.name]=s)}return!0}function Y(t,e){return w(t,e.parent?e.parent.path:"/",!0)}function X(){window.history.replaceState({key:ot()},""),window.addEventListener("popstate",function(t){Q(),t.state&&t.state.key&&at(t.state.key)})}function $(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var t=K(),o=i(e,n,r?t:null);o&&("function"==typeof o.then?o.then(function(e){rt(e,t)}).catch(function(t){}):rt(o,t))})}}function Q(){var t=ot();t&&(ee[t]={x:window.pageXOffset,y:window.pageYOffset})}function K(){var t=ot();if(t)return ee[t]}function Z(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function J(t){return nt(t.x)||nt(t.y)}function tt(t){return{x:nt(t.x)?t.x:window.pageXOffset,y:nt(t.y)?t.y:window.pageYOffset}}function et(t){return{x:nt(t.x)?t.x:0,y:nt(t.y)?t.y:0}}function nt(t){return"number"==typeof t}function rt(t,e){var n="object"==typeof t;if(n&&"string"==typeof t.selector){var r=document.querySelector(t.selector);if(r){var i=t.offset&&"object"==typeof t.offset?t.offset:{};i=et(i),e=Z(r,i)}else J(t)&&(e=tt(t))}else n&&J(t)&&(e=tt(t));e&&window.scrollTo(e.x,e.y)}function it(){return re.now().toFixed(3)}function ot(){return ie}function at(t){ie=t}function st(t,e){Q();var n=window.history;try{e?n.replaceState({key:ie},"",t):(ie=it(),n.pushState({key:ie},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function ut(t){st(t,!0)}function ct(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],function(){r(i+1)}):r(i+1)};r(0)}function lt(t){return function(e,n,r){var o=!1,a=0,s=null;ht(t,function(t,e,n,u){if("function"==typeof t&&void 0===t.cid){o=!0,a++;var c,l=dt(function(e){pt(e)&&(e=e.default),t.resolved="function"==typeof e?e:Lt.extend(e),n.components[u]=e,--a<=0&&r()}),h=dt(function(t){var e="Failed to resolve async component "+u+": "+t;s||(s=i(t)?t:new Error(e),r(s))});try{c=t(l,h)}catch(t){h(t)}if(c)if("function"==typeof c.then)c.then(l,h);else{var f=c.component;f&&"function"==typeof f.then&&f.then(l,h)}}}),o||r()}}function ht(t,e){return ft(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function ft(t){return Array.prototype.concat.apply([],t)}function pt(t){return t.__esModule||oe&&"Module"===t[Symbol.toStringTag]}function dt(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}function vt(t){if(!t)if(qt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function mt(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function gt(t,e,n,r){var i=ht(t,function(t,r,i,o){var a=yt(t,e);if(a)return Array.isArray(a)?a.map(function(t){return n(t,r,i,o)}):n(a,r,i,o)});return ft(r?i.reverse():i)}function yt(t,e){return"function"!=typeof t&&(t=Lt.extend(t)),t.options[e]}function _t(t){return gt(t,"beforeRouteLeave",wt,!0)}function bt(t){return gt(t,"beforeRouteUpdate",wt)}function wt(t,e){if(e)return function(){return t.apply(e,arguments)}}function xt(t,e,n){return gt(t,"beforeRouteEnter",function(t,r,i,o){return Et(t,i,o,e,n)})}function Et(t,e,n,r,i){return function(o,a,s){return t(o,a,function(t){s(t),"function"==typeof t&&r.push(function(){Tt(t,e.instances,n,i)})})}}function Tt(t,e,n,r){e[n]?t(e[n]):r()&&setTimeout(function(){Tt(t,e,n,r)},16)}function St(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function Mt(t){var e=St(t);if(!/^\/#/.test(e))return window.location.replace(E(t+"/#"+e)),!0}function Ct(){var t=At();return"/"===t.charAt(0)||(Nt("/"+t),!1)}function At(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function It(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Ot(t){ne?st(It(t)):window.location.hash=t}function Nt(t){ne?ut(It(t)):window.location.replace(It(t))}function Rt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Pt(t,e,n){var r="hash"===n?"#"+e:e;return t?E(t+"/"+r):r}var Lt,Dt={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,s=e.data;s.routerView=!0;for(var u=i.$createElement,c=n.name,l=i.$route,h=i._routerViewCache||(i._routerViewCache={}),f=0,p=!1;i&&i._routerRoot!==i;)i.$vnode&&i.$vnode.data.routerView&&f++,i._inactive&&(p=!0),i=i.$parent;if(s.routerViewDepth=f,p)return u(h[c],s,r);var d=l.matched[f];if(!d)return h[c]=null,u();var v=h[c]=d.components[c];s.registerRouteInstance=function(t,e){var n=d.instances[c];(e&&n!==t||!e&&n===t)&&(d.instances[c]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){d.instances[c]=e.componentInstance};var m=s.props=o(l,d.props&&d.props[c]);if(m){m=s.props=a({},m);var g=s.attrs=s.attrs||{};for(var y in m)v.props&&y in v.props||(g[y]=m[y],delete m[y])}return u(v,s,r)}},kt=/[!'()*]/g,Ft=function(t){return"%"+t.charCodeAt(0).toString(16)},Ut=/%2C/g,jt=function(t){return encodeURIComponent(t).replace(kt,Ft).replace(Ut,",")},Bt=decodeURIComponent,zt=/\/?$/,Vt=l(null,{path:"/"}),Ht=[String,Object],Gt=[String,Array],Wt={name:"router-link",props:{to:{type:Ht,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:Gt,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,a=i.route,s=i.href,u={},c=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==c?"router-link-active":c,p=null==h?"router-link-exact-active":h,v=null==this.activeClass?f:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,b=o.path?l(null,o,null,n):a;u[g]=d(r,b),u[v]=this.exact?u[g]:m(r,b);var w=function(t){y(t)&&(e.replace?n.replace(o):n.push(o))},x={click:y};Array.isArray(this.event)?this.event.forEach(function(t){x[t]=w}):x[this.event]=w;var E={class:u};if("a"===this.tag)E.on=x,E.attrs={href:s};else{var T=_(this.$slots.default);if(T){T.isStatic=!1;var S=Lt.util.extend;(T.data=S({},T.data)).on=x;(T.data.attrs=S({},T.data.attrs)).href=s}else E.on=x}return t(this.tag,E,this.$slots.default)}},qt="undefined"!=typeof window,Yt=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},Xt=F,$t=T,Qt=S,Kt=A,Zt=k,Jt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Xt.parse=$t,Xt.compile=Qt,Xt.tokensToFunction=Kt,Xt.tokensToRegExp=Zt;var te=Object.create(null),ee=Object.create(null),ne=qt&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),re=qt&&window.performance&&window.performance.now?window.performance:Date,ie=it(),oe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ae=function(t,e){this.router=t,this.base=vt(e),this.current=Vt,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};ae.prototype.listen=function(t){this.cb=t},ae.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ae.prototype.onError=function(t){this.errorCbs.push(t)},ae.prototype.transitionTo=function(t,e,n){var r=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(i)}))},function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)}))})},ae.prototype.confirmTransition=function(t,e,n){var o=this,a=this.current,s=function(t){i(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(d(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var u=mt(this.current.matched,t.matched),c=u.updated,l=u.deactivated,h=u.activated,f=[].concat(_t(l),this.router.beforeHooks,bt(c),h.map(function(t){return t.beforeEnter}),lt(h));this.pending=t;var p=function(e,n){if(o.pending!==t)return s();try{e(t,a,function(t){!1===t||i(t)?(o.ensureURL(!0),s(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(s(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):n(t)})}catch(t){s(t)}};ct(f,p,function(){var n=[];ct(xt(h,n,function(){return o.current===t}).concat(o.router.resolveHooks),p,function(){if(o.pending!==t)return s();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},ae.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var se=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior;i&&X();var o=St(this.base);window.addEventListener("popstate",function(t){var n=r.current,a=St(r.base);r.current===Vt&&a===o||r.transitionTo(a,function(t){i&&$(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){st(E(r.base+t.fullPath)),$(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){ut(E(r.base+t.fullPath)),$(r.router,t,o,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(St(this.base)!==this.current.fullPath){var e=E(this.base+this.current.fullPath);t?st(e):ut(e)}},e.prototype.getCurrentLocation=function(){return St(this.base)},e}(ae),ue=function(t){function e(e,n,r){t.call(this,e,n),r&&Mt(this.base)||Ct()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,r=ne&&n;r&&X(),window.addEventListener(ne?"popstate":"hashchange",function(){var e=t.current;Ct()&&t.transitionTo(At(),function(n){r&&$(t.router,n,e,!0),ne||Nt(n.fullPath)})})},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){Ot(t.fullPath),$(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){Nt(t.fullPath),$(r.router,t,o,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;At()!==e&&(t?Ot(e):Nt(e))},e.prototype.getCurrentLocation=function(){return At()},e}(ae),ce=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ae),le=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=W(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!ne&&!1!==t.fallback,this.fallback&&(e="hash"),qt||(e="abstract"),this.mode=e,e){case"history":this.history=new se(this,t.base);break;case"hash":this.history=new ue(this,t.base,this.fallback);break;case"abstract":this.history=new ce(this,t.base)}},he={currentRoute:{configurable:!0}};le.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},he.currentRoute.get=function(){return this.history&&this.history.current},le.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof se)n.transitionTo(n.getCurrentLocation());else if(n instanceof ue){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},le.prototype.beforeEach=function(t){return Rt(this.beforeHooks,t)},le.prototype.beforeResolve=function(t){return Rt(this.resolveHooks,t)},le.prototype.afterEach=function(t){return Rt(this.afterHooks,t)},le.prototype.onReady=function(t,e){this.history.onReady(t,e)},le.prototype.onError=function(t){this.history.onError(t)},le.prototype.push=function(t,e,n){this.history.push(t,e,n)},le.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},le.prototype.go=function(t){this.history.go(t)},le.prototype.back=function(){this.go(-1)},le.prototype.forward=function(){this.go(1)},le.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},le.prototype.resolve=function(t,e,n){var r=H(t,e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:Pt(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},le.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Vt&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(le.prototype,he),le.install=b,le.version="2.8.1",qt&&window.Vue&&window.Vue.use(le),e.a=le},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s=o[1],u=o[2],c=o[3],l={id:t+":"+i,css:s,media:u,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&_(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t){var e=new i;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];m.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=p,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,r){var i=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=l[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(o(n.parts[i]));l[n.id]={id:n.id,refs:1,parts:a}}}}function i(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function o(t){var e,n,r=document.querySelector("style["+g+'~="'+t.id+'"]');if(r){if(d)return v;r.parentNode.removeChild(r)}if(y){var o=p++;r=f||(f=i()),e=a.bind(null,r,o,!1),n=a.bind(null,r,o,!0)}else r=i(),e=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function a(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function s(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),m.ssrId&&t.setAttribute(g,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(654),l={},h=u&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,d=!1,v=function(){},m=null,g="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,i){d=n,m=i||{};var o=c(t,e);return r(o),function(e){for(var n=[],i=0;i<o.length;i++){var a=o[i],s=l[a.id];s.refs--,n.push(s)}e?(o=c(t,e),r(o)):o=[];for(var i=0;i<n.length;i++){var s=n[i];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete l[s.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);